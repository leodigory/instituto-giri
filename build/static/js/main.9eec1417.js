/*! For license information please see main.9eec1417.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),A=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var v=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function b(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case w:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var _,F,N=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign;function D(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",F=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+F}var Q=!1;function x(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(A){var r=A}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var a=s.split("\n"),l=o.split("\n");for(A=r=0;r<a.length&&!a[r].includes("DetermineComponentFrameRoot");)r++;for(;A<l.length&&!l[A].includes("DetermineComponentFrameRoot");)A++;if(r===a.length||A===l.length)for(r=a.length-1,A=l.length-1;1<=r&&0<=A&&a[r]!==l[A];)A--;for(;1<=r&&0<=A;r--,A--)if(a[r]!==l[A]){if(1!==r||1!==A)do{if(r--,0>--A||a[r]!==l[A]){var c="\n"+a[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=A);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?D(n):""}function R(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=x(e.type,!1);case 11:return e=x(e.type.render,!1);case 1:return e=x(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=R(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function O(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function L(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function k(e){if(O(e)!==e)throw Error(s(188))}function P(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=P(e)))return t;e=e.sibling}return null}var H=Array.isArray,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},K=[],G=-1;function z(e){return{current:e}}function W(e){0>G||(e.current=K[G],K[G]=null,G--)}function X(e,t){G++,K[G]=e.current,e.current=t}var Y=z(null),q=z(null),$=z(null),J=z(null);function Z(e,t){switch(X($,t),X(q,e),X(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?qc(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=$c(e=qc(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Y),X(Y,t)}function ee(){W(Y),W(q),W($)}function te(e){null!==e.memoizedState&&X(J,e);var t=Y.current,n=$c(t,e.type);t!==n&&(X(q,e),X(Y,n))}function ne(e){q.current===e&&(W(Y),W(q)),J.current===e&&(W(J),Mu._currentValue=V)}var re=Object.prototype.hasOwnProperty,Ae=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,ae=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,de=r.unstable_LowPriority,fe=r.unstable_IdlePriority,ge=r.log,pe=r.unstable_setDisableYieldValue,me=null,we=null;function ye(e){if("function"===typeof ge&&pe(e),we&&"function"===typeof we.setStrictMode)try{we.setStrictMode(me,e)}catch(t){}}var Ce=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Be(e)/ve|0)|0},Be=Math.log,ve=Math.LN2;var Ee=128,Ie=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,A=e.suspendedLanes,i=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~A)?r=be(n):0!==(i&=o)?r=be(i):e||0!==(s=o&~s)&&(r=be(s)):0!==(o=n&~A)?r=be(o):0!==i?r=be(i):e||0!==(s=n&~s)&&(r=be(s)),0===r?0:0!==t&&t!==r&&0===(t&A)&&((A=r&-r)>=(s=t&-t)||32===A&&0!==(4194176&s))?t:r}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Fe(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Ne(){var e=Ie;return 0===(62914560&(Ie<<=1))&&(Ie=4194304),e}function Ue(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ce(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ce(n),A=1<<r;A&t|e[r]&t&&(e[r]|=t),n&=~A}}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:$u(e.type)}var Oe=Math.random().toString(36).slice(2),Le="__reactFiber$"+Oe,ke="__reactProps$"+Oe,Pe="__reactContainer$"+Oe,He="__reactEvents$"+Oe,je="__reactListeners$"+Oe,Ve="__reactHandles$"+Oe,Ke="__reactResources$"+Oe,Ge="__reactMarker$"+Oe;function ze(e){delete e[Le],delete e[ke],delete e[He],delete e[je],delete e[Ve]}function We(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=au(e);null!==e;){if(n=e[Le])return n;e=au(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Le]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Ge]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),At={},it={};function st(e,t,n){if(A=t,re.call(it,A)||!re.call(At,A)&&(rt.test(A)?it[A]=!0:(At[A]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var A}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var A=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return A.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function dt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function gt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function pt(e,t,n,r,A,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,lt(t)):null!=n?wt(e,s,lt(n)):null!=r&&e.removeAttribute("value"),null==A&&null!=i&&(e.defaultChecked=!!i),null!=A&&(e.checked=A&&"function"!==typeof A&&"symbol"!==typeof A),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+lt(o):e.removeAttribute("name")}function mt(e,t,n,r,A,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:A)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function wt(e,t,n){"number"===t&&dt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var A=0;A<n.length;A++)t["$"+n[A]]=!0;for(n=0;n<e.length;n++)A=t.hasOwnProperty("$"+e[n].value),e[n].selected!==A&&(e[n].selected=A),A&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,A=0;A<e.length;A++){if(e[A].value===n)return e[A].selected=!0,void(r&&(e[A].defaultSelected=!0));null!==t||e[A].disabled||(t=e[A])}null!==t&&(t.selected=!0)}}function Ct(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Bt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(H(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function vt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var A in t)r=t[A],t.hasOwnProperty(A)&&n[A]!==r&&It(e,A,r)}else for(var i in t)t.hasOwnProperty(i)&&It(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Qt=null;function xt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(pt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var A=r[ke]||null;if(!A)throw Error(s(90));pt(r,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":Ct(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Mt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Dt||null!==Qt)&&(Ll(),Dt&&(t=Dt,e=Qt,Qt=Dt=null,xt(t),e)))for(t=0;t<e.length;t++)xt(e[t])}}function Ot(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ke]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Lt=!1;if(nt)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch(Bh){Lt=!1}var Pt=null,Ht=null,jt=null;function Vt(){if(jt)return jt;var e,t,n=Ht,r=n.length,A="value"in Pt?Pt.value:Pt.textContent,i=A.length;for(e=0;e<r&&n[e]===A[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===A[i-t];t++);return jt=A.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function zt(){return!1}function Wt(e){function t(t,n,r,A,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=A,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(A):A[s]);return this.isDefaultPrevented=(null!=A.defaultPrevented?A.defaultPrevented:!1===A.returnValue)?Gt:zt,this.isPropagationStopped=zt,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Yt,qt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Wt($t),Zt=U({},$t,{view:0,detail:0}),en=Wt(Zt),tn=U({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qt&&(qt&&"mousemove"===e.type?(Xt=e.screenX-qt.screenX,Yt=e.screenY-qt.screenY):Yt=Xt=0,qt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Wt(tn),rn=Wt(U({},tn,{dataTransfer:0})),An=Wt(U({},Zt,{relatedTarget:0})),sn=Wt(U({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Wt(U({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),an=Wt(U({},$t,{data:0})),ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function dn(){return hn}var fn=Wt(U({},Zt,{key:function(e){if(e.key){var t=ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Wt(U({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),pn=Wt(U({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dn})),mn=Wt(U({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Wt(U({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Wt(U({},$t,{newState:0,oldState:0})),Cn=[9,13,27,32],Bn=nt&&"CompositionEvent"in window,vn=null;nt&&"documentMode"in document&&(vn=document.documentMode);var En=nt&&"TextEvent"in window&&!vn,In=nt&&(!Bn||vn&&8<vn&&11>=vn),bn=String.fromCharCode(32),Sn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Dn(e,t,n,r){Dt?Qt?Qt.push(r):Qt=[r]:Dt=r,0<(t=Mc(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,xn=null;function Rn(e){_c(e,0)}function Mn(e){if(ht(Ye(e)))return e}function On(e,t){if("change"===e)return t}var Ln=!1;if(nt){var kn;if(nt){var Pn="oninput"in document;if(!Pn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Pn="function"===typeof Hn.oninput}kn=Pn}else kn=!1;Ln=kn&&(!document.documentMode||9<document.documentMode)}function jn(){Qn&&(Qn.detachEvent("onpropertychange",Vn),xn=Qn=null)}function Vn(e){if("value"===e.propertyName&&Mn(xn)){var t=[];Dn(t,xn,e,Ut(e)),Mt(Rn,t)}}function Kn(e,t,n){"focusin"===e?(jn(),xn=n,(Qn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&jn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(xn)}function zn(e,t){if("click"===e)return Mn(t)}function Wn(e,t){if("input"===e||"change"===e)return Mn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var A=n[r];if(!re.call(t,A)||!Xn(e[A],t[A]))return!1}return!0}function qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=dt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dt((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var A=t.textContent.length,i=Math.min(r.start,A);r=void 0===r.end?i:Math.min(r.end,A),!n.extend&&i>r&&(A=r,r=i,i=A),A=$n(t,i);var s=$n(t,r);A&&s&&(1!==n.rangeCount||n.anchorNode!==A.node||n.anchorOffset!==A.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(A.node,A.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,Ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==dt(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Mc(Ar,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},cr={},ur={};function hr(e){if(cr[e])return cr[e];if(!lr[e])return e;var t,n=lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return cr[e]=n[t];return e}nt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var dr=hr("animationend"),fr=hr("animationiteration"),gr=hr("animationstart"),pr=hr("transitionrun"),mr=hr("transitionstart"),wr=hr("transitioncancel"),yr=hr("transitionend"),Cr=new Map,Br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vr(e,t){Cr.set(e,t),et(t,[e])}var Er=[],Ir=0,br=0;function Sr(){for(var e=Ir,t=br=Ir=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var A=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==A){var s=r.pending;null===s?A.next=A:(A.next=s.next,s.next=A),r.pending=A}0!==i&&Nr(n,A,i)}}function Tr(e,t,n,r){Er[Ir++]=e,Er[Ir++]=t,Er[Ir++]=n,Er[Ir++]=r,br|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return Tr(e,t,n,r),Ur(e)}function Fr(e,t){return Tr(e,null,null,t),Ur(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var A=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(A=!0)),e=i,i=i.return;A&&null!==t&&3===e.tag&&(i=e.stateNode,A=31-Ce(n),null===(e=(i=i.hiddenUpdates)[A])?i[A]=[t]:e.push(t),t.lane=536870912|n)}function Ur(e){if(50<_l)throw _l=0,Fl=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={},Qr=new WeakMap;function xr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Rr=[],Mr=0,Or=null,Lr=0,kr=[],Pr=0,Hr=null,jr=1,Vr="";function Kr(e,t){Rr[Mr++]=Lr,Rr[Mr++]=Or,Or=e,Lr=t}function Gr(e,t,n){kr[Pr++]=jr,kr[Pr++]=Vr,kr[Pr++]=Hr,Hr=e;var r=jr;e=Vr;var A=32-Ce(r)-1;r&=~(1<<A),n+=1;var i=32-Ce(t)+A;if(30<i){var s=A-A%5;i=(r&(1<<s)-1).toString(32),r>>=s,A-=s,jr=1<<32-Ce(t)+A|n<<A|r,Vr=i+e}else jr=1<<i|n<<A|r,Vr=e}function zr(e){null!==e.return&&(Kr(e,1),Gr(e,1,0))}function Wr(e){for(;e===Or;)Or=Rr[--Mr],Rr[Mr]=null,Lr=Rr[--Mr],Rr[Mr]=null;for(;e===Hr;)Hr=kr[--Pr],kr[Pr]=null,Vr=kr[--Pr],kr[Pr]=null,jr=kr[--Pr],kr[Pr]=null}var Xr=null,Yr=null,qr=!1,$r=null,Jr=!1,Zr=Error(s(519));function eA(e){throw iA(xr(Error(s(418,"")),e)),Zr}function tA(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Le]=e,t[ke]=r,n){case"dialog":Fc("cancel",t),Fc("close",t);break;case"iframe":case"object":case"embed":Fc("load",t);break;case"video":case"audio":for(n=0;n<Sc.length;n++)Fc(Sc[n],t);break;case"source":Fc("error",t);break;case"img":case"image":case"link":Fc("error",t),Fc("load",t);break;case"details":Fc("toggle",t);break;case"input":Fc("invalid",t),mt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Fc("invalid",t);break;case"textarea":Fc("invalid",t),Bt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||jc(t.textContent,n)?(null!=r.popover&&(Fc("beforetoggle",t),Fc("toggle",t)),null!=r.onScroll&&Fc("scroll",t),null!=r.onScrollEnd&&Fc("scrollend",t),null!=r.onClick&&(t.onclick=Vc),t=!0):t=!1,t||eA(e)}function nA(e){for(Xr=e.return;Xr;)switch(Xr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Xr=Xr.return}}function rA(e){if(e!==Xr)return!1;if(!qr)return nA(e),qr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jc(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&eA(e),nA(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=ou(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Xr?ou(e.stateNode.nextSibling):null;return!0}function AA(){Yr=Xr=null,qr=!1}function iA(e){null===$r?$r=[e]:$r.push(e)}var sA=Error(s(460)),oA=Error(s(474)),aA={then:function(){}};function lA(e){return"fulfilled"===(e=e.status)||"rejected"===e}function cA(){}function uA(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(cA,cA),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===sA)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(cA,cA);else{if(null!==(e=tl)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===sA)throw Error(s(483));throw e}throw hA=t,sA}}var hA=null;function dA(){if(null===hA)throw Error(s(459));var e=hA;return hA=null,e}var fA=null,gA=0;function pA(e){var t=gA;return gA+=1,null===fA&&(fA=[]),uA(fA,e,t)}function mA(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function wA(e,t){if(t.$$typeof===a)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yA(e){return(0,e._init)(e._payload)}function CA(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function A(e,t){return(e=Oa(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=ja(n,e.mode,r)).return=e,t):((t=A(t,n)).return=e,t)}function h(e,t,n,r){var i=n.type;return i===u?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===B&&yA(i)===t.type)?(mA(t=A(t,n.props),n),t.return=e,t):(mA(t=ka(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Va(n,e.mode,r)).return=e,t):((t=A(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Pa(n,e.mode,r,i)).return=e,t):((t=A(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ja(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return mA(n=ka(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case c:return(t=Va(t,e.mode,n)).return=e,t;case B:return g(e,t=(0,t._init)(t._payload),n)}if(H(t)||b(t))return(t=Pa(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,pA(t),n);if(t.$$typeof===p)return g(e,So(e,t),n);wA(e,t)}return null}function m(e,t,n,r){var A=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==A?null:a(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===A?h(e,t,n,r):null;case c:return n.key===A?d(e,t,n,r):null;case B:return m(e,t,n=(A=n._init)(n._payload),r)}if(H(n)||b(n))return null!==A?null:f(e,t,n,r,null);if("function"===typeof n.then)return m(e,t,pA(n),r);if(n.$$typeof===p)return m(e,t,So(e,n),r);wA(e,n)}return null}function w(e,t,n,r,A){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return a(t,e=e.get(n)||null,""+r,A);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,A);case c:return d(t,e=e.get(null===r.key?n:r.key)||null,r,A);case B:return w(e,t,n,r=(0,r._init)(r._payload),A)}if(H(r)||b(r))return f(t,e=e.get(n)||null,r,A,null);if("function"===typeof r.then)return w(e,t,n,pA(r),A);if(r.$$typeof===p)return w(e,t,n,So(t,r),A);wA(t,r)}return null}function y(a,h,d,f){if("object"===typeof d&&null!==d&&d.type===u&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case l:e:{for(var C=d.key;null!==h;){if(h.key===C){if((C=d.type)===u){if(7===h.tag){n(a,h.sibling),(f=A(h,d.props.children)).return=a,a=f;break e}}else if(h.elementType===C||"object"===typeof C&&null!==C&&C.$$typeof===B&&yA(C)===h.type){n(a,h.sibling),mA(f=A(h,d.props),d),f.return=a,a=f;break e}n(a,h);break}t(a,h),h=h.sibling}d.type===u?((f=Pa(d.props.children,a.mode,f,d.key)).return=a,a=f):(mA(f=ka(d.type,d.key,d.props,null,a.mode,f),d),f.return=a,a=f)}return o(a);case c:e:{for(C=d.key;null!==h;){if(h.key===C){if(4===h.tag&&h.stateNode.containerInfo===d.containerInfo&&h.stateNode.implementation===d.implementation){n(a,h.sibling),(f=A(h,d.children||[])).return=a,a=f;break e}n(a,h);break}t(a,h),h=h.sibling}(f=Va(d,a.mode,f)).return=a,a=f}return o(a);case B:return y(a,h,d=(C=d._init)(d._payload),f)}if(H(d))return function(A,s,o,a){for(var l=null,c=null,u=s,h=s=0,d=null;null!==u&&h<o.length;h++){u.index>h?(d=u,u=null):d=u.sibling;var f=m(A,u,o[h],a);if(null===f){null===u&&(u=d);break}e&&u&&null===f.alternate&&t(A,u),s=i(f,s,h),null===c?l=f:c.sibling=f,c=f,u=d}if(h===o.length)return n(A,u),qr&&Kr(A,h),l;if(null===u){for(;h<o.length;h++)null!==(u=g(A,o[h],a))&&(s=i(u,s,h),null===c?l=u:c.sibling=u,c=u);return qr&&Kr(A,h),l}for(u=r(u);h<o.length;h++)null!==(d=w(u,A,h,o[h],a))&&(e&&null!==d.alternate&&u.delete(null===d.key?h:d.key),s=i(d,s,h),null===c?l=d:c.sibling=d,c=d);return e&&u.forEach((function(e){return t(A,e)})),qr&&Kr(A,h),l}(a,h,d,f);if(b(d)){if("function"!==typeof(C=b(d)))throw Error(s(150));return function(A,o,a,l){if(null==a)throw Error(s(151));for(var c=null,u=null,h=o,d=o=0,f=null,p=a.next();null!==h&&!p.done;d++,p=a.next()){h.index>d?(f=h,h=null):f=h.sibling;var y=m(A,h,p.value,l);if(null===y){null===h&&(h=f);break}e&&h&&null===y.alternate&&t(A,h),o=i(y,o,d),null===u?c=y:u.sibling=y,u=y,h=f}if(p.done)return n(A,h),qr&&Kr(A,d),c;if(null===h){for(;!p.done;d++,p=a.next())null!==(p=g(A,p.value,l))&&(o=i(p,o,d),null===u?c=p:u.sibling=p,u=p);return qr&&Kr(A,d),c}for(h=r(h);!p.done;d++,p=a.next())null!==(p=w(h,A,d,p.value,l))&&(e&&null!==p.alternate&&h.delete(null===p.key?d:p.key),o=i(p,o,d),null===u?c=p:u.sibling=p,u=p);return e&&h.forEach((function(e){return t(A,e)})),qr&&Kr(A,d),c}(a,h,d=C.call(d),f)}if("function"===typeof d.then)return y(a,h,pA(d),f);if(d.$$typeof===p)return y(a,h,So(a,d),f);wA(a,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==h&&6===h.tag?(n(a,h.sibling),(f=A(h,d)).return=a,a=f):(n(a,h),(f=ja(d,a.mode,f)).return=a,a=f),o(a)):n(a,h)}return function(e,t,n,r){try{gA=0;var A=y(e,t,n,r);return fA=null,A}catch(s){if(s===sA)throw s;var i=Ra(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var BA=CA(!0),vA=CA(!1),EA=z(null),IA=z(0);function bA(e,t){X(IA,e=ll),X(EA,t),ll=e|t.baseLanes}function SA(){X(IA,ll),X(EA,EA.current)}function TA(){ll=IA.current,W(EA),W(IA)}var _A=z(null),FA=null;function NA(e){var t=e.alternate;X(xA,1&xA.current),X(_A,e),null===FA&&(null===t||null!==EA.current||null!==t.memoizedState)&&(FA=e)}function UA(e){if(22===e.tag){if(X(xA,xA.current),X(_A,e),null===FA){var t=e.alternate;null!==t&&null!==t.memoizedState&&(FA=e)}}else DA()}function DA(){X(xA,xA.current),X(_A,_A.current)}function QA(e){W(_A),FA===e&&(FA=null),W(xA)}var xA=z(0);function RA(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var MA="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},OA=r.unstable_scheduleCallback,LA=r.unstable_NormalPriority,kA={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function PA(){return{controller:new MA,data:new Map,refCount:0}}function HA(e){e.refCount--,0===e.refCount&&OA(LA,(function(){e.controller.abort()}))}var jA=null,VA=0,KA=0,GA=null;function zA(){if(0===--VA&&null!==jA){null!==GA&&(GA.status="fulfilled");var e=jA;jA=null,KA=0,GA=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var WA=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===jA){var n=jA=[];VA=0,KA=Bc(),GA={status:"pending",value:void 0,then:function(e){n.push(e)}}}VA++,t.then(zA,zA)}(0,t),null!==WA&&WA(e,t)};var XA=z(null);function YA(){var e=XA.current;return null!==e?e:tl.pooledCache}function qA(e,t){X(XA,null===t?XA.current:t.pool)}function $A(){var e=YA();return null===e?null:{parent:kA._currentValue,pool:e}}var JA=0,ZA=null,ei=null,ti=null,ni=!1,ri=!1,Ai=!1,ii=0,si=0,oi=null,ai=0;function li(){throw Error(s(321))}function ci(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ui(e,t,n,r,A,i){return JA=i,ZA=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?bs:Ss,Ai=!1,i=n(r,A),Ai=!1,ri&&(i=di(t,n,r,A)),hi(e),i}function hi(e){N.H=Is;var t=null!==ei&&null!==ei.next;if(JA=0,ti=ei=ZA=null,ni=!1,si=0,oi=null,t)throw Error(s(300));null===e||Vs||null!==(e=e.dependencies)&&Eo(e)&&(Vs=!0)}function di(e,t,n,r){ZA=e;var A=0;do{if(ri&&(oi=null),si=0,ri=!1,25<=A)throw Error(s(301));if(A+=1,ti=ei=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}N.H=Ts,i=t(n,r)}while(ri);return i}function fi(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?Ci(t):t,e=e.useState()[0],(null!==ei?ei.memoizedState:null)!==e&&(ZA.flags|=1024),t}function gi(){var e=0!==ii;return ii=0,e}function pi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mi(e){if(ni){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ni=!1}JA=0,ti=ei=ZA=null,ri=!1,si=ii=0,oi=null}function wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ti?ZA.memoizedState=ti=e:ti=ti.next=e,ti}function yi(){if(null===ei){var e=ZA.alternate;e=null!==e?e.memoizedState:null}else e=ei.next;var t=null===ti?ZA.memoizedState:ti.next;if(null!==t)ti=t,ei=e;else{if(null===e){if(null===ZA.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ei=e).memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},null===ti?ZA.memoizedState=ti=e:ti=ti.next=e}return ti}function Ci(e){var t=si;return si+=1,null===oi&&(oi=[]),e=uA(oi,e,t),t=ZA,null===(null===ti?t.memoizedState:ti.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?bs:Ss),e}function Bi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ci(e);if(e.$$typeof===p)return bo(e)}throw Error(s(438,String(e)))}function vi(e){var t=null,n=ZA.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ZA.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ZA.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Ei(e,t){return"function"===typeof t?t(e):t}function Ii(e){return bi(yi(),ei,e)}function bi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var A=e.baseQueue,i=r.pending;if(null!==i){if(null!==A){var o=A.next;A.next=i.next,i.next=o}t.baseQueue=A=i,r.pending=null}if(i=e.baseState,null===A)e.memoizedState=i;else{var a=o=null,l=null,c=t=A.next,u=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(rl&h)===h:(JA&h)===h){var d=c.revertLane;if(0===d)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===KA&&(u=!0);else{if((JA&d)===d){c=c.next,d===KA&&(u=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(a=l=h,o=i):l=l.next=h,ZA.lanes|=d,ul|=d}h=c.action,Ai&&n(i,h),i=c.hasEagerState?c.eagerState:n(i,h)}else d={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(a=l=d,o=i):l=l.next=d,ZA.lanes|=h,ul|=h;c=c.next}while(null!==c&&c!==t);if(null===l?o=i:l.next=a,!Xn(i,e.memoizedState)&&(Vs=!0,u&&null!==(n=GA)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=l,r.lastRenderedState=i}return null===A&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Si(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,A=n.pending,i=t.memoizedState;if(null!==A){n.pending=null;var o=A=A.next;do{i=e(i,o.action),o=o.next}while(o!==A);Xn(i,t.memoizedState)||(Vs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(e,t,n){var r=ZA,A=yi(),i=qr;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((ei||A).memoizedState,n);if(o&&(A.memoizedState=n,Vs=!0),A=A.queue,Ji(Ni.bind(null,r,A,e),[e]),A.getSnapshot!==t||o||null!==ti&&1&ti.memoizedState.tag){if(r.flags|=2048,Wi(9,Fi.bind(null,r,A,n,t),{destroy:void 0},null),null===tl)throw Error(s(349));i||0!==(60&JA)||_i(r,t,n)}return n}function _i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ZA.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ZA.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fi(e,t,n,r){t.value=n,t.getSnapshot=r,Ui(t)&&Di(e)}function Ni(e,t,n){return n((function(){Ui(t)&&Di(e)}))}function Ui(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Di(e){var t=Fr(e,2);null!==t&&Dl(t,e,2)}function Qi(e){var t=wi();if("function"===typeof e){var n=e;if(e=n(),Ai){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t}function xi(e,t,n,r){return e.baseState=n,bi(e,ei,"function"===typeof r?r:Ei)}function Ri(e,t,n,r,A){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:A,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==N.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Mi(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Mi(e,t){var n=t.action,r=t.payload,A=e.state;if(t.isTransition){var i=N.T,s={};N.T=s;try{var o=n(A,r),a=N.S;null!==a&&a(s,o),Oi(e,t,o)}catch(l){ki(e,t,l)}finally{N.T=i}}else try{Oi(e,t,i=n(A,r))}catch(c){ki(e,t,c)}}function Oi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Li(e,t,n)}),(function(n){return ki(e,t,n)})):Li(e,t,n)}function Li(e,t,n){t.status="fulfilled",t.value=n,Pi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Mi(e,n)))}function ki(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Pi(t),t=t.next}while(t!==r)}e.action=null}function Pi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hi(e,t){return t}function ji(e,t){if(qr){var n=tl.formState;if(null!==n){e:{var r=ZA;if(qr){if(Yr){t:{for(var A=Yr,i=Jr;8!==A.nodeType;){if(!i){A=null;break t}if(null===(A=ou(A.nextSibling))){A=null;break t}}A="F!"===(i=A.data)||"F"===i?A:null}if(A){Yr=ou(A.nextSibling),r="F!"===A.data;break e}}eA(r)}r=!1}r&&(t=n[0])}}return(n=wi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n.queue=r,n=ws.bind(null,ZA,r),r.dispatch=n,r=Qi(!1),i=Cs.bind(null,ZA,!1,r.queue),A={state:t,dispatch:null,action:e,pending:null},(r=wi()).queue=A,n=Ri.bind(null,ZA,A,i,n),A.dispatch=n,r.memoizedState=e,[t,n,!1]}function Vi(e){return Ki(yi(),ei,e)}function Ki(e,t,n){t=bi(e,t,Hi)[0],e=Ii(Ei)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Ci(t):t;var r=yi(),A=r.queue,i=A.dispatch;return n!==r.memoizedState&&(ZA.flags|=2048,Wi(9,Gi.bind(null,A,n),{destroy:void 0},null)),[t,i,e]}function Gi(e,t){e.action=t}function zi(e){var t=yi(),n=ei;if(null!==n)return Ki(t,n,e);yi(),t=t.memoizedState;var r=(n=yi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Wi(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ZA.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ZA.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xi(){return yi().memoizedState}function Yi(e,t,n,r){var A=wi();ZA.flags|=e,A.memoizedState=Wi(1|t,n,{destroy:void 0},void 0===r?null:r)}function qi(e,t,n,r){var A=yi();r=void 0===r?null:r;var i=A.memoizedState.inst;null!==ei&&null!==r&&ci(r,ei.memoizedState.deps)?A.memoizedState=Wi(t,n,i,r):(ZA.flags|=e,A.memoizedState=Wi(1|t,n,i,r))}function $i(e,t){Yi(8390656,8,e,t)}function Ji(e,t){qi(2048,8,e,t)}function Zi(e,t){return qi(4,2,e,t)}function es(e,t){return qi(4,4,e,t)}function ts(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ns(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,qi(4,4,ts.bind(null,t,e),n)}function rs(){}function As(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ci(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function is(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ci(t,r[1]))return r[0];if(r=e(),Ai){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r}function ss(e,t,n){return void 0===n||0!==(1073741824&JA)?e.memoizedState=t:(e.memoizedState=n,e=Ul(),ZA.lanes|=e,ul|=e,n)}function os(e,t,n,r){return Xn(n,t)?n:null!==EA.current?(e=ss(e,n,r),Xn(e,t)||(Vs=!0),e):0===(42&JA)?(Vs=!0,e.memoizedState=n):(e=Ul(),ZA.lanes|=e,ul|=e,t)}function as(e,t,n,r,A){var i=j.p;j.p=0!==i&&8>i?i:8;var s=N.T,o={};N.T=o,Cs(e,!1,t,n);try{var a=A(),l=N.S;if(null!==l&&l(o,a),null!==a&&"object"===typeof a&&"function"===typeof a.then)ys(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(a,r),Nl());else ys(e,t,r,Nl())}catch(c){ys(e,t,{then:function(){},status:"rejected",reason:c},Nl())}finally{j.p=i,N.T=s}}function ls(){}function cs(e,t,n,r){if(5!==e.tag)throw Error(s(476));var A=us(e).queue;as(e,A,t,V,null===n?ls:function(){return hs(e),n(r)})}function us(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:V},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hs(e){ys(e,us(e).next.queue,{},Nl())}function ds(){return bo(Mu)}function fs(){return yi().memoizedState}function gs(){return yi().memoizedState}function ps(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nl(),r=Do(t,e=Uo(n),n);return null!==r&&(Dl(r,t,n),Qo(r,t,n)),t={cache:PA()},void(e.payload=t)}t=t.return}}function ms(e,t,n){var r=Nl();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?vs(t,n):null!==(n=_r(e,t,n,r))&&(Dl(n,e,r),Es(n,t,r))}function ws(e,t,n){ys(e,t,n,Nl())}function ys(e,t,n,r){var A={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))vs(t,A);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(A.hasEagerState=!0,A.eagerState=o,Xn(o,s))return Tr(e,t,A,0),null===tl&&Sr(),!1}catch(a){}if(null!==(n=_r(e,t,A,r)))return Dl(n,e,r),Es(n,t,r),!0}return!1}function Cs(e,t,n,r){if(r={lane:2,revertLane:Bc(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=_r(e,n,r,2))&&Dl(t,e,2)}function Bs(e){var t=e.alternate;return e===ZA||null!==t&&t===ZA}function vs(e,t){ri=ni=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Es(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}var Is={readContext:bo,use:Bi,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useLayoutEffect:li,useInsertionEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useSyncExternalStore:li,useId:li};Is.useCacheRefresh=li,Is.useMemoCache=li,Is.useHostTransitionStatus=li,Is.useFormState=li,Is.useActionState=li,Is.useOptimistic=li;var bs={readContext:bo,use:Bi,useCallback:function(e,t){return wi().memoizedState=[e,void 0===t?null:t],e},useContext:bo,useEffect:$i,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Yi(4194308,4,ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){Yi(4,2,e,t)},useMemo:function(e,t){var n=wi();t=void 0===t?null:t;var r=e();if(Ai){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=wi();if(void 0!==n){var A=n(t);if(Ai){ye(!0);try{n(t)}finally{ye(!1)}}}else A=t;return r.memoizedState=r.baseState=A,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:A},r.queue=e,e=e.dispatch=ms.bind(null,ZA,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wi().memoizedState=e},useState:function(e){var t=(e=Qi(e)).queue,n=ws.bind(null,ZA,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rs,useDeferredValue:function(e,t){return ss(wi(),e,t)},useTransition:function(){var e=Qi(!1);return e=as.bind(null,ZA,e.queue,!0,!1),wi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ZA,A=wi();if(qr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===tl)throw Error(s(349));0!==(60&rl)||_i(r,t,n)}A.memoizedState=n;var i={value:n,getSnapshot:t};return A.queue=i,$i(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Wi(9,Fi.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=wi(),t=tl.identifierPrefix;if(qr){var n=Vr;t=":"+t+"R"+(n=(jr&~(1<<32-Ce(jr)-1)).toString(32)+n),0<(n=ii++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ai++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return wi().memoizedState=ps.bind(null,ZA)}};bs.useMemoCache=vi,bs.useHostTransitionStatus=ds,bs.useFormState=ji,bs.useActionState=ji,bs.useOptimistic=function(e){var t=wi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cs.bind(null,ZA,!0,n),n.dispatch=t,[e,t]};var Ss={readContext:bo,use:Bi,useCallback:As,useContext:bo,useEffect:Ji,useImperativeHandle:ns,useInsertionEffect:Zi,useLayoutEffect:es,useMemo:is,useReducer:Ii,useRef:Xi,useState:function(){return Ii(Ei)},useDebugValue:rs,useDeferredValue:function(e,t){return os(yi(),ei.memoizedState,e,t)},useTransition:function(){var e=Ii(Ei)[0],t=yi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:Ti,useId:fs};Ss.useCacheRefresh=gs,Ss.useMemoCache=vi,Ss.useHostTransitionStatus=ds,Ss.useFormState=Vi,Ss.useActionState=Vi,Ss.useOptimistic=function(e,t){return xi(yi(),0,e,t)};var Ts={readContext:bo,use:Bi,useCallback:As,useContext:bo,useEffect:Ji,useImperativeHandle:ns,useInsertionEffect:Zi,useLayoutEffect:es,useMemo:is,useReducer:Si,useRef:Xi,useState:function(){return Si(Ei)},useDebugValue:rs,useDeferredValue:function(e,t){var n=yi();return null===ei?ss(n,e,t):os(n,ei.memoizedState,e,t)},useTransition:function(){var e=Si(Ei)[0],t=yi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:Ti,useId:fs};function _s(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ts.useCacheRefresh=gs,Ts.useMemoCache=vi,Ts.useHostTransitionStatus=ds,Ts.useFormState=zi,Ts.useActionState=zi,Ts.useOptimistic=function(e,t){var n=yi();return null!==ei?xi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Fs={isMounted:function(e){return!!(e=e._reactInternals)&&O(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nl(),A=Uo(r);A.payload=t,void 0!==n&&null!==n&&(A.callback=n),null!==(t=Do(e,A,r))&&(Dl(t,e,r),Qo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nl(),A=Uo(r);A.tag=1,A.payload=t,void 0!==n&&null!==n&&(A.callback=n),null!==(t=Do(e,A,r))&&(Dl(t,e,r),Qo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nl(),r=Uo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Do(e,r,n))&&(Dl(t,e,n),Qo(t,e,n))}};function Ns(e,t,n,r,A,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(A,i))}function Us(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fs.enqueueReplaceState(t,t.state,null)}function Ds(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var A in n===t&&(n=U({},n)),e)void 0===n[A]&&(n[A]=e[A]);return n}var Qs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function xs(e){Qs(e)}function Rs(e){console.error(e)}function Ms(e){Qs(e)}function Os(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ls(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ks(e,t,n){return(n=Uo(n)).tag=3,n.payload={element:null},n.callback=function(){Os(e,t)},n}function Ps(e){return(e=Uo(e)).tag=3,e}function Hs(e,t,n,r){var A=n.type.getDerivedStateFromError;if("function"===typeof A){var i=r.value;e.payload=function(){return A(i)},e.callback=function(){Ls(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ls(t,n,r),"function"!==typeof A&&(null===vl?vl=new Set([this]):vl.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var js=Error(s(461)),Vs=!1;function Ks(e,t,n,r){t.child=null===e?vA(t,null,n,r):BA(t,e.child,n,r)}function Gs(e,t,n,r,A){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Io(t),r=ui(e,t,n,s,i,A),o=gi(),null===e||Vs?(qr&&o&&zr(t),t.flags|=1,Ks(e,t,r,A),t.child):(pi(e,t,A),uo(e,t,A))}function zs(e,t,n,r,A){if(null===e){var i=n.type;return"function"!==typeof i||Ma(i)||void 0!==i.defaultProps||null!==n.compare?((e=ka(n.type,null,r,t,t.mode,A)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ws(e,t,i,r,A))}if(i=e.child,!ho(e,A)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return uo(e,t,A)}return t.flags|=1,(e=Oa(i,r)).ref=t.ref,e.return=t,t.child=e}function Ws(e,t,n,r,A){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Vs=!1,t.pendingProps=r=i,!ho(e,A))return t.lanes=e.lanes,uo(e,t,A);0!==(131072&e.flags)&&(Vs=!0)}}return $s(e,t,n,r,A)}function Xs(e,t,n){var r=t.pendingProps,A=r.children,i=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(qs(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(A=t.child=e.child,i=0;null!==A;)i=i|A.lanes|A.childLanes,A=A.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ys(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ys(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qA(0,null!==s?s.cachePool:null),null!==s?bA(t,s):SA(),UA(t)}else null!==s?(qA(0,s.cachePool),bA(t,s),DA(),t.memoizedState=null):(null!==e&&qA(0,null),SA(),DA());return Ks(e,t,A,n),t.child}function Ys(e,t,n,r){var A=YA();return A=null===A?null:{parent:kA._currentValue,pool:A},t.memoizedState={baseLanes:n,cachePool:A},null!==e&&qA(0,null),SA(),UA(t),null!==e&&vo(e,t,r,!0),null}function qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function $s(e,t,n,r,A){return Io(t),n=ui(e,t,n,r,void 0,A),r=gi(),null===e||Vs?(qr&&r&&zr(t),t.flags|=1,Ks(e,t,n,A),t.child):(pi(e,t,A),uo(e,t,A))}function Js(e,t,n,r,A,i){return Io(t),t.updateQueue=null,n=di(t,r,n,A),hi(e),r=gi(),null===e||Vs?(qr&&r&&zr(t),t.flags|=1,Ks(e,t,n,i),t.child):(pi(e,t,i),uo(e,t,i))}function Zs(e,t,n,r,A){if(Io(t),null===t.stateNode){var i=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(i=bo(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Fo(t),s=n.contextType,i.context="object"===typeof s&&null!==s?bo(s):Dr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(_s(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&Fs.enqueueReplaceState(i,i.state,null),Oo(t,r,i,A),Mo(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,a=Ds(n,o);i.props=a;var l=i.context,c=n.contextType;s=Dr,"object"===typeof c&&null!==c&&(s=bo(c));var u=n.getDerivedStateFromProps;c="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||l!==s)&&Us(t,i,r,s),_o=!1;var h=t.memoizedState;i.state=h,Oo(t,r,i,A),Mo(),l=t.memoizedState,o||h!==l||_o?("function"===typeof u&&(_s(t,n,u,r),l=t.memoizedState),(a=_o||Ns(t,n,a,r,h,l,s))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=s,r=a):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,No(e,t),c=Ds(n,s=t.memoizedProps),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,a=Dr,"object"===typeof l&&null!==l&&(a=bo(l)),(l="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||h!==a)&&Us(t,i,r,a),_o=!1,h=t.memoizedState,i.state=h,Oo(t,r,i,A),Mo();var d=t.memoizedState;s!==u||h!==d||_o||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof o&&(_s(t,n,o,r),d=t.memoizedState),(c=_o||Ns(t,n,c,r,h,d,a)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,a),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,a)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=a,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,qs(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=BA(t,e.child,null,A),t.child=BA(t,null,n,A)):Ks(e,t,n,A),t.memoizedState=i.state,e=t.child):e=uo(e,t,A),e}function eo(e,t,n,r){return AA(),t.flags|=256,Ks(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:$A()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fl),e}function Ao(e,t,n){var r,A=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&xA.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(qr){if(i?NA(t):DA(),qr){var a,l=Yr;if(a=l){e:{for(a=l,l=Jr;8!==a.nodeType;){if(!l){l=null;break e}if(null===(a=ou(a.nextSibling))){l=null;break e}}l=a}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Hr?{id:jr,overflow:Vr}:null,retryLane:536870912},(a=Ra(18,null,null,0)).stateNode=l,a.return=t,t.child=a,Xr=t,Yr=null,a=!0):a=!1}a||eA(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=536870912,null;QA(t)}return l=A.children,A=A.fallback,i?(DA(),l=so({mode:"hidden",children:l},i=t.mode),A=Pa(A,i,n,null),l.return=t,A.return=t,l.sibling=A,t.child=l,(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,A):(NA(t),io(t,l))}if(null!==(a=e.memoizedState)&&null!==(l=a.dehydrated)){if(o)256&t.flags?(NA(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(DA(),t.child=e.child,t.flags|=128,t=null):(DA(),i=A.fallback,l=t.mode,A=so({mode:"visible",children:A.children},l),(i=Pa(i,l,n,null)).flags|=2,A.return=t,i.return=t,A.sibling=i,t.child=A,BA(t,e.child,null,n),(A=t.child).memoizedState=no(n),A.childLanes=ro(e,r,n),t.memoizedState=to,t=i);else if(NA(t),"$!"===l.data){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(A=Error(s(419))).stack="",A.digest=r,iA({value:A,source:null,stack:null}),t=oo(e,t,n)}else if(Vs||vo(e,t,n,!1),r=0!==(n&e.childLanes),Vs||r){if(null!==(r=tl)){if(0!==(42&(A=n&-n)))A=1;else switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=64;break;case 268435456:A=134217728;break;default:A=0}if(0!==(A=0!==(A&(r.suspendedLanes|n))?0:A)&&A!==a.retryLane)throw a.retryLane=A,Fr(e,A),Dl(r,e,A),js}"$?"===l.data||Kl(),t=oo(e,t,n)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=oc.bind(null,e),l._reactRetry=t,t=null):(e=a.treeContext,Yr=ou(l.nextSibling),Xr=t,qr=!0,$r=null,Jr=!1,null!==e&&(kr[Pr++]=jr,kr[Pr++]=Vr,kr[Pr++]=Hr,jr=e.id,Vr=e.overflow,Hr=t),(t=io(t,A.children)).flags|=4096);return t}return i?(DA(),i=A.fallback,l=t.mode,c=(a=e.child).sibling,(A=Oa(a,{mode:"hidden",children:A.children})).subtreeFlags=31457280&a.subtreeFlags,null!==c?i=Oa(c,i):(i=Pa(i,l,n,null)).flags|=2,i.return=t,A.return=t,A.sibling=i,t.child=A,A=i,i=t.child,null===(l=e.child.memoizedState)?l=no(n):(null!==(a=l.cachePool)?(c=kA._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=$A(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=ro(e,r,n),t.memoizedState=to,A):(NA(t),e=(n=e.child).sibling,(n=Oa(n,{mode:"visible",children:A.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function io(e,t){return(t=so({mode:"visible",children:t},e.mode)).return=e,e.child=t}function so(e,t){return Ha(e,t,0,null)}function oo(e,t,n){return BA(t,e.child,null,n),(e=io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ao(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function lo(e,t,n,r,A){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:A}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=A)}function co(e,t,n){var r=t.pendingProps,A=r.revealOrder,i=r.tail;if(Ks(e,t,r.children,n),0!==(2&(r=xA.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ao(e,n,t);else if(19===e.tag)ao(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(X(xA,r),A){case"forwards":for(n=t.child,A=null;null!==n;)null!==(e=n.alternate)&&null===RA(e)&&(A=n),n=n.sibling;null===(n=A)?(A=t.child,t.child=null):(A=n.sibling,n.sibling=null),lo(t,!1,A,n,i);break;case"backwards":for(n=null,A=t.child,t.child=null;null!==A;){if(null!==(e=A.alternate)&&null===RA(e)){t.child=A;break}e=A.sibling,A.sibling=n,n=A,A=e}lo(t,!0,n,null,i);break;case"together":lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ul|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(vo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ho(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function fo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Vs=!0;else{if(!ho(e,n)&&0===(128&t.flags))return Vs=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),wo(t,kA,e.memoizedState.cache),AA();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:wo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(NA(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ao(e,t,n):(NA(t),null!==(e=uo(e,t,n))?e.sibling:null);NA(t);break;case 19:var A=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(vo(e,t,n,!1),r=0!==(n&t.childLanes)),A){if(r)return co(e,t,n);t.flags|=128}if(null!==(A=t.memoizedState)&&(A.rendering=null,A.tail=null,A.lastEffect=null),X(xA,xA.current),r)break;return null;case 22:case 23:return t.lanes=0,Xs(e,t,n);case 24:wo(t,kA,e.memoizedState.cache)}return uo(e,t,n)}(e,t,n);Vs=0!==(131072&e.flags)}else Vs=!1,qr&&0!==(1048576&t.flags)&&Gr(t,Lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,A=r._init;if(r=A(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((A=r.$$typeof)===m){t.tag=11,t=Gs(null,t,r,e,n);break e}if(A===C){t.tag=14,t=zs(null,t,r,e,n);break e}}throw t=T(r)||r,Error(s(306,t,""))}Ma(r)?(e=Ds(r,e),t.tag=1,t=Zs(null,t,r,e,n)):(t.tag=0,t=$s(null,t,r,e,n))}return t;case 0:return $s(e,t,t.type,t.pendingProps,n);case 1:return Zs(e,t,r=t.type,A=Ds(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var i=t.pendingProps;r=(A=t.memoizedState).element,No(e,t),Oo(t,i,null,n);var o=t.memoizedState;if(i=o.cache,wo(t,kA,i),i!==A.cache&&Bo(t,[kA],n,!0),Mo(),i=o.element,A.isDehydrated){if(A={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=A,t.memoizedState=A,256&t.flags){t=eo(e,t,i,n);break e}if(i!==r){iA(r=xr(Error(s(424)),t)),t=eo(e,t,i,n);break e}for(Yr=ou(t.stateNode.containerInfo.firstChild),Xr=t,qr=!0,$r=null,Jr=!0,n=vA(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(AA(),i===r){t=uo(e,t,n);break e}Ks(e,t,i,n)}t=t.child}return t;case 26:return qs(e,t),null===e?(n=pu(t.type,null,t.pendingProps,null))?t.memoizedState=n:qr||(n=t.type,e=t.pendingProps,(r=Yc($.current).createElement(n))[Le]=t,r[ke]=e,zc(r,n,e),$e(r),t.stateNode=r):t.memoizedState=pu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&qr&&(r=t.stateNode=lu(t.type,t.pendingProps,$.current),Xr=t,Jr=!0,Yr=ou(r.firstChild)),r=t.pendingProps.children,null!==e||qr?Ks(e,t,r,n):t.child=BA(t,null,r,n),qs(e,t),t.child;case 5:return null===e&&qr&&((A=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var A=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==A.rel||e.getAttribute("href")!==(null==A.href?null:A.href)||e.getAttribute("crossorigin")!==(null==A.crossOrigin?null:A.crossOrigin)||e.getAttribute("title")!==(null==A.title?null:A.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==A.src?null:A.src)||e.getAttribute("type")!==(null==A.type?null:A.type)||e.getAttribute("crossorigin")!==(null==A.crossOrigin?null:A.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==A.name?null:""+A.name;if("hidden"===A.type&&e.getAttribute("name")===i)return e}if(null===(e=ou(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Xr=t,Yr=ou(r.firstChild),Jr=!1,A=!0):A=!1),A||eA(t)),te(t),A=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,Jc(A,i)?r=null:null!==o&&Jc(A,o)&&(t.flags|=32),null!==t.memoizedState&&(A=ui(e,t,fi,null,null,n),Mu._currentValue=A),qs(e,t),Ks(e,t,r,n),t.child;case 6:return null===e&&qr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ou(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Xr=t,Yr=null,e=!0):e=!1),e||eA(t)),null;case 13:return Ao(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=BA(t,null,r,n):Ks(e,t,r,n),t.child;case 11:return Gs(e,t,t.type,t.pendingProps,n);case 7:return Ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ks(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wo(t,t.type,r.value),Ks(e,t,r.children,n),t.child;case 9:return A=t.type._context,r=t.pendingProps.children,Io(t),r=r(A=bo(A)),t.flags|=1,Ks(e,t,r,n),t.child;case 14:return zs(e,t,t.type,t.pendingProps,n);case 15:return Ws(e,t,t.type,t.pendingProps,n);case 19:return co(e,t,n);case 22:return Xs(e,t,n);case 24:return Io(t),r=bo(kA),null===e?(null===(A=YA())&&(A=tl,i=PA(),A.pooledCache=i,i.refCount++,null!==i&&(A.pooledCacheLanes|=n),A=i),t.memoizedState={parent:r,cache:A},Fo(t),wo(t,kA,A)):(0!==(e.lanes&n)&&(No(e,t),Oo(t,null,null,n),Mo()),A=e.memoizedState,i=t.memoizedState,A.parent!==r?(A={parent:r,cache:r},t.memoizedState=A,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=A),wo(t,kA,r)):(r=i.cache,wo(t,kA,r),r!==A.cache&&Bo(t,[kA],n,!0))),Ks(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var go=z(null),po=null,mo=null;function wo(e,t,n){X(go,t._currentValue),t._currentValue=n}function yo(e){e._currentValue=go.current,W(go)}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t,n,r){var A=e.child;for(null!==A&&(A.return=e);null!==A;){var i=A.dependencies;if(null!==i){var o=A.child;i=i.firstContext;e:for(;null!==i;){var a=i;i=A;for(var l=0;l<t.length;l++)if(a.context===t[l]){i.lanes|=n,null!==(a=i.alternate)&&(a.lanes|=n),Co(i.return,n,e),r||(o=null);break e}i=a.next}}else if(18===A.tag){if(null===(o=A.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Co(o,n,e),o=null}else o=A.child;if(null!==o)o.return=A;else for(o=A;null!==o;){if(o===e){o=null;break}if(null!==(A=o.sibling)){A.return=o.return,o=A;break}o=o.return}A=o}}function vo(e,t,n,r){e=null;for(var A=t,i=!1;null!==A;){if(!i)if(0!==(524288&A.flags))i=!0;else if(0!==(262144&A.flags))break;if(10===A.tag){var o=A.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var a=A.type;Xn(A.pendingProps.value,o.value)||(null!==e?e.push(a):e=[a])}}else if(A===J.current){if(null===(o=A.alternate))throw Error(s(387));o.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(null!==e?e.push(Mu):e=[Mu])}A=A.return}null!==e&&Bo(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Io(e){po=e,mo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function bo(e){return To(po,e)}function So(e,t){return null===po&&Io(e),To(e,t)}function To(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===mo){if(null===e)throw Error(s(308));mo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mo=mo.next=t;return n}var _o=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Uo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&el)){var A=r.pending;return null===A?t.next=t:(t.next=A.next,A.next=t),r.pending=t,t=Ur(e),Nr(e,null,n),t}return Tr(e,r,t,n),Ur(e)}function Qo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var A=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?A=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?A=i=t:i=i.next=t}else A=i=t;return n={baseState:r.baseState,firstBaseUpdate:A,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ro=!1;function Mo(){if(Ro){if(null!==GA)throw GA}}function Oo(e,t,n,r){Ro=!1;var A=e.updateQueue;_o=!1;var i=A.firstBaseUpdate,s=A.lastBaseUpdate,o=A.shared.pending;if(null!==o){A.shared.pending=null;var a=o,l=a.next;a.next=null,null===s?i=l:s.next=l,s=a;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=a))}if(null!==i){var u=A.baseState;for(s=0,c=l=a=null,o=i;;){var h=-536870913&o.lane,d=h!==o.lane;if(d?(rl&h)===h:(r&h)===h){0!==h&&h===KA&&(Ro=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;h=t;var p=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,u,h):f)||void 0===h)break e;u=U({},u,h);break e;case 2:_o=!0}}null!==(h=o.callback)&&(e.flags|=64,d&&(e.flags|=8192),null===(d=A.callbacks)?A.callbacks=[h]:d.push(h))}else d={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=d,a=u):c=c.next=d,s|=h;if(null===(o=o.next)){if(null===(o=A.shared.pending))break;o=(d=o).next,d.next=null,A.lastBaseUpdate=d,A.shared.pending=null}}null===c&&(a=u),A.baseState=a,A.firstBaseUpdate=l,A.lastBaseUpdate=c,null===i&&(A.shared.lanes=0),ul|=s,e.lanes=s,e.memoizedState=u}}function Lo(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ko(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Lo(n[e],t)}function Po(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var A=r.next;n=A;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==A)}}catch(o){rc(t,t.return,o)}}function Ho(e,t,n){try{var r=t.updateQueue,A=null!==r?r.lastEffect:null;if(null!==A){var i=A.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,A=t;var a=n;try{o()}catch(l){rc(A,a,l)}}}r=r.next}while(r!==i)}}catch(l){rc(t,t.return,l)}}function jo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ko(t,n)}catch(r){rc(e,e.return,r)}}}function Vo(e,t,n){n.props=Ds(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){rc(e,t,r)}}function Ko(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var A=r;break;default:A=r}"function"===typeof n?e.refCleanup=n(A):n.current=A}}catch(i){rc(e,t,i)}}function Go(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(A){rc(e,t,A)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){rc(e,t,i)}else n.current=null}function zo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(A){rc(e,e.return,A)}}function Wo(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,i=null,o=null,a=null,l=null,c=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(f)||Kc(e,t,f,null,r,h)}}for(var d in r){var f=r[d];if(h=n[d],r.hasOwnProperty(d)&&(null!=f||null!=h))switch(d){case"type":i=f;break;case"name":A=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":a=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Kc(e,t,d,f,r,h)}}return void pt(e,o,a,l,c,u,i,A);case"select":for(i in f=o=a=d=null,n)if(l=n[i],n.hasOwnProperty(i)&&null!=l)switch(i){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(i)||Kc(e,t,i,null,r,l)}for(A in r)if(i=r[A],l=n[A],r.hasOwnProperty(A)&&(null!=i||null!=l))switch(A){case"value":d=i;break;case"defaultValue":a=i;break;case"multiple":o=i;default:i!==l&&Kc(e,t,A,i,r,l)}return t=a,n=o,r=f,void(null!=d?yt(e,!!n,d,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(a in f=d=null,n)if(A=n[a],n.hasOwnProperty(a)&&null!=A&&!r.hasOwnProperty(a))switch(a){case"value":case"children":break;default:Kc(e,t,a,null,r,A)}for(o in r)if(A=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=A||null!=i))switch(o){case"value":d=A;break;case"defaultValue":f=A;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=A)throw Error(s(91));break;default:A!==i&&Kc(e,t,o,A,r,i)}return void Ct(e,d,f);case"option":for(var g in n)if(d=n[g],n.hasOwnProperty(g)&&null!=d&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Kc(e,t,g,null,r,d);for(l in r)if(d=r[l],f=n[l],r.hasOwnProperty(l)&&d!==f&&(null!=d||null!=f))if("selected"===l)e.selected=d&&"function"!==typeof d&&"symbol"!==typeof d;else Kc(e,t,l,d,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)d=n[p],n.hasOwnProperty(p)&&null!=d&&!r.hasOwnProperty(p)&&Kc(e,t,p,null,r,d);for(c in r)if(d=r[c],f=n[c],r.hasOwnProperty(c)&&d!==f&&(null!=d||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Kc(e,t,c,d,r,f)}return;default:if(St(t)){for(var m in n)d=n[m],n.hasOwnProperty(m)&&void 0!==d&&!r.hasOwnProperty(m)&&Gc(e,t,m,void 0,r,d);for(u in r)d=r[u],f=n[u],!r.hasOwnProperty(u)||d===f||void 0===d&&void 0===f||Gc(e,t,u,d,r,f);return}}for(var w in n)d=n[w],n.hasOwnProperty(w)&&null!=d&&!r.hasOwnProperty(w)&&Kc(e,t,w,null,r,d);for(h in r)d=r[h],f=n[h],!r.hasOwnProperty(h)||d===f||null==d&&null==f||Kc(e,t,h,d,r,f)}(r,e.type,n,t),r[ke]=t}catch(A){rc(e,e.return,A)}}function Xo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Yo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Xo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function qo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vc));else if(4!==r&&27!==r&&null!==(e=e.child))for(qo(e,t,n),e=e.sibling;null!==e;)qo(e,t,n),e=e.sibling}function $o(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for($o(e,t,n),e=e.sibling;null!==e;)$o(e,t,n),e=e.sibling}var Jo=!1,Zo=!1,ea=!1,ta="function"===typeof WeakSet?WeakSet:Set,na=null,ra=!1;function Aa(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ma(e,n),4&r&&Po(5,n);break;case 1:if(ma(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){rc(n,n.return,o)}else{var A=Ds(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(A,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){rc(n,n.return,a)}}64&r&&jo(n),512&r&&Ko(n,n.return);break;case 3:if(ma(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{ko(r,e)}catch(o){rc(n,n.return,o)}}break;case 26:ma(e,n),512&r&&Ko(n,n.return);break;case 27:case 5:ma(e,n),null===t&&4&r&&zo(n),512&r&&Ko(n,n.return);break;case 12:default:ma(e,n);break;case 13:ma(e,n),4&r&&ca(e,n);break;case 22:if(!(A=null!==n.memoizedState||Jo)){t=null!==t&&null!==t.memoizedState||Zo;var i=Jo,s=Zo;Jo=A,(Zo=t)&&!s?ya(e,n,0!==(8772&n.subtreeFlags)):ma(e,n),Jo=i,Zo=s}512&r&&("manual"===n.memoizedProps.mode?Ko(n,n.return):Go(n,n.return))}}function ia(e){var t=e.alternate;null!==t&&(e.alternate=null,ia(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sa=null,oa=!1;function aa(e,t,n){for(n=n.child;null!==n;)la(e,t,n),n=n.sibling}function la(e,t,n){if(we&&"function"===typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(me,n)}catch(s){}switch(n.tag){case 26:Zo||Go(n,t),aa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Go(n,t);var r=sa,A=oa;for(sa=n.stateNode,aa(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);ze(n),sa=r,oa=A;break;case 5:Zo||Go(n,t);case 6:A=sa;var i=oa;if(sa=null,aa(e,t,n),oa=i,null!==(sa=A))if(oa)try{e=sa,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){rc(n,t,o)}else try{sa.removeChild(n.stateNode)}catch(o){rc(n,t,o)}break;case 18:null!==sa&&(oa?(t=sa,n=n.stateNode,8===t.nodeType?iu(t.parentNode,n):1===t.nodeType&&iu(t,n),gh(t)):iu(sa,n.stateNode));break;case 4:r=sa,A=oa,sa=n.stateNode.containerInfo,oa=!0,aa(e,t,n),sa=r,oa=A;break;case 0:case 11:case 14:case 15:Zo||Ho(2,n,t),Zo||Ho(4,n,t),aa(e,t,n);break;case 1:Zo||(Go(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Vo(n,t,r)),aa(e,t,n);break;case 21:aa(e,t,n);break;case 22:Zo||Go(n,t),Zo=(r=Zo)||null!==n.memoizedState,aa(e,t,n),Zo=r;break;default:aa(e,t,n)}}function ca(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(n){rc(t,t.return,n)}}function ua(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ta),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ta),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function ha(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var A=n[r],i=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 27:case 5:sa=a.stateNode,oa=!1;break e;case 3:case 4:sa=a.stateNode.containerInfo,oa=!0;break e}a=a.return}if(null===sa)throw Error(s(160));la(i,o,A),sa=null,oa=!1,null!==(i=A.alternate)&&(i.return=null),A.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fa(t,e),t=t.sibling}var da=null;function fa(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ha(t,e),ga(e),4&r&&(Ho(3,e,e.return),Po(3,e),Ho(5,e,e.return));break;case 1:ha(t,e),ga(e),512&r&&(Zo||null===n||Go(n,n.return)),64&r&&Jo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var A=da;if(ha(t,e),ga(e),512&r&&(Zo||null===n||Go(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,A=A.ownerDocument||A;t:switch(r){case"title":(!(i=A.getElementsByTagName("title")[0])||i[Ge]||i[Le]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=A.createElement(r),A.head.insertBefore(i,A.querySelector("head > title"))),zc(i,r,n),i[Le]=e,$e(i),r=i;break e;case"link":var o=Tu("link","href",A).get(r+(n.href||""));if(o)for(var a=0;a<o.length;a++)if((i=o[a]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(a,1);break t}zc(i=A.createElement(r),r,n),A.head.appendChild(i);break;case"meta":if(o=Tu("meta","content",A).get(r+(n.content||"")))for(a=0;a<o.length;a++)if((i=o[a]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(a,1);break t}zc(i=A.createElement(r),r,n),A.head.appendChild(i);break;default:throw Error(s(468,r))}i[Le]=e,$e(i),r=i}e.stateNode=r}else _u(A,e.type,e.stateNode);else e.stateNode=vu(A,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?_u(A,e.type,e.stateNode):vu(A,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Wo(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){A=e.stateNode,i=e.memoizedProps;try{for(var l=A.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[Ge]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===l.rel.toLowerCase()||A.removeChild(l),l=c}for(var h=e.type,d=A.attributes;d.length;)A.removeAttributeNode(d[0]);zc(A,h,i),A[Le]=e,A[ke]=i}catch(g){rc(e,e.return,g)}}case 5:if(ha(t,e),ga(e),512&r&&(Zo||null===n||Go(n,n.return)),32&e.flags){A=e.stateNode;try{vt(A,"")}catch(g){rc(e,e.return,g)}}4&r&&null!=e.stateNode&&Wo(e,A=e.memoizedProps,null!==n?n.memoizedProps:A),1024&r&&(ea=!0);break;case 6:if(ha(t,e),ga(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){rc(e,e.return,g)}}break;case 3:if(Su=null,A=da,da=hu(t.containerInfo),ha(t,e),da=A,ga(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(g){rc(e,e.return,g)}ea&&(ea=!1,pa(e));break;case 4:r=da,da=hu(e.stateNode.containerInfo),ha(t,e),ga(e),da=r;break;case 12:ha(t,e),ga(e);break;case 13:ha(t,e),ga(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yl=ae()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ua(e,r)));break;case 22:if(512&r&&(Zo||null===n||Go(n,n.return)),l=null!==e.memoizedState,c=null!==n&&null!==n.memoizedState,Jo=(u=Jo)||l,Zo=(h=Zo)||c,ha(t,e),Zo=h,Jo=u,ga(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=Jo||Zo,null===n||c||t||wa(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){c=n=t;try{if(A=c.stateNode,l)"function"===typeof(i=A.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var f=void 0!==(a=c.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){rc(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(g){rc(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ua(e,n))));break;case 19:ha(t,e),ga(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ua(e,r)));break;case 21:break;default:ha(t,e),ga(e)}}function ga(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Xo(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var A=r.stateNode;$o(e,Yo(e),A);break;case 5:var i=r.stateNode;32&r.flags&&(vt(i,""),r.flags&=-33),$o(e,Yo(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;qo(e,Yo(e),o);break;default:throw Error(s(161))}}}catch(a){rc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pa(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;pa(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Aa(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ho(4,t,t.return),wa(t);break;case 1:Go(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Vo(t,t.return,n),wa(t);break;case 26:case 27:case 5:Go(t,t.return),wa(t);break;case 22:Go(t,t.return),null===t.memoizedState&&wa(t);break;default:wa(t)}e=e.sibling}}function ya(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,A=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:ya(A,i,n),Po(4,i);break;case 1:if(ya(A,i,n),"function"===typeof(A=(r=i).stateNode).componentDidMount)try{A.componentDidMount()}catch(l){rc(r,r.return,l)}if(null!==(A=(r=i).updateQueue)){var o=r.stateNode;try{var a=A.shared.hiddenCallbacks;if(null!==a)for(A.shared.hiddenCallbacks=null,A=0;A<a.length;A++)Lo(a[A],o)}catch(l){rc(r,r.return,l)}}n&&64&s&&jo(i),Ko(i,i.return);break;case 26:case 27:case 5:ya(A,i,n),n&&null===r&&4&s&&zo(i),Ko(i,i.return);break;case 12:default:ya(A,i,n);break;case 13:ya(A,i,n),n&&4&s&&ca(A,i);break;case 22:null===i.memoizedState&&ya(A,i,n),Ko(i,i.return)}t=t.sibling}}function Ca(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&HA(n))}function Ba(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&HA(e))}function va(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ea(e,t,n,r),t=t.sibling}function Ea(e,t,n,r){var A=t.flags;switch(t.tag){case 0:case 11:case 15:va(e,t,n,r),2048&A&&Po(9,t);break;case 3:va(e,t,n,r),2048&A&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&HA(e)));break;case 12:if(2048&A){va(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(a){rc(t,t.return,a)}}else va(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?va(e,t,n,r):ba(e,t):4&i._visibility?va(e,t,n,r):(i._visibility|=4,Ia(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&A&&Ca(t.alternate,t);break;case 24:va(e,t,n,r),2048&A&&Ba(t.alternate,t);break;default:va(e,t,n,r)}}function Ia(e,t,n,r,A){for(A=A&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,a=r,l=s.flags;switch(s.tag){case 0:case 11:case 15:Ia(i,s,o,a,A),Po(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?4&c._visibility?Ia(i,s,o,a,A):ba(i,s):(c._visibility|=4,Ia(i,s,o,a,A)),A&&2048&l&&Ca(s.alternate,s);break;case 24:Ia(i,s,o,a,A),A&&2048&l&&Ba(s.alternate,s);break;default:Ia(i,s,o,a,A)}t=t.sibling}}function ba(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,A=r.flags;switch(r.tag){case 22:ba(n,r),2048&A&&Ca(r.alternate,r);break;case 24:ba(n,r),2048&A&&Ba(r.alternate,r);break;default:ba(n,r)}t=t.sibling}}var Sa=8192;function Ta(e){if(e.subtreeFlags&Sa)for(e=e.child;null!==e;)_a(e),e=e.sibling}function _a(e){switch(e.tag){case 26:Ta(e),e.flags&Sa&&null!==e.memoizedState&&function(e,t,n){if(null===Nu)throw Error(s(475));var r=Nu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var A=mu(n.href),i=e.querySelector(wu(A));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Du.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void $e(i);i=e.ownerDocument||e,n=yu(n),(A=cu.get(A))&&Iu(n,A),$e(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),zc(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Du.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(da,e.memoizedState,e.memoizedProps);break;case 5:default:Ta(e);break;case 3:case 4:var t=da;da=hu(e.stateNode.containerInfo),Ta(e),da=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Sa,Sa=16777216,Ta(e),Sa=t):Ta(e))}}function Fa(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Na(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];na=r,Qa(r,e)}Fa(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ua(e),e=e.sibling}function Ua(e){switch(e.tag){case 0:case 11:case 15:Na(e),2048&e.flags&&Ho(9,e,e.return);break;case 3:case 12:default:Na(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Da(e)):Na(e)}}function Da(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];na=r,Qa(r,e)}Fa(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ho(8,t,t.return),Da(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Da(t));break;default:Da(t)}e=e.sibling}}function Qa(e,t){for(;null!==na;){var n=na;switch(n.tag){case 0:case 11:case 15:Ho(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:HA(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,na=r;else e:for(n=e;null!==na;){var A=(r=na).sibling,i=r.return;if(ia(r),r===n){na=null;break e}if(null!==A){A.return=i,na=A;break e}na=i}}}function xa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(e,t,n,r){return new xa(e,t,n,r)}function Ma(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oa(e,t){var n=e.alternate;return null===n?((n=Ra(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function La(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ka(e,t,n,r,A,i){var o=0;if(r=e,"function"===typeof e)Ma(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Pa(n.children,A,i,t);case h:o=8,A|=24;break;case d:return(e=Ra(12,n,t,2|A)).elementType=d,e.lanes=i,e;case w:return(e=Ra(13,n,t,A)).elementType=w,e.lanes=i,e;case y:return(e=Ra(19,n,t,A)).elementType=y,e.lanes=i,e;case v:return Ha(n,A,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case p:o=10;break e;case g:o=9;break e;case m:o=11;break e;case C:o=14;break e;case B:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ra(o,n,t,A)).elementType=e,t.type=r,t.lanes=i,t}function Pa(e,t,n,r){return(e=Ra(7,e,r,t)).lanes=n,e}function Ha(e,t,n,r){(e=Ra(22,e,r,t)).elementType=v,e.lanes=n;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=A._current;if(null===e)throw Error(s(456));if(0===(2&A._pendingVisibility)){var t=Fr(e,2);null!==t&&(A._pendingVisibility|=2,Dl(t,e,2))}},attach:function(){var e=A._current;if(null===e)throw Error(s(456));if(0!==(2&A._pendingVisibility)){var t=Fr(e,2);null!==t&&(A._pendingVisibility&=-3,Dl(t,e,2))}}};return e.stateNode=A,e}function ja(e,t,n){return(e=Ra(6,e,null,t)).lanes=n,e}function Va(e,t,n){return(t=Ra(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ka(e){e.flags|=4}function Ga(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Fu(t)){if(null!==(t=_A.current)&&((4194176&rl)===rl?null!==FA:(62914560&rl)!==rl&&0===(536870912&rl)||t!==FA))throw hA=aA,oA;e.flags|=8192}}function za(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,gl|=t)}function Wa(e,t){if(!qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var A=e.child;null!==A;)n|=A.lanes|A.childLanes,r|=31457280&A.subtreeFlags,r|=31457280&A.flags,A.return=e,A=A.sibling;else for(A=e.child;null!==A;)n|=A.lanes|A.childLanes,r|=A.subtreeFlags,r|=A.flags,A.return=e,A=A.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ya(e,t,n){var r=t.pendingProps;switch(Wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Xa(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),yo(kA),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(rA(t)?Ka(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==$r&&(xl($r),$r=null))),Xa(t),null;case 26:return n=t.memoizedState,null===e?(Ka(t),null!==n?(Xa(t),Ga(t,n)):(Xa(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ka(t),Xa(t),Ga(t,n)):(Xa(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ka(t),Xa(t),t.flags&=-16777217),null;case 27:ne(t),n=$.current;var A=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xa(t),null}e=Y.current,rA(t)?tA(t):(e=lu(A,r,n),t.stateNode=e,Ka(t))}return Xa(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xa(t),null}if(e=Y.current,rA(t))tA(t);else{switch(A=Yc($.current),e){case 1:e=A.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=A.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=A.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=A.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=A.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?A.createElement("select",{is:r.is}):A.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?A.createElement(n,{is:r.is}):A.createElement(n)}}e[Le]=t,e[ke]=r;e:for(A=t.child;null!==A;){if(5===A.tag||6===A.tag)e.appendChild(A.stateNode);else if(4!==A.tag&&27!==A.tag&&null!==A.child){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;null===A.sibling;){if(null===A.return||A.return===t)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}t.stateNode=e;e:switch(zc(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ka(t)}}return Xa(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=$.current,rA(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(A=Xr))switch(A.tag){case 27:case 5:r=A.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||jc(e.nodeValue,n)))||eA(t)}else(e=Yc(e).createTextNode(r))[Le]=t,t.stateNode=e}return Xa(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(A=rA(t),null!==r&&null!==r.dehydrated){if(null===e){if(!A)throw Error(s(318));if(!(A=null!==(A=t.memoizedState)?A.dehydrated:null))throw Error(s(317));A[Le]=t}else AA(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xa(t),A=!1}else null!==$r&&(xl($r),$r=null),A=!0;if(!A)return 256&t.flags?(QA(t),t):(QA(t),null)}if(QA(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){A=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(A=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==A&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),za(t,t.updateQueue),Xa(t),null;case 4:return ee(),null===e&&Dc(t.stateNode.containerInfo),Xa(t),null;case 10:return yo(t.type),Xa(t),null;case 19:if(W(xA),null===(A=t.memoizedState))return Xa(t),null;if(r=0!==(128&t.flags),null===(i=A.rendering))if(r)Wa(A,!1);else{if(0!==cl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=RA(e))){for(t.flags|=128,Wa(A,!1),e=i.updateQueue,t.updateQueue=e,za(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)La(n,e),n=n.sibling;return X(xA,1&xA.current|2),t.child}e=e.sibling}null!==A.tail&&ae()>Cl&&(t.flags|=128,r=!0,Wa(A,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=RA(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,za(t,e),Wa(A,!0),null===A.tail&&"hidden"===A.tailMode&&!i.alternate&&!qr)return Xa(t),null}else 2*ae()-A.renderingStartTime>Cl&&536870912!==n&&(t.flags|=128,r=!0,Wa(A,!1),t.lanes=4194304);A.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=A.last)?e.sibling=i:t.child=i,A.last=i)}return null!==A.tail?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=ae(),t.sibling=null,e=xA.current,X(xA,r?1&e|2:1&e),t):(Xa(t),null);case 22:case 23:return QA(t),TA(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Xa(t),6&t.subtreeFlags&&(t.flags|=8192)):Xa(t),null!==(n=t.updateQueue)&&za(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(XA),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(kA),Xa(t),null;case 25:return null}throw Error(s(156,t.tag))}function qa(e,t){switch(Wr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(kA),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(QA(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));AA()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(xA),null;case 4:return ee(),null;case 10:return yo(t.type),null;case 22:case 23:return QA(t),TA(),null!==e&&W(XA),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(kA),null;default:return null}}function $a(e,t){switch(Wr(t),t.tag){case 3:yo(kA),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:QA(t);break;case 19:W(xA);break;case 10:yo(t.type);break;case 22:case 23:QA(t),TA(),null!==e&&W(XA);break;case 24:yo(kA)}}var Ja={getCacheForType:function(e){var t=bo(kA),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Za="function"===typeof WeakMap?WeakMap:Map,el=0,tl=null,nl=null,rl=0,Al=0,il=null,sl=!1,ol=!1,al=!1,ll=0,cl=0,ul=0,hl=0,dl=0,fl=0,gl=0,pl=null,ml=null,wl=!1,yl=0,Cl=1/0,Bl=null,vl=null,El=!1,Il=null,bl=0,Sl=0,Tl=null,_l=0,Fl=null;function Nl(){if(0!==(2&el)&&0!==rl)return rl&-rl;if(null!==N.T){return 0!==KA?KA:Bc()}return Me()}function Ul(){0===fl&&(fl=0===(536870912&rl)||qr?Fe():536870912);var e=_A.current;return null!==e&&(e.flags|=32),fl}function Dl(e,t,n){(e===tl&&2===Al||null!==e.cancelPendingCommit)&&(Pl(e,0),Ol(e,rl,fl,!1)),De(e,n),0!==(2&el)&&e===tl||(e===tl&&(0===(2&el)&&(hl|=n),4===cl&&Ol(e,rl,fl,!1)),gc(e))}function Ql(e,t,n){if(0!==(6&el))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Te(e,t),A=r?function(e,t){var n=el;el|=2;var r=jl(),A=Vl();tl!==e||rl!==t?(Bl=null,Cl=ae()+500,Pl(e,t)):ol=Te(e,t);e:for(;;)try{if(0!==Al&&null!==nl){t=nl;var i=il;t:switch(Al){case 1:Al=0,il=null,ql(e,t,i,1);break;case 2:if(lA(i)){Al=0,il=null,Yl(t);break}t=function(){2===Al&&tl===e&&(Al=7),gc(e)},i.then(t,t);break e;case 3:Al=7;break e;case 4:Al=5;break e;case 7:lA(i)?(Al=0,il=null,Yl(t)):(Al=0,il=null,ql(e,t,i,7));break;case 5:var o=null;switch(nl.tag){case 26:o=nl.memoizedState;case 5:case 27:var a=nl;if(!o||Fu(o)){Al=0,il=null;var l=a.sibling;if(null!==l)nl=l;else{var c=a.return;null!==c?(nl=c,$l(c)):nl=null}break t}}Al=0,il=null,ql(e,t,i,5);break;case 6:Al=0,il=null,ql(e,t,i,6);break;case 8:kl(),cl=6;break e;default:throw Error(s(462))}}Wl();break}catch(u){Hl(e,u)}return mo=po=null,N.H=r,N.A=A,el=n,null!==nl?0:(tl=null,rl=0,Sr(),cl)}(e,t):Gl(e,t,!0),i=r;;){if(0===A){ol&&!r&&Ol(e,t,0,!1);break}if(6===A)Ol(e,t,0,!sl);else{if(n=e.current.alternate,i&&!Ml(n)){A=Gl(e,t,!1),i=!1;continue}if(2===A){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var a=e;A=pl;var l=a.current.memoizedState.isDehydrated;if(l&&(Pl(a,o).flags|=256),2!==(o=Gl(a,o,!1))){if(al&&!l){a.errorRecoveryDisabledLanes|=i,hl|=i,A=4;break e}i=ml,ml=A,null!==i&&xl(i)}A=o}if(i=!1,2!==A)continue}}if(1===A){Pl(e,0),Ol(e,t,0,!0);break}e:{switch(r=e,A){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){Ol(r,t,fl,!sl);break e}break;case 2:ml=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=yl+300-ae())){if(Ol(r,t,fl,!sl),0!==Se(r,0))break e;r.timeoutHandle=eu(Rl.bind(null,r,n,ml,Bl,wl,t,fl,hl,gl,sl,2,-0,0),i)}else Rl(r,n,ml,Bl,wl,t,fl,hl,gl,sl,0,-0,0)}}break}gc(e)}function xl(e){null===ml?ml=e:ml.push.apply(ml,e)}function Rl(e,t,n,r,A,i,o,a,l,c,u,h,d){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Nu={stylesheets:null,count:0,unsuspend:Uu},_a(t),null!==(t=function(){if(null===Nu)throw Error(s(475));var e=Nu;return e.stylesheets&&0===e.count&&xu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zl.bind(null,e,n,r,A,o,a,l,1,h,d)),void Ol(e,i,o,!c);Zl(e,n,r,A,o,a,l,u,h,d)}function Ml(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var A=n[r],i=A.getSnapshot;A=A.value;try{if(!Xn(i(),A))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ol(e,t,n,r){t&=~dl,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var A=t;0<A;){var i=31-Ce(A),s=1<<i;r[i]=-1,A&=~s}0!==n&&Qe(e,n,t)}function Ll(){return 0!==(6&el)||(pc(0,!1),!1)}function kl(){if(null!==nl){if(0===Al)var e=nl.return;else mo=po=null,mi(e=nl),fA=null,gA=0,e=nl;for(;null!==e;)$a(e.alternate,e),e=e.return;nl=null}}function Pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,tu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),kl(),tl=e,nl=n=Oa(e.current,null),rl=t,Al=0,il=null,sl=!1,ol=Te(e,t),al=!1,gl=fl=dl=hl=ul=cl=0,ml=pl=null,wl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var A=31-Ce(r),i=1<<A;t|=e[A],r&=~i}return ll=t,Sr(),n}function Hl(e,t){ZA=null,N.H=Is,t===sA?(t=dA(),Al=3):t===oA?(t=dA(),Al=4):Al=t===js?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,il=t,null===nl&&(cl=1,Os(e,xr(t,e.current)))}function jl(){var e=N.H;return N.H=Is,null===e?Is:e}function Vl(){var e=N.A;return N.A=Ja,e}function Kl(){cl=4,sl||(4194176&rl)!==rl&&null!==_A.current||(ol=!0),0===(134217727&ul)&&0===(134217727&hl)||null===tl||Ol(tl,rl,fl,!1)}function Gl(e,t,n){var r=el;el|=2;var A=jl(),i=Vl();tl===e&&rl===t||(Bl=null,Pl(e,t)),t=!1;var s=cl;e:for(;;)try{if(0!==Al&&null!==nl){var o=nl,a=il;switch(Al){case 8:kl(),s=6;break e;case 3:case 2:case 6:null===_A.current&&(t=!0);var l=Al;if(Al=0,il=null,ql(e,o,a,l),n&&ol){s=0;break e}break;default:l=Al,Al=0,il=null,ql(e,o,a,l)}}zl(),s=cl;break}catch(c){Hl(e,c)}return t&&e.shellSuspendCounter++,mo=po=null,el=r,N.H=A,N.A=i,null===nl&&(tl=null,rl=0,Sr()),s}function zl(){for(;null!==nl;)Xl(nl)}function Wl(){for(;null!==nl&&!se();)Xl(nl)}function Xl(e){var t=fo(e.alternate,e,ll);e.memoizedProps=e.pendingProps,null===t?$l(e):nl=t}function Yl(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Js(n,t,t.pendingProps,t.type,void 0,rl);break;case 11:t=Js(n,t,t.pendingProps,t.type.render,t.ref,rl);break;case 5:mi(t);default:$a(n,t),t=fo(n,t=nl=La(t,ll),ll)}e.memoizedProps=e.pendingProps,null===t?$l(e):nl=t}function ql(e,t,n,r){mo=po=null,mi(t),fA=null,gA=0;var A=t.return;try{if(function(e,t,n,r,A){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&vo(t,n,A,!0),null!==(n=_A.current)){switch(n.tag){case 13:return null===FA?Kl():null===n.alternate&&0===cl&&(cl=3),n.flags&=-257,n.flags|=65536,n.lanes=A,r===aA?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Ac(e,r,A)),!1;case 22:return n.flags|=65536,r===aA?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Ac(e,r,A)),!1}throw Error(s(435,n.tag))}return Ac(e,r,A),Kl(),!1}if(qr)return null!==(t=_A.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=A,r!==Zr&&iA(xr(e=Error(s(422),{cause:r}),n))):(r!==Zr&&iA(xr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,A&=-A,e.lanes|=A,r=xr(r,n),xo(e,A=ks(e.stateNode,r,A)),4!==cl&&(cl=2)),!1;var i=Error(s(520),{cause:r});if(i=xr(i,n),null===pl?pl=[i]:pl.push(i),4!==cl&&(cl=2),null===t)return!0;r=xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=A&-A,n.lanes|=e,xo(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===vl||!vl.has(i))))return n.flags|=65536,A&=-A,n.lanes|=A,Hs(A=Ps(A),e,n,r),xo(n,A),!1}n=n.return}while(null!==n);return!1}(e,A,t,n,rl))return cl=1,Os(e,xr(n,e.current)),void(nl=null)}catch(i){if(null!==A)throw nl=A,i;return cl=1,Os(e,xr(n,e.current)),void(nl=null)}32768&t.flags?(qr||1===r?e=!0:ol||0!==(536870912&rl)?e=!1:(sl=e=!0,(2===r||3===r||6===r)&&(null!==(r=_A.current)&&13===r.tag&&(r.flags|=16384))),Jl(t,e)):$l(t)}function $l(e){var t=e;do{if(0!==(32768&t.flags))return void Jl(t,sl);e=t.return;var n=Ya(t.alternate,t,ll);if(null!==n)return void(nl=n);if(null!==(t=t.sibling))return void(nl=t);nl=t=e}while(null!==t);0===cl&&(cl=5)}function Jl(e,t){do{var n=qa(e.alternate,e);if(null!==n)return n.flags&=32767,void(nl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nl=e);nl=e=n}while(null!==e);cl=6,nl=null}function Zl(e,t,n,r,A,i,o,a,l,c){var u=N.T,h=j.p;try{j.p=2,N.T=null,function(e,t,n,r,A,i,o,a){do{tc()}while(null!==Il);if(0!==(6&el))throw Error(s(327));var l=e.finishedWork;if(r=e.finishedLanes,null===l)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(function(e,t,n,r,A,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,a=e.expirationTimes,l=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-Ce(n),u=1<<c;o[c]=0,a[c]=-1;var h=l[c];if(null!==h)for(l[c]=null,c=0;c<h.length;c++){var d=h[c];null!==d&&(d.lane&=-536870913)}n&=~u}0!==r&&Qe(e,r,0),0!==i&&0===A&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,r,c|=br,i,o,a),e===tl&&(nl=tl=null,rl=0),0===(10256&l.subtreeFlags)&&0===(10256&l.flags)||El||(El=!0,Sl=c,Tl=n,function(e,t){Ae(e,t)}(he,(function(){return tc(),null}))),n=0!==(15990&l.flags),0!==(15990&l.subtreeFlags)||n?(n=N.T,N.T=null,i=j.p,j.p=2,o=el,el|=4,function(e,t){if(e=e.containerInfo,Wc=Ku,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var A=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(p){n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==A&&3!==h.nodeType||(a=o+A),h!==i||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===A&&(a=o),d===i&&++u===r&&(l=o),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:e,selectionRange:n},Ku=!1,na=t;null!==na;)if(e=(t=na).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,na=e;else for(;null!==na;){switch(i=(t=na).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,A=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=Ds(n.type,A,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(m){rc(n,n.return,m)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))su(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":su(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,na=e;break}na=t.return}g=ra,ra=!1}(e,l),fa(l,e),tr(Xc,e.containerInfo),Ku=!!Wc,Xc=Wc=null,e.current=l,Aa(e,l.alternate,l),oe(),el=o,j.p=i,N.T=n):e.current=l,El?(El=!1,Il=e,bl=r):ec(e,c),c=e.pendingLanes,0===c&&(vl=null),function(e){if(we&&"function"===typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(me,e,void 0,128===(128&e.current.flags))}catch(t){}}(l.stateNode),gc(e),null!==t)for(A=e.onRecoverableError,l=0;l<t.length;l++)c=t[l],A(c.value,{componentStack:c.stack});0!==(3&bl)&&tc(),c=e.pendingLanes,0!==(4194218&r)&&0!==(42&c)?e===Fl?_l++:(_l=0,Fl=e):_l=0,pc(0,!1)}(e,t,n,r,h,A,i,o)}finally{N.T=u,j.p=h}}function ec(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,HA(t)))}function tc(){if(null!==Il){var e=Il,t=Sl;Sl=0;var n=Re(bl),r=N.T,A=j.p;try{if(j.p=32>n?32:n,N.T=null,null===Il)var i=!1;else{n=Tl,Tl=null;var o=Il,a=bl;if(Il=null,bl=0,0!==(6&el))throw Error(s(331));var l=el;if(el|=4,Ua(o.current),Ea(o,o.current,a,n),el=l,pc(0,!1),we&&"function"===typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(me,o)}catch(c){}i=!0}return i}finally{j.p=A,N.T=r,ec(e,t)}}return!1}function nc(e,t,n){t=xr(n,t),null!==(e=Do(e,t=ks(e.stateNode,t,2),2))&&(De(e,2),gc(e))}function rc(e,t,n){if(3===e.tag)nc(e,e,n);else for(;null!==t;){if(3===t.tag){nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===vl||!vl.has(r))){e=xr(n,e),null!==(r=Do(t,n=Ps(2),2))&&(Hs(n,r,t,e),De(r,2),gc(r));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Za;var A=new Set;r.set(t,A)}else void 0===(A=r.get(t))&&(A=new Set,r.set(t,A));A.has(n)||(al=!0,A.add(n),e=ic.bind(null,e,t,n),t.then(e,e))}function ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tl===e&&(rl&n)===n&&(4===cl||3===cl&&(62914560&rl)===rl&&300>ae()-yl?0===(2&el)&&Pl(e,0):dl|=n,gl===rl&&(gl=0)),gc(e)}function sc(e,t){0===t&&(t=Ne()),null!==(e=Fr(e,t))&&(De(e,t),gc(e))}function oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),sc(e,n)}function ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,A=e.memoizedState;null!==A&&(n=A.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),sc(e,n)}var lc=null,cc=null,uc=!1,hc=!1,dc=!1,fc=0;function gc(e){var t;e!==cc&&null===e.next&&(null===cc?lc=cc=e:cc=cc.next=e),hc=!0,uc||(uc=!0,t=mc,ru((function(){0!==(6&el)?Ae(ce,t):t()})))}function pc(e,t){if(!dc&&hc){dc=!0;do{for(var n=!1,r=lc;null!==r;){if(!t)if(0!==e){var A=r.pendingLanes;if(0===A)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-Ce(42|e)+1)-1,i=201326677&(i&=A&~(s&~o))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,Cc(r,i))}else i=rl,0===(3&(i=Se(r,r===tl?i:0)))||Te(r,i)||(n=!0,Cc(r,i));r=r.next}}while(n);dc=!1}}function mc(){hc=uc=!1;var e=0;0!==fc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zc&&(Zc=e,!0);return Zc=null,!1}()&&(e=fc),fc=0);for(var t=ae(),n=null,r=lc;null!==r;){var A=r.next,i=wc(r,t);0===i?(r.next=null,null===n?lc=A:n.next=A,null===A&&(cc=n)):(n=r,(0!==e||0!==(3&i))&&(hc=!0)),r=A}pc(e,!1)}function wc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,A=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-Ce(i),o=1<<s,a=A[s];-1===a?0!==(o&n)&&0===(o&r)||(A[s]=_e(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}if(n=rl,n=Se(e,e===(t=tl)?n:0),r=e.callbackNode,0===n||e===t&&2===Al||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Re(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=fe}return r=yc.bind(null,e),n=Ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function yc(e,t){var n=e.callbackNode;if(tc()&&e.callbackNode!==n)return null;var r=rl;return 0===(r=Se(e,e===tl?r:0))?null:(Ql(e,r,t),wc(e,ae()),null!=e.callbackNode&&e.callbackNode===n?yc.bind(null,e):null)}function Cc(e,t){if(tc())return null;Ql(e,t,!0)}function Bc(){return 0===fc&&(fc=Fe()),fc}function vc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ft(""+e)}function Ec(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ic=0;Ic<Br.length;Ic++){var bc=Br[Ic];vr(bc.toLowerCase(),"on"+(bc[0].toUpperCase()+bc.slice(1)))}vr(dr,"onAnimationEnd"),vr(fr,"onAnimationIteration"),vr(gr,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(pr,"onTransitionRun"),vr(mr,"onTransitionStart"),vr(wr,"onTransitionCancel"),vr(yr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc));function _c(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],A=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==i&&A.isPropagationStopped())break e;i=o,A.currentTarget=l;try{i(A)}catch(c){Qs(c)}A.currentTarget=null,i=a}else for(s=0;s<r.length;s++){if(a=(o=r[s]).instance,l=o.currentTarget,o=o.listener,a!==i&&A.isPropagationStopped())break e;i=o,A.currentTarget=l;try{i(A)}catch(c){Qs(c)}A.currentTarget=null,i=a}}}}function Fc(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(Qc(t,e,2,!1),n.add(r))}function Nc(e,t,n){var r=0;t&&(r|=4),Qc(n,e,r,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[Uc]){e[Uc]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Tc.has(t)||Nc(t,!1,e),Nc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uc]||(t[Uc]=!0,Nc("selectionchange",!1,t))}}function Qc(e,t,n,r){switch($u(t)){case 2:var A=Gu;break;case 8:A=zu;break;default:A=Wu}n=A.bind(null,t,n,e),A=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(A=!0),r?void 0!==A?e.addEventListener(t,n,{capture:!0,passive:A}):e.addEventListener(t,n,!0):void 0!==A?e.addEventListener(t,n,{passive:A}):e.addEventListener(t,n,!1)}function xc(e,t,n,r,A){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===A||8===o.nodeType&&o.parentNode===A)break;if(4===s)for(s=r.return;null!==s;){var a=s.tag;if((3===a||4===a)&&((a=s.stateNode.containerInfo)===A||8===a.nodeType&&a.parentNode===A))return;s=s.return}for(;null!==o;){if(null===(s=We(o)))return;if(5===(a=s.tag)||6===a||26===a||27===a){r=i=s;continue e}o=o.parentNode}}r=r.return}Mt((function(){var r=i,A=Ut(n),s=[];e:{var o=Cr.get(e);if(void 0!==o){var a=Jt,l=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":a=fn;break;case"focusin":l="focus",a=An;break;case"focusout":l="blur",a=An;break;case"beforeblur":case"afterblur":a=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=pn;break;case dr:case fr:case gr:a=sn;break;case yr:a=mn;break;case"scroll":case"scrollend":a=en;break;case"wheel":a=wn;break;case"copy":case"cut":case"paste":a=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=gn;break;case"toggle":case"beforetoggle":a=yn}var c=0!==(4&t),u=!c&&("scroll"===e||"scrollend"===e),h=c?null!==o?o+"Capture":null:o;c=[];for(var d,f=r;null!==f;){var g=f;if(d=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===d||null===h||null!=(g=Ot(f,h))&&c.push(Rc(f,g,d)),u)break;f=f.return}0<c.length&&(o=new a(o,l,null,n,A),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Nt||!(l=n.relatedTarget||n.fromElement)||!We(l)&&!l[Pe])&&(a||o)&&(o=A.window===A?A:(o=A.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=r,null!==(l=(l=n.relatedTarget||n.toElement)?We(l):null)&&(u=O(l),c=l.tag,l!==u||5!==c&&27!==c&&6!==c)&&(l=null)):(a=null,l=r),a!==l)){if(c=nn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==a?o:Ye(a),d=null==l?o:Ye(l),(o=new c(g,f+"leave",a,n,A)).target=u,o.relatedTarget=d,g=null,We(A)===r&&((c=new c(h,f+"enter",l,n,A)).target=d,c.relatedTarget=u,g=c),u=g,a&&l)e:{for(h=l,f=0,d=c=a;d;d=Oc(d))f++;for(d=0,g=h;g;g=Oc(g))d++;for(;0<f-d;)c=Oc(c),f--;for(;0<d-f;)h=Oc(h),d--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Oc(c),h=Oc(h)}c=null}else c=null;null!==a&&Lc(s,o,a,c,!1),null!==l&&null!==u&&Lc(s,u,l,c,!0)}if("select"===(a=(o=r?Ye(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var p=On;else if(Un(o))if(Ln)p=Wn;else{p=Gn;var m=Kn}else!(a=o.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&St(r.elementType)&&(p=On):p=zn;switch(p&&(p=p(e,r))?Dn(s,p,n,A):(m&&m(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),m=r?Ye(r):window,e){case"focusin":(Un(m)||"true"===m.contentEditable)&&(rr=m,Ar=r,ir=null);break;case"focusout":ir=Ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,A);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,A)}var w;if(Bn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Fn?Tn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Fn&&(w=Vt()):(Ht="value"in(Pt=A)?Pt.value:Pt.textContent,Fn=!0)),0<(m=Mc(r,y)).length&&(y=new an(y,e,null,n,A),s.push({event:y,listeners:m}),w?y.data=w:null!==(w=_n(n))&&(y.data=w))),(w=En?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Sn=!0,bn);case"textInput":return(e=t.data)===bn&&Sn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Bn&&Tn(e,t)?(e=Vt(),jt=Ht=Pt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Mc(r,"onBeforeInput")).length&&(m=new an("onBeforeInput","beforeinput",null,n,A),s.push({event:m,listeners:y}),m.data=w)),function(e,t,n,r,A){if("submit"===t&&n&&n.stateNode===A){var i=vc((A[ke]||null).action),s=r.submitter;s&&null!==(t=(t=s[ke]||null)?vc(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Jt("action","action",null,r,A);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fc){var e=s?Ec(A,s):new FormData(A);cs(n,{pending:!0,data:e,method:A.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Ec(A,s):new FormData(A),cs(n,{pending:!0,data:e,method:A.method,action:i},i,e))},currentTarget:A}]})}}(s,e,r,n,A)}_c(s,t)}))}function Rc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mc(e,t){for(var n=t+"Capture",r=[];null!==e;){var A=e,i=A.stateNode;5!==(A=A.tag)&&26!==A&&27!==A||null===i||(null!=(A=Ot(e,n))&&r.unshift(Rc(e,A,i)),null!=(A=Ot(e,t))&&r.push(Rc(e,A,i))),e=e.return}return r}function Oc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Lc(e,t,n,r,A){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,a=o.alternate,l=o.stateNode;if(o=o.tag,null!==a&&a===r)break;5!==o&&26!==o&&27!==o||null===l||(a=l,A?null!=(l=Ot(n,i))&&s.unshift(Rc(n,l,a)):A||null!=(l=Ot(n,i))&&s.push(Rc(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var kc=/\r\n?/g,Pc=/\u0000|\uFFFD/g;function Hc(e){return("string"===typeof e?e:""+e).replace(kc,"\n").replace(Pc,"")}function jc(e,t){return t=Hc(t),Hc(e)===t}function Vc(){}function Kc(e,t,n,r,A,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||vt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&vt(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":bt(e,r,i);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Kc(e,t,"name",A.name,A,null),Kc(e,t,"formEncType",A.formEncType,A,null),Kc(e,t,"formMethod",A.formMethod,A,null),Kc(e,t,"formTarget",A.formTarget,A,null)):(Kc(e,t,"encType",A.encType,A,null),Kc(e,t,"method",A.method,A,null),Kc(e,t,"target",A.target,A,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Vc);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=A.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ft(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fc("beforetoggle",e),Fc("toggle",e),st(e,"popover",r);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Tt.get(n)||n,r)}}function Gc(e,t,n,r,A,i){switch(n){case"style":bt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=A.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?vt(e,r):("number"===typeof r||"bigint"===typeof r)&&vt(e,""+r);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(A=n.endsWith("Capture"),t=n.slice(2,A?n.length-7:void 0),"function"===typeof(i=null!=(i=e[ke]||null)?i[n]:null)&&e.removeEventListener(t,i,A),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,A)))}}function zc(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fc("error",e),Fc("load",e);var r,A=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":A=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Kc(e,t,r,o,n,null)}}return i&&Kc(e,t,"srcSet",n.srcSet,n,null),void(A&&Kc(e,t,"src",n.src,n,null));case"input":Fc("invalid",e);var a=r=o=i=null,l=null,c=null;for(A in n)if(n.hasOwnProperty(A)){var u=n[A];if(null!=u)switch(A){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Kc(e,t,A,u,n,null)}}return mt(e,r,a,l,c,o,i,!1),void ut(e);case"select":for(i in Fc("invalid",e),A=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(a=n[i]))switch(i){case"value":r=a;break;case"defaultValue":o=a;break;case"multiple":A=a;default:Kc(e,t,i,a,n,null)}return t=r,n=o,e.multiple=!!A,void(null!=t?yt(e,!!A,t,!1):null!=n&&yt(e,!!A,n,!0));case"textarea":for(o in Fc("invalid",e),r=i=A=null,n)if(n.hasOwnProperty(o)&&null!=(a=n[o]))switch(o){case"value":A=a;break;case"defaultValue":i=a;break;case"children":r=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:Kc(e,t,o,a,n,null)}return Bt(e,A,i,r),void ut(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(A=n[l]))if("selected"===l)e.selected=A&&"function"!==typeof A&&"symbol"!==typeof A;else Kc(e,t,l,A,n,null);return;case"dialog":Fc("cancel",e),Fc("close",e);break;case"iframe":case"object":Fc("load",e);break;case"video":case"audio":for(A=0;A<Sc.length;A++)Fc(Sc[A],e);break;case"image":Fc("error",e),Fc("load",e);break;case"details":Fc("toggle",e);break;case"embed":case"source":case"link":Fc("error",e),Fc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(A=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Kc(e,t,c,A,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(A=n[u])&&Gc(e,t,u,A,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(null!=(A=n[a])&&Kc(e,t,a,A,n,null))}var Wc=null,Xc=null;function Yc(e){return 9===e.nodeType?e:e.ownerDocument}function qc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $c(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Jc(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zc=null;var eu="function"===typeof setTimeout?setTimeout:void 0,tu="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(Au)}:eu;function Au(e){setTimeout((function(){throw e}))}function iu(e,t){var n=t,r=0;do{var A=n.nextSibling;if(e.removeChild(n),A&&8===A.nodeType)if("/$"===(n=A.data)){if(0===r)return e.removeChild(A),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=A}while(n);gh(t)}function su(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":su(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function au(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function lu(e,t,n){switch(t=Yc(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var cu=new Map,uu=new Set;function hu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var du=j.d;j.d={f:function(){var e=du.f(),t=Ll();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?hs(t):du.r(e)},D:function(e){du.D(e),gu("dns-prefetch",e,null)},C:function(e,t){du.C(e,t),gu("preconnect",e,t)},L:function(e,t,n){du.L(e,t,n);var r=fu;if(r&&e&&t){var A='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(A+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(A+='[imagesizes="'+gt(n.imageSizes)+'"]')):A+='[href="'+gt(e)+'"]';var i=A;switch(t){case"style":i=mu(e);break;case"script":i=Cu(e)}cu.has(i)||(e=U({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),cu.set(i,e),null!==r.querySelector(A)||"style"===t&&r.querySelector(wu(i))||"script"===t&&r.querySelector(Bu(i))||(zc(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){du.m(e,t);var n=fu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",A='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=A;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Cu(e)}if(!cu.has(i)&&(e=U({rel:"modulepreload",href:e},t),cu.set(i,e),null===n.querySelector(A))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bu(i)))return}zc(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){du.X(e,t);var n=fu;if(n&&e){var r=qe(n).hoistableScripts,A=Cu(e),i=r.get(A);i||((i=n.querySelector(Bu(A)))||(e=U({src:e,async:!0},t),(t=cu.get(A))&&bu(e,t),$e(i=n.createElement("script")),zc(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(A,i))}},S:function(e,t,n){du.S(e,t,n);var r=fu;if(r&&e){var A=qe(r).hoistableStyles,i=mu(e);t=t||"default";var s=A.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(wu(i)))o.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":t},n),(n=cu.get(i))&&Iu(e,n);var a=s=r.createElement("link");$e(a),zc(a,"link",e),a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),a.addEventListener("load",(function(){o.loading|=1})),a.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Eu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},A.set(i,s)}}},M:function(e,t){du.M(e,t);var n=fu;if(n&&e){var r=qe(n).hoistableScripts,A=Cu(e),i=r.get(A);i||((i=n.querySelector(Bu(A)))||(e=U({src:e,async:!0,type:"module"},t),(t=cu.get(A))&&bu(e,t),$e(i=n.createElement("script")),zc(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(A,i))}}};var fu="undefined"===typeof document?null:document;function gu(e,t,n){var r=fu;if(r&&"string"===typeof t&&t){var A=gt(t);A='link[rel="'+e+'"][href="'+A+'"]',"string"===typeof n&&(A+='[crossorigin="'+n+'"]'),uu.has(A)||(uu.add(A),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(A)&&(zc(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function pu(e,t,n,r){var A,i,o,a,l=(l=$.current)?hu(l):null;if(!l)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=mu(n.href),(r=(n=qe(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=mu(n.href);var c=qe(l).hoistableStyles,u=c.get(e);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,u),(c=l.querySelector(wu(e)))&&!c._p&&(u.instance=c,u.state.loading=5),cu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cu.set(e,n),c||(A=l,i=e,o=n,a=u.state,A.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=A.createElement("link"),a.preload=i,i.addEventListener("load",(function(){return a.loading|=1})),i.addEventListener("error",(function(){return a.loading|=2})),zc(i,"link",o),$e(i),A.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Cu(n),(r=(n=qe(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function mu(e){return'href="'+gt(e)+'"'}function wu(e){return'link[rel="stylesheet"]['+e+"]"}function yu(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function Cu(e){return'[src="'+gt(e)+'"]'}function Bu(e){return"script[async]"+e}function vu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var A=U({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),zc(r,"style",A),Eu(r,n.precedence,e),t.instance=r;case"stylesheet":A=mu(n.href);var i=e.querySelector(wu(A));if(i)return t.state.loading|=4,t.instance=i,$e(i),i;r=yu(n),(A=cu.get(A))&&Iu(r,A),$e(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),zc(i,"link",r),t.state.loading|=4,Eu(i,n.precedence,e),t.instance=i;case"script":return i=Cu(n.src),(A=e.querySelector(Bu(i)))?(t.instance=A,$e(A),A):(r=n,(A=cu.get(i))&&bu(r=U({},n),A),$e(A=(e=e.ownerDocument||e).createElement("script")),zc(A,"link",r),e.head.appendChild(A),t.instance=A);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Eu(r,n.precedence,e));return t.instance}function Eu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=r.length?r[r.length-1]:null,i=A,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==A)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Iu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function bu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Su=null;function Tu(e,t,n){if(null===Su){var r=new Map,A=Su=new Map;A.set(n,r)}else(r=(A=Su).get(n))||(r=new Map,A.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),A=0;A<n.length;A++){var i=n[A];if(!(i[Ge]||i[Le]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function _u(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Fu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Nu=null;function Uu(){}function Du(){if(this.count--,0===this.count)if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Qu=null;function xu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Qu=new Map,t.forEach(Ru,e),Qu=null,Du.call(e))}function Ru(e,t){if(!(4&t.state.loading)){var n=Qu.get(e);if(n)var r=n.get(null);else{n=new Map,Qu.set(e,n);for(var A=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<A.length;i++){var s=A[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(A=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,A),n.set(s,A),this.count++,r=Du.bind(this),A.addEventListener("load",r),A.addEventListener("error",r),i?i.parentNode.insertBefore(A,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(A,e.firstChild),t.state.loading|=4}}var Mu={$$typeof:p,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Ou(e,t,n,r,A,i,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=r,this.onUncaughtError=A,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Lu(e,t,n,r,A,i,s,o,a,l,c,u){return e=new Ou(e,t,n,s,o,a,l,u),t=1,!0===i&&(t|=24),i=Ra(3,null,null,t),e.current=i,i.stateNode=e,(t=PA()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Fo(i),e}function ku(e){return e?e=Dr:Dr}function Pu(e,t,n,r,A,i){A=ku(A),null===r.context?r.context=A:r.pendingContext=A,(r=Uo(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Do(e,r,t))&&(Dl(n,0,t),Qo(n,e,t))}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ju(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}function Vu(e){if(13===e.tag){var t=Fr(e,67108864);null!==t&&Dl(t,0,67108864),ju(e,67108864)}}var Ku=!0;function Gu(e,t,n,r){var A=N.T;N.T=null;var i=j.p;try{j.p=2,Wu(e,t,n,r)}finally{j.p=i,N.T=A}}function zu(e,t,n,r){var A=N.T;N.T=null;var i=j.p;try{j.p=8,Wu(e,t,n,r)}finally{j.p=i,N.T=A}}function Wu(e,t,n,r){if(Ku){var A=Xu(r);if(null===A)xc(e,t,r,Yu,n),sh(e,r);else if(function(e,t,n,r,A){switch(t){case"focusin":return Zu=oh(Zu,e,t,n,r,A),!0;case"dragenter":return eh=oh(eh,e,t,n,r,A),!0;case"mouseover":return th=oh(th,e,t,n,r,A),!0;case"pointerover":var i=A.pointerId;return nh.set(i,oh(nh.get(i)||null,e,t,n,r,A)),!0;case"gotpointercapture":return i=A.pointerId,rh.set(i,oh(rh.get(i)||null,e,t,n,r,A)),!0}return!1}(A,e,t,n,r))r.stopPropagation();else if(sh(e,r),4&t&&-1<ih.indexOf(e)){for(;null!==A;){var i=Xe(A);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=be(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var a=1<<31-Ce(s);o.entanglements[1]|=a,s&=~a}gc(i),0===(6&el)&&(Cl=ae()+500,pc(0,!1))}}break;case 13:null!==(o=Fr(i,2))&&Dl(o,0,2),Ll(),ju(i,2)}if(null===(i=Xu(r))&&xc(e,t,r,Yu,n),i===A)break;A=i}null!==A&&r.stopPropagation()}else xc(e,t,r,null,n)}}function Xu(e){return qu(e=Ut(e))}var Yu=null;function qu(e){if(Yu=null,null!==(e=We(e))){var t=O(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=L(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yu=e,null}function $u(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case he:case de:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Ju=!1,Zu=null,eh=null,th=null,nh=new Map,rh=new Map,Ah=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,A,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[A]},null!==t&&(null!==(t=Xe(t))&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==A&&-1===t.indexOf(A)&&t.push(A),e)}function ah(e){var t=We(e.target);if(null!==t){var n=O(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=L(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nl(),t=Fr(n,e);null!==t&&Dl(t,0,e),ju(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function lh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xu(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&Vu(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function ch(e,t,n){lh(e)&&n.delete(t)}function uh(){Ju=!1,null!==Zu&&lh(Zu)&&(Zu=null),null!==eh&&lh(eh)&&(eh=null),null!==th&&lh(th)&&(th=null),nh.forEach(ch),rh.forEach(ch)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uh)))}var dh=null;function fh(e){dh!==e&&(dh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){dh===e&&(dh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],A=e[t+2];if("function"!==typeof r){if(null===qu(r||n))continue;break}var i=Xe(n);null!==i&&(e.splice(t,3),t-=3,cs(i,{pending:!0,data:A,method:n.method,action:r},r,A))}})))}function gh(e){function t(t){return hh(t,e)}null!==Zu&&hh(Zu,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<Ah.length;n++){var r=Ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)ah(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var A=n[r],i=n[r+1],s=A[ke]||null;if("function"===typeof i)s||fh(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(A=i,s=i[ke]||null)o=s.formAction;else if(null!==qu(A))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),fh(n)}}}function ph(e){this._internalRoot=e}function mh(e){this._internalRoot=e}mh.prototype.render=ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Pu(t.current,Nl(),e,t,null,null)},mh.prototype.unmount=ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tc(),Pu(e.current,2,null,e,null,null),Ll(),t[Pe]=null}},mh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&ah(e)}};var wh=A.version;if("19.0.0"!==wh)throw Error(s(527,wh,"19.0.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=O(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var A=n.return;if(null===A)break;var i=A.alternate;if(null===i){if(null!==(r=A.return)){n=r;continue}break}if(A.child===i.child){for(i=A.child;i;){if(i===n)return k(A),e;if(i===r)return k(A),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=A,r=i;else{for(var o=!1,a=A.child;a;){if(a===n){o=!0,n=A,r=i;break}if(a===r){o=!0,r=A,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=A;break}if(a===r){o=!0,r=i,n=A;break}a=a.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?P(e):null)?null:e.stateNode};var yh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{me=Ch.inject(yh),we=Ch}catch(vh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",A=xs,i=Rs,a=Ms;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(A=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(a=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Lu(e,1,!1,null,0,n,r,A,i,a,0,null),e[Pe]=t.current,Dc(8===e.nodeType?e.parentNode:e),new ph(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,A="",i=xs,a=Rs,l=Ms,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(A=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Lu(e,1,!0,t,0,r,A,i,a,l,0,c)).context=ku(null),n=t.current,(A=Uo(r=Nl())).callback=null,Do(n,A,r),t.current.lanes=r,De(t,r),gc(t),e[Pe]=t.current,Dc(e),new mh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},72:function(e,t,n){!function(e){"use strict";function t(e){return null===e||void 0===e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function A(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function s(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var o,a=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),i(r,n.prototype),s(r),r}return A(t,e),t}(Error);class l extends a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super(e),this.message=e}getKind(){return this.constructor.kind}}l.kind="Exception";class c extends l{}c.kind="ArgumentException";class u extends l{}u.kind="IllegalArgumentException";class h{constructor(e){if(this.binarizer=e,null===e)throw new u("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const A=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new h(this.binarizer.createBinarizer(A))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new h(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new h(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class d extends l{static getChecksumInstance(){return new d}}d.kind="ChecksumException";class f{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class g{static arraycopy(e,t,n,r,A){for(;A--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class p extends l{}p.kind="IndexOutOfBoundsException";class m extends p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(t),this.index=e,this.message=t}}m.kind="ArrayIndexOutOfBoundsException";class w{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){w.rangeCheck(e.length,t,n);for(let A=t;A<n;A++)e[A]=r}static rangeCheck(e,t,n){if(t>n)throw new u("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new m(t);if(n>e)throw new m(n)}static asList(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}static create(e,t,n){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(n)))}static createInt32Array(e,t,n){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(n)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,A=new Int32Array(r);return g.arraycopy(e,t,A,0,r),A}static binarySearch(e,t,n){void 0===n&&(n=w.numberComparator);let r=0,A=e.length-1;for(;r<=A;){const i=A+r>>1,s=n(t,e[i]);if(s>0)r=i+1;else{if(!(s<0))return i;A=i-1}}return-r-1}static numberComparator(e,t){return e-t}}class y{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let n=31;return t=e<<16,0!==t&&(n-=16,e=t),t=e<<8,0!==t&&(n-=8,e=t),t=e<<4,0!==t&&(n-=4,e=t),t=e<<2,0!==t&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}y.MIN_VALUE_32_BITS=-2147483648,y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class C{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===t||null===t?C.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=C.makeArray(e);g.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),A=n[r];A&=~((1<<(31&e))-1);const i=n.length;for(;0===A;){if(++r===i)return t;A=n[r]}const s=32*r+y.numberOfTrailingZeros(A);return s>t?t:s}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),A=~n[r];A&=~((1<<(31&e))-1);const i=n.length;for(;0===A;){if(++r===i)return t;A=~n[r]}const s=32*r+y.numberOfTrailingZeros(A);return s>t?t:s}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new u;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),A=this.bits;for(let i=n;i<=r;i++){const s=(2<<(i<r?31:31&t))-(1<<(i>n?0:31&e));A[i]|=s}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new u;if(t===e)return!0;t--;const r=Math.floor(e/32),A=Math.floor(t/32),i=this.bits;for(let s=r;s<=A;s++){const o=(2<<(s<A?31:31&t))-(1<<(s>r?0:31&e))&4294967295;if((i[s]&o)!==(n?o:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new u("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new u("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let A=0;A<r;A++){let r=0;for(let t=0;t<8;t++)this.get(e)&&(r|=1<<7-t),e++;t[n+A]=r}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let A=0;A<n;A++){let n=r[A];n=n>>1&1431655765|(1431655765&n)<<1,n=n>>2&858993459|(858993459&n)<<2,n=n>>4&252645135|(252645135&n)<<4,n=n>>8&16711935|(16711935&n)<<8,n=n>>16&65535|(65535&n)<<16,e[t-A]=n}if(this.size!==32*n){const t=32*n-this.size;let r=e[0]>>>t;for(let A=1;A<n;A++){const n=e[A];r|=n<<32-t,e[A-1]=r,r=n>>>t}e[n-1]=r}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof C))return!1;const t=e;return this.size===t.size&&w.equals(this.bits,t.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new C(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(o||(o={}));var B,v=o;class E extends l{static getFormatInstance(){return new E}}E.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(B||(B={}));class I{constructor(e,t,n){this.valueIdentifier=e,this.name=n,this.values="number"===typeof t?Int32Array.from([t]):t;for(var r=arguments.length,A=new Array(r>3?r-3:0),i=3;i<r;i++)A[i-3]=arguments[i];this.otherEncodingNames=A,I.VALUE_IDENTIFIER_TO_ECI.set(e,this),I.NAME_TO_ECI.set(n,this);const s=this.values;for(let o=0,a=s.length;o!==a;o++){const e=s[o];I.VALUES_TO_ECI.set(e,this)}for(const o of A)I.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new E("incorect value");const t=I.VALUES_TO_ECI.get(e);if(void 0===t)throw new E("incorect value");return t}static getCharacterSetECIByName(e){const t=I.NAME_TO_ECI.get(e);if(void 0===t)throw new E("incorect value");return t}equals(e){if(!(e instanceof I))return!1;const t=e;return this.getName()===t.getName()}}I.VALUE_IDENTIFIER_TO_ECI=new Map,I.VALUES_TO_ECI=new Map,I.NAME_TO_ECI=new Map,I.Cp437=new I(B.Cp437,Int32Array.from([0,2]),"Cp437"),I.ISO8859_1=new I(B.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),I.ISO8859_2=new I(B.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),I.ISO8859_3=new I(B.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),I.ISO8859_4=new I(B.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),I.ISO8859_5=new I(B.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),I.ISO8859_6=new I(B.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),I.ISO8859_7=new I(B.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),I.ISO8859_8=new I(B.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),I.ISO8859_9=new I(B.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),I.ISO8859_10=new I(B.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),I.ISO8859_11=new I(B.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),I.ISO8859_13=new I(B.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),I.ISO8859_14=new I(B.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),I.ISO8859_15=new I(B.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),I.ISO8859_16=new I(B.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),I.SJIS=new I(B.SJIS,20,"SJIS","Shift_JIS"),I.Cp1250=new I(B.Cp1250,21,"Cp1250","windows-1250"),I.Cp1251=new I(B.Cp1251,22,"Cp1251","windows-1251"),I.Cp1252=new I(B.Cp1252,23,"Cp1252","windows-1252"),I.Cp1256=new I(B.Cp1256,24,"Cp1256","windows-1256"),I.UnicodeBigUnmarked=new I(B.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),I.UTF8=new I(B.UTF8,26,"UTF8","UTF-8"),I.ASCII=new I(B.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),I.Big5=new I(B.Big5,28,"Big5"),I.GB18030=new I(B.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),I.EUC_KR=new I(B.EUC_KR,30,"EUC_KR","EUC-KR");class b extends l{}b.kind="UnsupportedOperationException";class S{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!S.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"===typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof I?e:I.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(S.isDecodeFallbackSupported(n)){let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+="%"+r}return decodeURIComponent(t)}if(n.equals(I.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new b(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(I.UTF8)||e.equals(I.ISO8859_1)||e.equals(I.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)}}class T{static castAsNonUtf8Char(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?t.getName():this.ISO88591;return S.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(null!==t&&void 0!==t&&void 0!==t.get(v.CHARACTER_SET))return t.get(v.CHARACTER_SET).toString();const n=e.length;let r=!0,A=!0,i=!0,s=0,o=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,g=0,p=0;const m=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let w=0;w<n&&(r||A||i);w++){const t=255&e[w];i&&(s>0?0===(128&t)?i=!1:s--:0!==(128&t)&&(0===(64&t)?i=!1:(s++,0===(32&t)?o++:(s++,0===(16&t)?a++:(s++,0===(8&t)?l++:i=!1))))),r&&(t>127&&t<160?r=!1:t>159&&(t<192||215===t||247===t)&&p++),A&&(c>0?t<64||127===t||t>252?A=!1:c--:128===t||160===t||t>239?A=!1:t>160&&t<224?(u++,d=0,h++,h>f&&(f=h)):t>127?(c++,h=0,d++,d>g&&(g=d)):(h=0,d=0))}return i&&s>0&&(i=!1),A&&c>0&&(A=!1),i&&(m||o+a+l>0)?T.UTF8:A&&(T.ASSUME_SHIFT_JIS||f>=3||g>=3)?T.SHIFT_JIS:r&&A?2===f&&2===u||10*p>=n?T.SHIFT_JIS:T.ISO88591:r?T.ISO88591:A?T.SHIFT_JIS:i?T.UTF8:T.PLATFORM_DEFAULT_ENCODING}static format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let A=-1;function i(e,t,r,i,s,o){if("%%"===e)return"%";if(void 0===n[++A])return;e=i?parseInt(i.substr(1)):void 0;let a,l=s?parseInt(s.substr(1)):void 0;switch(o){case"s":a=n[A];break;case"c":a=n[A][0];break;case"f":a=parseFloat(n[A]).toFixed(e);break;case"p":a=parseFloat(n[A]).toPrecision(e);break;case"e":a=parseFloat(n[A]).toExponential(e);break;case"x":a=parseInt(n[A]).toString(l||16);break;case"d":a=parseFloat(parseInt(n[A],l||10).toPrecision(e)).toFixed(0)}a="object"===typeof a?JSON.stringify(a):(+a).toString(l);let c=parseInt(r),u=r&&r[0]+""==="0"?"0":" ";for(;a.length<c;)a=void 0!==t?a+u:u+a;return a}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}static getBytes(e,t){return S.encode(e,t)}static getCharCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}T.SHIFT_JIS=I.SJIS.getName(),T.GB2312="GB2312",T.ISO88591=I.ISO8859_1.getName(),T.EUC_JP="EUC_JP",T.UTF8=I.UTF8.getName(),T.PLATFORM_DEFAULT_ENCODING=T.UTF8,T.ASSUME_SHIFT_JIS=!1;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=T.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class F{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new u("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new F(n,t);for(let A=0;A<t;A++){const t=e[A];for(let e=0;e<n;e++)t[e]&&r.set(e,A)}return r}static parseFromString(e,t,n){if(null===e)throw new u("stringRepresentation cannot be null");const r=new Array(e.length);let A=0,i=0,s=-1,o=0,a=0;for(;a<e.length;)if("\n"===e.charAt(a)||"\r"===e.charAt(a)){if(A>i){if(-1===s)s=A-i;else if(A-i!==s)throw new u("row lengths do not match");i=A,o++}a++}else if(e.substring(a,a+t.length)===t)a+=t.length,r[A]=!0,A++;else{if(e.substring(a,a+n.length)!==n)throw new u("illegal character encountered: "+e.substring(a));a+=n.length,r[A]=!1,A++}if(A>i){if(-1===s)s=A-i;else if(A-i!==s)throw new u("row lengths do not match");o++}const l=new F(s,o);for(let c=0;c<A;c++)r[c]&&l.set(Math.floor(c%s),Math.floor(c/s));return l}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new u("input matrix dimensions do not match");const t=new C(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let A=0,i=this.height;A<i;A++){const i=A*n,s=e.getRow(A,t).getBitArray();for(let e=0;e<n;e++)r[i+e]^=s[e]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new u("Left and top must be nonnegative");if(r<1||n<1)throw new u("Height and width must be at least 1");const A=e+n,i=t+r;if(i>this.height||A>this.width)throw new u("The region must fit inside the matrix");const s=this.rowSize,o=this.bits;for(let a=t;a<i;a++){const t=a*s;for(let n=e;n<A;n++)o[t+Math.floor(n/32)]|=1<<(31&n)&4294967295}}getRow(e,t){null===t||void 0===t||t.getSize()<this.width?t=new C(this.width):t.clear();const n=this.rowSize,r=this.bits,A=e*n;for(let i=0;i<n;i++)t.setBulk(32*i,r[A+i]);return t}setRow(e,t){g.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new C(e),r=new C(e);for(let A=0,i=Math.floor((t+1)/2);A<i;A++)n=this.getRow(A,n),r=this.getRow(t-1-A,r),n.reverse(),r.reverse(),this.setRow(A,r),this.setRow(t-1-A,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let A=e,i=t,s=-1,o=-1;for(let a=0;a<t;a++)for(let e=0;e<n;e++){const t=r[a*n+e];if(0!==t){if(a<i&&(i=a),a>o&&(o=a),32*e<A){let n=0;for(;0===(t<<31-n&4294967295);)n++;32*e+n<A&&(A=32*e+n)}if(32*e+31>s){let n=31;for(;t>>>n===0;)n--;32*e+n>s&&(s=32*e+n)}}}return s<A||o<i?null:Int32Array.from([A,i,s-A+1,o-i+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&0===t[n];)n++;if(n===t.length)return null;const r=n/e;let A=n%e*32;const i=t[n];let s=0;for(;0===(i<<31-s&4294967295);)s++;return A+=s,Int32Array.from([A,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&0===t[n];)n--;if(n<0)return null;const r=Math.floor(n/e);let A=32*Math.floor(n%e);const i=t[n];let s=31;for(;i>>>s===0;)s--;return A+=s,Int32Array.from([A,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof F))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&w.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+w.hashCode(this.bits),e}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new _;for(let A=0,i=this.height;A<i;A++){for(let n=0,i=this.width;n<i;n++)r.append(this.get(n,A)?e:t);r.append(n)}return r.toString()}clone(){return new F(this.width,this.height,this.rowSize,this.bits.slice())}}class N extends l{static getNotFoundInstance(){return new N}}N.kind="NotFoundException";class U extends f{constructor(e){super(e),this.luminances=U.EMPTY,this.buckets=new Int32Array(U.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();void 0===t||null===t||t.getSize()<r?t=new C(r):t.clear(),this.initArrays(r);const A=n.getRow(e,this.luminances),i=this.buckets;for(let o=0;o<r;o++)i[(255&A[o])>>U.LUMINANCE_SHIFT]++;const s=U.estimateBlackPoint(i);if(r<3)for(let o=0;o<r;o++)(255&A[o])<s&&t.set(o);else{let e=255&A[0],n=255&A[1];for(let i=1;i<r-1;i++){const r=255&A[i+1];(4*n-e-r)/2<s&&t.set(i),e=n,n=r}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new F(t,n);this.initArrays(t);const A=this.buckets;for(let o=1;o<5;o++){const r=Math.floor(n*o/5),i=e.getRow(r,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)A[(255&i[e])>>U.LUMINANCE_SHIFT]++}const i=U.estimateBlackPoint(A),s=e.getMatrix();for(let o=0;o<n;o++){const e=o*t;for(let n=0;n<t;n++)(255&s[e+n])<i&&r.set(n,o)}return r}createBinarizer(e){return new U(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<U.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,A=0;for(let l=0;l<t;l++)e[l]>A&&(r=l,A=e[l]),e[l]>n&&(n=e[l]);let i=0,s=0;for(let l=0;l<t;l++){const t=l-r,n=e[l]*t*t;n>s&&(i=l,s=n)}if(r>i){const e=r;r=i,i=e}if(i-r<=t/16)throw new N;let o=i-1,a=-1;for(let l=i-1;l>r;l--){const t=l-r,A=t*t*(i-l)*(n-e[l]);A>a&&(o=l,a=A)}return o<<U.LUMINANCE_SHIFT}}U.LUMINANCE_BITS=5,U.LUMINANCE_SHIFT=8-U.LUMINANCE_BITS,U.LUMINANCE_BUCKETS=1<<U.LUMINANCE_BITS,U.EMPTY=Uint8ClampedArray.from([0]);class D extends U{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=D.MINIMUM_DIMENSION&&n>=D.MINIMUM_DIMENSION){const r=e.getMatrix();let A=t>>D.BLOCK_SIZE_POWER;0!==(t&D.BLOCK_SIZE_MASK)&&A++;let i=n>>D.BLOCK_SIZE_POWER;0!==(n&D.BLOCK_SIZE_MASK)&&i++;const s=D.calculateBlackPoints(r,A,i,t,n),o=new F(t,n);D.calculateThresholdForBlock(r,A,i,t,n,s,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new D(e)}static calculateThresholdForBlock(e,t,n,r,A,i,s){const o=A-D.BLOCK_SIZE,a=r-D.BLOCK_SIZE;for(let l=0;l<n;l++){let A=l<<D.BLOCK_SIZE_POWER;A>o&&(A=o);const c=D.cap(l,2,n-3);for(let n=0;n<t;n++){let o=n<<D.BLOCK_SIZE_POWER;o>a&&(o=a);const l=D.cap(n,2,t-3);let u=0;for(let e=-2;e<=2;e++){const t=i[c+e];u+=t[l-2]+t[l-1]+t[l]+t[l+1]+t[l+2]}const h=u/25;D.thresholdBlock(e,o,A,h,r,s)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,A,i){for(let s=0,o=n*A+t;s<D.BLOCK_SIZE;s++,o+=A)for(let A=0;A<D.BLOCK_SIZE;A++)(255&e[o+A])<=r&&i.set(t+A,n+s)}static calculateBlackPoints(e,t,n,r,A){const i=A-D.BLOCK_SIZE,s=r-D.BLOCK_SIZE,o=new Array(n);for(let a=0;a<n;a++){o[a]=new Int32Array(t);let n=a<<D.BLOCK_SIZE_POWER;n>i&&(n=i);for(let A=0;A<t;A++){let t=A<<D.BLOCK_SIZE_POWER;t>s&&(t=s);let i=0,l=255,c=0;for(let A=0,s=n*r+t;A<D.BLOCK_SIZE;A++,s+=r){for(let t=0;t<D.BLOCK_SIZE;t++){const n=255&e[s+t];i+=n,n<l&&(l=n),n>c&&(c=n)}if(c-l>D.MIN_DYNAMIC_RANGE)for(A++,s+=r;A<D.BLOCK_SIZE;A++,s+=r)for(let t=0;t<D.BLOCK_SIZE;t++)i+=255&e[s+t]}let u=i>>2*D.BLOCK_SIZE_POWER;if(c-l<=D.MIN_DYNAMIC_RANGE&&(u=l/2,a>0&&A>0)){const e=(o[a-1][A]+2*o[a][A-1]+o[a-1][A-1])/4;l<e&&(u=e)}o[a][A]=u}}return o}}D.BLOCK_SIZE_POWER=3,D.BLOCK_SIZE=1<<D.BLOCK_SIZE_POWER,D.BLOCK_SIZE_MASK=D.BLOCK_SIZE-1,D.MINIMUM_DIMENSION=5*D.BLOCK_SIZE,D.MIN_DYNAMIC_RANGE=24;class Q{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new b("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new b("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new b("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new _;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let e=0;e<this.width;e++){const n=255&r[e];let A;A=n<64?"#":n<128?"+":n<192?".":" ",t.append(A)}t.append("\n")}return t.toString()}}class x extends Q{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let A=0;A<r;A++)n[A]=255-(255&n[A]);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(255&e[r]);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new x(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new x(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new x(this.delegate.rotateCounterClockwise45())}}class R extends Q{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=R.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return R.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let A=0,i=0,s=e.length;A<s;A+=4,i++){let t;t=0===e[A+3]?255:306*e[A]+601*e[A+1]+117*e[A+2]+512>>10,r[i]=t}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*R.DEGREE_TO_RADIANS,A=this.canvas.width,i=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(r))*A+Math.abs(Math.sin(r))*i),o=Math.ceil(Math.abs(Math.sin(r))*A+Math.abs(Math.cos(r))*i);return t.width=s,t.height=o,n.translate(s/2,o/2),n.rotate(r),n.drawImage(this.canvas,A/-2,i/-2),this.buffer=R.makeBufferFromCanvasImageData(t),this}invert(){return new x(this)}}R.DEGREE_TO_RADIANS=Math.PI/180;class M{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var O,L=(globalThis||n.g||self||window?(globalThis||n.g||self||window||void 0).__awaiter:void 0)||function(e,t,n,r){function A(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function o(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){e.done?n(e.value):A(e.value).then(s,o)}a((r=r.apply(e,t||[])).next())}))};class k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!==typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return L(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const r={deviceId:n.deviceId||n.id,label:n.label||`Video device ${t.length+1}`,kind:e,groupId:n.groupId};t.push(r)}return t}))}getVideoInputDevices(){return L(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new M(e.deviceId,e.label)))}))}findDeviceById(e){return L(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return L(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return L(this,void 0,void 0,(function*(){let n;this.reset(),n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)}))}decodeOnceFromConstraints(e,t){return L(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)}))}decodeOnceFromStream(e,t){return L(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)}))}decodeFromInputVideoDeviceContinuously(e,t,n){return L(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,n)}))}decodeFromVideoDevice(e,t,n){return L(this,void 0,void 0,(function*(){let r;r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const A={video:r};return yield this.decodeFromConstraints(A,t,n)}))}decodeFromConstraints(e,t,n){return L(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)}))}decodeFromStream(e,t,n){return L(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return L(this,void 0,void 0,(function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n}))}playVideoOnLoadAsync(e){return new Promise(((t,n)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return L(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new c(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new c(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new c("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new c("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(void 0===e&&void 0===t)throw new c("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new c("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let n;return this.imageElement=t,n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new c("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new c("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new c("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new c("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise(((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return L(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return L(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return"undefined"===typeof e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"===typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;const r=(A,i)=>{if(this._stopAsyncDecode)return i(new N("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{A(this.decode(e))}catch(s){if(t&&s instanceof N||(s instanceof d||s instanceof E)&&n)return setTimeout(r,this._timeBetweenDecodingAttempts,A,i);i(s)}};return new Promise(((e,t)=>r(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r),(r instanceof d||r instanceof E||r instanceof N)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.captureCanvasContext;t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new R(t),r=new D(n);return new h(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class P{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?0:8*t.length,r=arguments.length>3?arguments[3]:void 0,A=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g.currentTimeMillis();this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=A,this.timestamp=i,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=A,this.resultMetadata=null,this.timestamp=void 0===i||null===i?g.currentTimeMillis():i}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const n=new Array(t.length+e.length);g.arraycopy(t,0,n,0,t.length),g.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(O||(O={}));var H,j=O;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(H||(H={}));var V,K,G,z,W,X,Y=H;class q{constructor(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=A,this.structuredAppendParity=i,this.numBits=void 0===e||null===e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ${exp(e){return this.expTable[e]}log(e){if(0===e)throw new u;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class J{constructor(e,t){if(0===t.length)throw new u;this.field=e;const n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let n;if(1===e){n=0;for(let e=0,r=t.length;e!==r;e++){const r=t[e];n=$.addOrSubtract(n,r)}return n}n=t[0];const r=t.length,A=this.field;for(let i=1;i<r;i++)n=$.addOrSubtract(A.multiply(e,n),t[i]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const e=t;t=n,n=e}let r=new Int32Array(n.length);const A=n.length-t.length;g.arraycopy(n,0,r,0,A);for(let i=A;i<n.length;i++)r[i]=$.addOrSubtract(t[i-A],n[i]);return new J(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,A=r.length,i=new Int32Array(n+A-1),s=this.field;for(let o=0;o<n;o++){const e=t[o];for(let t=0;t<A;t++)i[o+t]=$.addOrSubtract(i[o+t],s.multiply(e,r[t]))}return new J(s,i)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),A=this.coefficients;for(let i=0;i<t;i++)r[i]=n.multiply(A[i],e);return new J(n,r)}multiplyByMonomial(e,t){if(e<0)throw new u;if(0===t)return this.field.getZero();const n=this.coefficients,r=n.length,A=new Int32Array(r+e),i=this.field;for(let s=0;s<r;s++)A[s]=i.multiply(n[s],t);return new J(i,A)}divide(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new u("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const A=e.getCoefficient(e.getDegree()),i=t.inverse(A);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const A=r.getDegree()-e.getDegree(),s=t.multiply(r.getCoefficient(r.getDegree()),i),o=e.multiplyByMonomial(A,s),a=t.buildMonomial(A,s);n=n.addOrSubtract(a),r=r.addOrSubtract(o)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){const t=this.field.log(n);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class Z extends l{}Z.kind="ArithmeticException";class ee extends ${constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let A=1;for(let s=0;s<t;s++)r[s]=A,A*=2,A>=t&&(A^=e,A&=t-1);this.expTable=r;const i=new Int32Array(t);for(let s=0;s<t-1;s++)i[r[s]]=s;this.logTable=i,this.zero=new J(this,Int32Array.from([0])),this.one=new J(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new u;if(0===t)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new J(this,n)}inverse(e){if(0===e)throw new Z;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+y.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends l{}te.kind="ReedSolomonException";class ne extends l{}ne.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new J(n,e),A=new Int32Array(t);let i=!0;for(let h=0;h<t;h++){const e=r.evaluateAt(n.exp(h+n.getGeneratorBase()));A[A.length-1-h]=e,0!==e&&(i=!1)}if(i)return;const s=new J(n,A),o=this.runEuclideanAlgorithm(n.buildMonomial(t,1),s,t),a=o[0],l=o[1],c=this.findErrorLocations(a),u=this.findErrorMagnitudes(l,c);for(let h=0;h<c.length;h++){const t=e.length-1-n.log(c[h]);if(t<0)throw new te("Bad error location");e[t]=ee.addOrSubtract(e[t],u[h])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const n=e;e=t,t=n}const r=this.field;let A=e,i=t,s=r.getZero(),o=r.getOne();for(;i.getDegree()>=(n/2|0);){let e=A,t=s;if(A=i,s=o,A.isZero())throw new te("r_{i-1} was zero");i=e;let n=r.getZero();const a=A.getCoefficient(A.getDegree()),l=r.inverse(a);for(;i.getDegree()>=A.getDegree()&&!i.isZero();){const e=i.getDegree()-A.getDegree(),t=r.multiply(i.getCoefficient(i.getDegree()),l);n=n.addOrSubtract(r.buildMonomial(e,t)),i=i.addOrSubtract(A.multiplyByMonomial(e,t))}if(o=n.multiply(s).addOrSubtract(t),i.getDegree()>=A.getDegree())throw new ne("Division algorithm failed to reduce polynomial?")}const a=o.getCoefficient(0);if(0===a)throw new te("sigmaTilde(0) was zero");const l=r.inverse(a);return[o.multiplyScalar(l),i.multiplyScalar(l)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const A=this.field;for(let i=1;i<A.getSize()&&r<t;i++)0===e.evaluateAt(i)&&(n[r]=A.inverse(i),r++);if(r!==t)throw new te("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),A=this.field;for(let i=0;i<n;i++){const s=A.inverse(t[i]);let o=1;for(let e=0;e<n;e++)if(i!==e){const n=A.multiply(t[e],s),r=0===(1&n)?1|n:-2&n;o=A.multiply(o,r)}r[i]=A.multiply(e.evaluateAt(s),A.inverse(o)),0!==A.getGeneratorBase()&&(r[i]=A.multiply(r[i],s))}return r}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(V||(V={}));class Ae{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),A=Ae.convertBoolArrayToByteArray(r),i=Ae.getEncodedData(r),s=new q(A,i,null,null);return s.setNumBits(r.length),s}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=V.UPPER,r=V.UPPER,A="",i=0;for(;i<t;)if(r===V.BINARY){if(t-i<5)break;let s=Ae.readCode(e,i,5);if(i+=5,0===s){if(t-i<11)break;s=Ae.readCode(e,i,11)+31,i+=11}for(let n=0;n<s;n++){if(t-i<8){i=t;break}const n=Ae.readCode(e,i,8);A+=T.castAsNonUtf8Char(n),i+=8}r=n}else{let s=r===V.DIGIT?4:5;if(t-i<s)break;let o=Ae.readCode(e,i,s);i+=s;let a=Ae.getCharacter(r,o);a.startsWith("CTRL_")?(n=r,r=Ae.getTable(a.charAt(5)),"L"===a.charAt(6)&&(n=r)):(A+=a,r=n)}return A}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return Ae.UPPER_TABLE[t];case V.LOWER:return Ae.LOWER_TABLE[t];case V.MIXED:return Ae.MIXED_TABLE[t];case V.PUNCT:return Ae.PUNCT_TABLE[t];case V.DIGIT:return Ae.DIGIT_TABLE[t];default:throw new ne("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ee.AZTEC_DATA_10):(n=12,t=ee.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),A=e.length/n;if(A<r)throw new E;let i=e.length%n,s=new Int32Array(A);for(let h=0;h<A;h++,i+=n)s[h]=Ae.readCode(e,i,n);try{new re(t).decode(s,A-r)}catch(u){throw new E(u)}let o=(1<<n)-1,a=0;for(let h=0;h<r;h++){let e=s[h];if(0===e||e===o)throw new E;1!==e&&e!==o-1||a++}let l=new Array(r*n-a),c=0;for(let h=0;h<r;h++){let e=s[h];if(1===e||e===o-1)l.fill(e>1,c,c+n-1),c+=n-1;else for(let t=n-1;t>=0;--t)l[c++]=0!==(e&1<<t)}return l}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,A=new Int32Array(r),i=new Array(this.totalBitsInLayer(n,t));if(t)for(let s=0;s<A.length;s++)A[s]=s;else{let e=r+1+2*y.truncDivision(y.truncDivision(r,2)-1,15),t=r/2,n=y.truncDivision(e,2);for(let r=0;r<t;r++){let e=r+y.truncDivision(r,15);A[t-r-1]=n-e-1,A[t+r]=n+e+1}}for(let s=0,o=0;s<n;s++){let a=4*(n-s)+(t?9:12),l=2*s,c=r-1-l;for(let t=0;t<a;t++){let n=2*t;for(let r=0;r<2;r++)i[o+n+r]=e.get(A[l+r],A[l+t]),i[o+2*a+n+r]=e.get(A[l+t],A[c-r]),i[o+4*a+n+r]=e.get(A[c-r],A[c-t]),i[o+6*a+n+r]=e.get(A[c-t],A[l+r])}o+=8*a}return i}static readCode(e,t,n){let r=0;for(let A=t;A<t+n;A++)r<<=1,e[A]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?Ae.readCode(e,t,8):Ae.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=Ae.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ae.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ie{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const A=e-n,i=t-r;return Math.sqrt(A*A+i*i)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++)t+=e[n];return t}}class se{static floatToIntBits(e){return e}}se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof oe){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*se.floatToIntBits(this.x)+se.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let A,i,s;if(n>=t&&n>=r?(i=e[0],A=e[1],s=e[2]):r>=n&&r>=t?(i=e[1],A=e[0],s=e[2]):(i=e[2],A=e[0],s=e[1]),this.crossProductZ(A,i,s)<0){const e=A;A=s,s=e}e[0]=A,e[1]=i,e[2]=s}static distance(e,t){return ie.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,A=t.y;return(n.x-r)*(e.y-A)-(n.y-A)*(e.x-r)}}class ae{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends ae{constructor(e,t,n,r,A){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=A}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ce{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==t&&null!==t||(t=ce.INIT_SIZE),void 0!==n&&null!==n||(n=e.getWidth()/2|0),void 0!==r&&null!==r||(r=e.getHeight()/2|0);const A=t/2|0;if(this.leftInit=n-A,this.rightInit=n+A,this.upInit=r-A,this.downInit=r+A,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new N}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,A=!1,i=!0,s=!1,o=!1,a=!1,l=!1,c=!1;const u=this.width,h=this.height;for(;i;){i=!1;let d=!0;for(;(d||!o)&&t<u;)d=this.containsBlackPoint(n,r,t,!1),d?(t++,i=!0,o=!0):o||t++;if(t>=u){A=!0;break}let f=!0;for(;(f||!a)&&r<h;)f=this.containsBlackPoint(e,t,r,!0),f?(r++,i=!0,a=!0):a||r++;if(r>=h){A=!0;break}let g=!0;for(;(g||!l)&&e>=0;)g=this.containsBlackPoint(n,r,e,!1),g?(e--,i=!0,l=!0):l||e--;if(e<0){A=!0;break}let p=!0;for(;(p||!c)&&n>=0;)p=this.containsBlackPoint(e,t,n,!0),p?(n--,i=!0,c=!0):c||n--;if(n<0){A=!0;break}i&&(s=!0)}if(!A&&s){const A=t-e;let i=null;for(let t=1;null===i&&t<A;t++)i=this.getBlackPointOnSegment(e,r-t,e+t,r);if(null==i)throw new N;let s=null;for(let t=1;null===s&&t<A;t++)s=this.getBlackPointOnSegment(e,n+t,e+t,n);if(null==s)throw new N;let o=null;for(let e=1;null===o&&e<A;e++)o=this.getBlackPointOnSegment(t,n+e,t-e,n);if(null==o)throw new N;let a=null;for(let e=1;null===a&&e<A;e++)a=this.getBlackPointOnSegment(t,r-e,t-e,r);if(null==a)throw new N;return this.centerEdges(a,i,o,s)}throw new N}getBlackPointOnSegment(e,t,n,r){const A=ie.round(ie.distance(e,t,n,r)),i=(n-e)/A,s=(r-t)/A,o=this.image;for(let a=0;a<A;a++){const n=ie.round(e+a*i),r=ie.round(t+a*s);if(o.get(n,r))return new oe(n,r)}return null}centerEdges(e,t,n,r){const A=e.getX(),i=e.getY(),s=t.getX(),o=t.getY(),a=n.getX(),l=n.getY(),c=r.getX(),u=r.getY(),h=ce.CORR;return A<this.width/2?[new oe(c-h,u+h),new oe(s+h,o+h),new oe(a-h,l-h),new oe(A+h,i-h)]:[new oe(c+h,u+h),new oe(s+h,o-h),new oe(a-h,l+h),new oe(A-h,i-h)]}containsBlackPoint(e,t,n,r){const A=this.image;if(r){for(let i=e;i<=t;i++)if(A.get(i,n))return!0}else for(let i=e;i<=t;i++)if(A.get(n,i))return!0;return!1}}ce.INIT_SIZE=10,ce.CORR=1;class ue{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let A=!0;for(let i=0;i<t.length&&A;i+=2){const e=Math.floor(t[i]),s=Math.floor(t[i+1]);if(e<-1||e>n||s<-1||s>r)throw new N;A=!1,-1===e?(t[i]=0,A=!0):e===n&&(t[i]=n-1,A=!0),-1===s?(t[i+1]=0,A=!0):s===r&&(t[i+1]=r-1,A=!0)}A=!0;for(let i=t.length-2;i>=0&&A;i-=2){const e=Math.floor(t[i]),s=Math.floor(t[i+1]);if(e<-1||e>n||s<-1||s>r)throw new N;A=!1,-1===e?(t[i]=0,A=!0):e===n&&(t[i]=n-1,A=!0),-1===s?(t[i+1]=0,A=!0):s===r&&(t[i+1]=r-1,A=!0)}}}class he{constructor(e,t,n,r,A,i,s,o,a){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=A,this.a32=i,this.a13=s,this.a23=o,this.a33=a}static quadrilateralToQuadrilateral(e,t,n,r,A,i,s,o,a,l,c,u,h,d,f,g){const p=he.quadrilateralToSquare(e,t,n,r,A,i,s,o);return he.squareToQuadrilateral(a,l,c,u,h,d,f,g).times(p)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,A=this.a13,i=this.a21,s=this.a22,o=this.a23,a=this.a31,l=this.a32,c=this.a33;for(let u=0;u<t;u+=2){const t=e[u],h=e[u+1],d=A*t+o*h+c;e[u]=(n*t+i*h+a)/d,e[u+1]=(r*t+s*h+l)/d}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,A=this.a13,i=this.a21,s=this.a22,o=this.a23,a=this.a31,l=this.a32,c=this.a33,u=e.length;for(let h=0;h<u;h++){const u=e[h],d=t[h],f=A*u+o*d+c;e[h]=(n*u+i*d+a)/f,t[h]=(r*u+s*d+l)/f}}static squareToQuadrilateral(e,t,n,r,A,i,s,o){const a=e-n+A-s,l=t-r+i-o;if(0===a&&0===l)return new he(n-e,A-n,e,r-t,i-r,t,0,0,1);{const c=n-A,u=s-A,h=r-i,d=o-i,f=c*d-u*h,g=(a*d-u*l)/f,p=(c*l-a*h)/f;return new he(n-e+g*n,s-e+p*s,e,r-t+g*r,o-t+p*o,t,g,p,1)}}static quadrilateralToSquare(e,t,n,r,A,i,s,o){return he.squareToQuadrilateral(e,t,n,r,A,i,s,o).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new he(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class de extends ue{sampleGrid(e,t,n,r,A,i,s,o,a,l,c,u,h,d,f,g,p,m,w){const y=he.quadrilateralToQuadrilateral(r,A,i,s,o,a,l,c,u,h,d,f,g,p,m,w);return this.sampleGridWithTransform(e,t,n,y)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new N;const A=new F(t,n),i=new Float32Array(2*t);for(let o=0;o<n;o++){const t=i.length,n=o+.5;for(let e=0;e<t;e+=2)i[e]=e/2+.5,i[e+1]=n;r.transformPoints(i),ue.checkAndNudgePoints(e,i);try{for(let n=0;n<t;n+=2)e.get(Math.floor(i[n]),Math.floor(i[n+1]))&&A.set(n/2,o)}catch(s){throw new N}}return A}}class fe{static setGridSampler(e){fe.gridSampler=e}static getInstance(){return fe.gridSampler}}fe.gridSampler=new de;class ge{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pe{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),A=this.getMatrixCornerPoints(n);return new le(r,A,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new N;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let i=0;i<4;i++){let e=n[(this.shift+i)%4];this.compact?(r<<=7,r+=e>>1&127):(r<<=10,r+=(e>>2&992)+(e>>1&31))}let A=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(A>>6),this.nbDataBlocks=1+(63&A)):(this.nbLayers=1+(A>>11),this.nbDataBlocks=1+(2047&A))}getRotation(e,t){let n=0;e.forEach(((e,r,A)=>{n=(e>>t-2<<1)+(1&e)+(n<<3)})),n=((1&n)<<11)+(n>>1);for(let r=0;r<4;r++)if(y.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new N}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let A=n-r,i=new Int32Array(n);for(let a=n-1;a>=0;--a)i[a]=15&e,e>>=4;try{new re(ee.AZTEC_PARAM).decode(i,A)}catch(o){throw new N}let s=0;for(let a=0;a<r;a++)s=(s<<4)+i[a];return s}getBullsEyeCorners(e){let t=e,n=e,r=e,A=e,i=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,i,1,-1),s=this.getFirstDifferent(n,i,1,1),o=this.getFirstDifferent(r,i,-1,1),a=this.getFirstDifferent(A,i,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(a,e)*this.nbCenterLayers/(this.distancePoint(A,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,s,o,a))break}t=e,n=s,r=o,A=a,i=!i}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new N;this.compact=5===this.nbCenterLayers;let s=new oe(t.getX()+.5,t.getY()-.5),o=new oe(n.getX()+.5,n.getY()+.5),a=new oe(r.getX()-.5,r.getY()+.5),l=new oe(A.getX()-.5,A.getY()-.5);return this.expandSquare([s,o,a,l],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let A=new ce(this.image).detect();e=A[0],t=A[1],n=A[2],r=A[3]}catch(s){let A=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new ge(A+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(A+7,i+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ge(A-7,i+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new ge(A-7,i-7),!1,-1,-1).toResultPoint()}let A=ie.round((e.getX()+r.getX()+t.getX()+n.getX())/4),i=ie.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let s=new ce(this.image,15,A,i).detect();e=s[0],t=s[1],n=s[2],r=s[3]}catch(s){e=this.getFirstDifferent(new ge(A+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(A+7,i+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ge(A-7,i+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new ge(A-7,i-7),!1,-1,-1).toResultPoint()}return A=ie.round((e.getX()+r.getX()+t.getX()+n.getX())/4),i=ie.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new ge(A,i)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,A){let i=fe.getInstance(),s=this.getDimension(),o=s/2-this.nbCenterLayers,a=s/2+this.nbCenterLayers;return i.sampleGrid(e,s,s,o,o,a,o,a,a,o,a,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),A.getX(),A.getY())}sampleLine(e,t,n){let r=0,A=this.distanceResultPoint(e,t),i=A/n,s=e.getX(),o=e.getY(),a=i*(t.getX()-e.getX())/A,l=i*(t.getY()-e.getY())/A;for(let c=0;c<n;c++)this.image.get(ie.round(s+c*a),ie.round(o+c*l))&&(r|=1<<n-c-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let A=3;e=new ge(e.getX()-A,e.getY()+A),t=new ge(t.getX()-A,t.getY()-A),n=new ge(n.getX()+A,n.getY()-A),r=new ge(r.getX()+A,r.getY()+A);let i=this.getColor(r,e);if(0===i)return!1;let s=this.getColor(e,t);return s===i&&(s=this.getColor(t,n),s===i&&(s=this.getColor(n,r),s===i))}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,A=(t.getY()-e.getY())/n,i=0,s=e.getX(),o=e.getY(),a=this.image.get(e.getX(),e.getY()),l=Math.ceil(n);for(let u=0;u<l;u++)s+=r,o+=A,this.image.get(ie.round(s),ie.round(o))!==a&&i++;let c=i/n;return c>.1&&c<.9?0:c<=.1===a?1:-1}getFirstDifferent(e,t,n,r){let A=e.getX()+n,i=e.getY()+r;for(;this.isValid(A,i)&&this.image.get(A,i)===t;)A+=n,i+=r;for(A-=n,i-=r;this.isValid(A,i)&&this.image.get(A,i)===t;)A+=n;for(A-=n;this.isValid(A,i)&&this.image.get(A,i)===t;)i+=r;return i-=r,new ge(A,i)}expandSquare(e,t,n){let r=n/(2*t),A=e[0].getX()-e[2].getX(),i=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,o=(e[0].getY()+e[2].getY())/2,a=new oe(s+r*A,o+r*i),l=new oe(s-r*A,o-r*i);return A=e[1].getX()-e[3].getX(),i=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,o=(e[1].getY()+e[3].getY())/2,[a,new oe(s+r*A,o+r*i),l,new oe(s-r*A,o-r*i)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ie.round(e.getX()),n=ie.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(y.truncDivision(this.nbLayers-4,8)+1)+15}}class me{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=new pe(e.getBlackMatrix()),A=null,i=null;try{let e=r.detectMirror(!1);A=e.getPoints(),this.reportFoundResultPoints(t,A),i=(new Ae).decode(e)}catch(l){n=l}if(null==i)try{let e=r.detectMirror(!0);A=e.getPoints(),this.reportFoundResultPoints(t,A),i=(new Ae).decode(e)}catch(l){if(null!=n)throw n;throw l}let s=new P(i.getText(),i.getRawBytes(),i.getNumBits(),A,j.AZTEC,g.currentTimeMillis()),o=i.getByteSegments();null!=o&&s.putMetadata(Y.BYTE_SEGMENTS,o);let a=i.getECLevel();return null!=a&&s.putMetadata(Y.ERROR_CORRECTION_LEVEL,a),s}reportFoundResultPoints(e,t){if(null!=e){let n=e.get(v.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(((e,t,r)=>{n.foundPossibleResultPoint(e)}))}}reset(){}}class we extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new me,e)}}class ye{decode(e,t){try{return this.doDecode(e,t)}catch(n){if(t&&!0===t.get(v.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),r=this.doDecode(n,t),A=r.getResultMetadata();let i=270;null!==A&&!0===A.get(Y.ORIENTATION)&&(i+=A.get(Y.ORIENTATION)%360),r.putMetadata(Y.ORIENTATION,i);const s=r.getResultPoints();if(null!==s){const e=n.getHeight();for(let t=0;t<s.length;t++)s[t]=new oe(e-s[t].getY()-1,s[t].getX())}return r}throw new N}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let A=new C(n);const i=t&&!0===t.get(v.TRY_HARDER),s=Math.max(1,r>>(i?8:5));let o;o=i?r:15;const a=Math.trunc(r/2);for(let u=0;u<o;u++){const i=Math.trunc((u+1)/2),o=a+s*(0===(1&u)?i:-i);if(o<0||o>=r)break;try{A=e.getBlackRow(o,A)}catch(l){continue}for(let e=0;e<2;e++){if(1===e&&(A.reverse(),t&&!0===t.get(v.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,n)=>e.set(n,t))),e.delete(v.NEED_RESULT_POINT_CALLBACK),t=e}try{const r=this.decodeRow(o,A,t);if(1===e){r.putMetadata(Y.ORIENTATION,180);const e=r.getResultPoints();null!==e&&(e[0]=new oe(n-e[0].getX()-1,e[0].getY()),e[1]=new oe(n-e[1].getX()-1,e[1].getY()))}return r}catch(c){}}}throw new N}static recordPattern(e,t,n){const r=n.length;for(let a=0;a<r;a++)n[a]=0;const A=e.getSize();if(t>=A)throw new N;let i=!e.get(t),s=0,o=t;for(;o<A;){if(e.get(o)!==i)n[s]++;else{if(++s===r)break;n[s]=1,i=!i}o++}if(s!==r&&(s!==r-1||o!==A))throw new N}static recordPatternInReverse(e,t,n){let r=n.length,A=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==A&&(r--,A=!A);if(r>=0)throw new N;ye.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let A=0,i=0;for(let a=0;a<r;a++)A+=e[a],i+=t[a];if(A<i)return Number.POSITIVE_INFINITY;const s=A/i;n*=s;let o=0;for(let a=0;a<r;a++){const r=e[a],A=t[a]*s,i=r>A?r-A:A-r;if(i>n)return Number.POSITIVE_INFINITY;o+=i}return o/A}}class Ce extends ye{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,A=Int32Array.from([0,0,0,0,0,0]),i=n,s=!1;const o=6;for(let a=n;a<t;a++)if(e.get(a)!==s)A[r]++;else{if(r===o-1){let t=Ce.MAX_AVG_VARIANCE,n=-1;for(let e=Ce.CODE_START_A;e<=Ce.CODE_START_C;e++){const r=ye.patternMatchVariance(A,Ce.CODE_PATTERNS[e],Ce.MAX_INDIVIDUAL_VARIANCE);r<t&&(t=r,n=e)}if(n>=0&&e.isRange(Math.max(0,i-(a-i)/2),i,!1))return Int32Array.from([i,a,n]);i+=A[0]+A[1],A=A.slice(2,A.length-1),A[r-1]=0,A[r]=0,r--}else r++;A[r]=1,s=!s}throw new N}static decodeCode(e,t,n){ye.recordPattern(e,n,t);let r=Ce.MAX_AVG_VARIANCE,A=-1;for(let i=0;i<Ce.CODE_PATTERNS.length;i++){const e=Ce.CODE_PATTERNS[i],n=this.patternMatchVariance(t,e,Ce.MAX_INDIVIDUAL_VARIANCE);n<r&&(r=n,A=i)}if(A>=0)return A;throw new N}decodeRow(e,t,n){const r=n&&!0===n.get(v.ASSUME_GS1),A=Ce.findStartPattern(t),i=A[2];let s=0;const o=new Uint8Array(20);let a;switch(o[s++]=i,i){case Ce.CODE_START_A:a=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:a=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:a=Ce.CODE_CODE_C;break;default:throw new E}let l=!1,c=!1,u="",h=A[0],f=A[1];const g=Int32Array.from([0,0,0,0,0,0]);let p=0,m=0,w=i,y=0,C=!0,B=!1,I=!1;for(;!l;){const e=c;switch(c=!1,p=m,m=Ce.decodeCode(t,g,f),o[s++]=m,m!==Ce.CODE_STOP&&(C=!0),m!==Ce.CODE_STOP&&(y++,w+=y*m),h=f,f+=g.reduce(((e,t)=>e+t),0),m){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new E}switch(a){case Ce.CODE_CODE_A:if(m<64)u+=I===B?String.fromCharCode(" ".charCodeAt(0)+m):String.fromCharCode(" ".charCodeAt(0)+m+128),I=!1;else if(m<96)u+=I===B?String.fromCharCode(m-64):String.fromCharCode(m+64),I=!1;else switch(m!==Ce.CODE_STOP&&(C=!1),m){case Ce.CODE_FNC_1:r&&(0===u.length?u+="]C1":u+=String.fromCharCode(29));break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!B&&I?(B=!0,I=!1):B&&I?(B=!1,I=!1):I=!0;break;case Ce.CODE_SHIFT:c=!0,a=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:a=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:a=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:l=!0}break;case Ce.CODE_CODE_B:if(m<96)u+=I===B?String.fromCharCode(" ".charCodeAt(0)+m):String.fromCharCode(" ".charCodeAt(0)+m+128),I=!1;else switch(m!==Ce.CODE_STOP&&(C=!1),m){case Ce.CODE_FNC_1:r&&(0===u.length?u+="]C1":u+=String.fromCharCode(29));break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!B&&I?(B=!0,I=!1):B&&I?(B=!1,I=!1):I=!0;break;case Ce.CODE_SHIFT:c=!0,a=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:a=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:a=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:l=!0}break;case Ce.CODE_CODE_C:if(m<100)m<10&&(u+="0"),u+=m;else switch(m!==Ce.CODE_STOP&&(C=!1),m){case Ce.CODE_FNC_1:r&&(0===u.length?u+="]C1":u+=String.fromCharCode(29));break;case Ce.CODE_CODE_A:a=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:a=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:l=!0}}e&&(a=a===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const b=f-h;if(f=t.getNextUnset(f),!t.isRange(f,Math.min(t.getSize(),f+(f-h)/2),!1))throw new N;if(w-=y*p,w%103!==p)throw new d;const S=u.length;if(0===S)throw new N;S>0&&C&&(u=a===Ce.CODE_CODE_C?u.substring(0,S-2):u.substring(0,S-1));const T=(A[1]+A[0])/2,_=h+b/2,F=o.length,U=new Uint8Array(F);for(let d=0;d<F;d++)U[d]=o[d];const D=[new oe(T,e),new oe(_,e)];return new P(u,U,0,D,j.CODE_128,(new Date).getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class Be extends ye{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let A,i,s=Be.findAsteriskPattern(t,r),o=t.getNextSet(s[1]),a=t.getSize();do{Be.recordPattern(t,o,r);let e=Be.toNarrowWidePattern(r);if(e<0)throw new N;A=Be.patternToChar(e),this.decodeRowResult+=A,i=o;for(let t of r)o+=t;o=t.getNextSet(o)}while("*"!==A);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let l,c=0;for(let d of r)c+=d;if(o!==a&&2*(o-i-c)<c)throw new N;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=Be.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==Be.ALPHABET_STRING.charAt(t%43))throw new d;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new N;l=this.extendedMode?Be.decodeExtended(this.decodeRowResult):this.decodeRowResult;let u=(s[1]+s[0])/2,h=i+c/2;return new P(l,null,0,[new oe(u,e),new oe(h,e)],j.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),A=0,i=r,s=!1,o=t.length;for(let a=r;a<n;a++)if(e.get(a)!==s)t[A]++;else{if(A===o-1){if(this.toNarrowWidePattern(t)===Be.ASTERISK_ENCODING&&e.isRange(Math.max(0,i-Math.floor((a-i)/2)),i,!1))return[i,a];i+=t[0]+t[1],t.copyWithin(0,2,2+A-1),t[A-1]=0,t[A]=0,A--}else A++;t[A]=1,s=!s}throw new N}static toNarrowWidePattern(e){let t,n=e.length,r=0;do{let A=2147483647;for(let t of e)t<A&&t>r&&(A=t);r=A,t=0;let i=0,s=0;for(let o=0;o<n;o++){let A=e[o];A>r&&(s|=1<<n-1-o,t++,i+=A)}if(3===t){for(let A=0;A<n&&t>0;A++){let n=e[A];if(n>r&&(t--,2*n>=i))return-1}return s}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<Be.CHARACTER_ENCODINGS.length;t++)if(Be.CHARACTER_ENCODINGS[t]===e)return Be.ALPHABET_STRING.charAt(t);if(e===Be.ASTERISK_ENCODING)return"*";throw new N}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let t=e.charAt(r);if("+"===t||"$"===t||"%"===t||"/"===t){let A=e.charAt(r+1),i="\0";switch(t){case"+":if(!(A>="A"&&A<="Z"))throw new E;i=String.fromCharCode(A.charCodeAt(0)+32);break;case"$":if(!(A>="A"&&A<="Z"))throw new E;i=String.fromCharCode(A.charCodeAt(0)-64);break;case"%":if(A>="A"&&A<="E")i=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")i=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")i=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")i=String.fromCharCode(A.charCodeAt(0)+43);else if("U"===A)i="\0";else if("V"===A)i="@";else if("W"===A)i="`";else{if("X"!==A&&"Y"!==A&&"Z"!==A)throw new E;i="\x7f"}break;case"/":if(A>="A"&&A<="O")i=String.fromCharCode(A.charCodeAt(0)-32);else{if("Z"!==A)throw new E;i=":"}}n+=i,r++}else n+=t}return n}}Be.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Be.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Be.ASTERISK_ENCODING=148;class ve extends ye{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),A=this.decodeEnd(t),i=new _;ve.decodeMiddle(t,r[1],A[0],i);let s=i.toString(),o=null;null!=n&&(o=n.get(v.ALLOWED_LENGTHS)),null==o&&(o=ve.DEFAULT_ALLOWED_LENGTHS);let a=s.length,l=!1,c=0;for(let h of o){if(a===h){l=!0;break}h>c&&(c=h)}if(!l&&a>c&&(l=!0),!l)throw new E;const u=[new oe(r[1],e),new oe(A[0],e)];return new P(s,null,0,u,j.ITF,(new Date).getTime())}static decodeMiddle(e,t,n,r){let A=new Int32Array(10),i=new Int32Array(5),s=new Int32Array(5);for(A.fill(0),i.fill(0),s.fill(0);t<n;){ye.recordPattern(e,t,A);for(let e=0;e<5;e++){let t=2*e;i[e]=A[t],s[e]=A[t+1]}let n=ve.decodeDigit(i);r.append(n.toString()),n=this.decodeDigit(s),r.append(n.toString()),A.forEach((function(e){t+=e}))}}decodeStart(e){let t=ve.skipWhiteSpace(e),n=ve.findGuardPattern(e,t,ve.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=10*this.narrowLineWidth;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new N}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new N;return n}decodeEnd(e){e.reverse();try{let n,r=ve.skipWhiteSpace(e);try{n=ve.findGuardPattern(e,r,ve.END_PATTERN_REVERSED[0])}catch(t){t instanceof N&&(n=ve.findGuardPattern(e,r,ve.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let A=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-A,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,A=new Int32Array(r),i=e.getSize(),s=!1,o=0,a=t;A.fill(0);for(let l=t;l<i;l++)if(e.get(l)!==s)A[o]++;else{if(o===r-1){if(ye.patternMatchVariance(A,n,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE)return[a,l];a+=A[0]+A[1],g.arraycopy(A,2,A,0,o-1),A[o-1]=0,A[o]=0,o--}else o++;A[o]=1,s=!s}throw new N}static decodeDigit(e){let t=ve.MAX_AVG_VARIANCE,n=-1,r=ve.PATTERNS.length;for(let A=0;A<r;A++){let r=ve.PATTERNS[A],i=ye.patternMatchVariance(e,r,ve.MAX_INDIVIDUAL_VARIANCE);i<t?(t=i,n=A):i===t&&(n=-1)}if(n>=0)return n%10;throw new N}}ve.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ve.MAX_AVG_VARIANCE=.38,ve.MAX_INDIVIDUAL_VARIANCE=.5,ve.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ve.START_PATTERN=Int32Array.from([1,1,1,1]),ve.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ee extends ye{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,n=!1,r=0,A=Int32Array.from([0,0,0]);for(;!n;){A=Int32Array.from([0,0,0]),t=Ee.findGuardPattern(e,r,!1,this.START_END_PATTERN,A);let i=t[0];r=t[1];let s=i-(r-i);s>=0&&(n=e.isRange(s,i,!1))}return t}static checkChecksum(e){return Ee.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Ee.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new E;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new E;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return Ee.findGuardPattern(e,t,!1,Ee.START_END_PATTERN,new Int32Array(Ee.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,A){let i=e.getSize(),s=0,o=t=n?e.getNextUnset(t):e.getNextSet(t),a=r.length,l=n;for(let c=t;c<i;c++)if(e.get(c)!==l)A[s]++;else{if(s===a-1){if(ye.patternMatchVariance(A,r,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return Int32Array.from([o,c]);o+=A[0]+A[1];let e=A.slice(2,A.length-1);for(let t=0;t<s-1;t++)A[t]=e[t];A[s-1]=0,A[s]=0,s--}else s++;A[s]=1,l=!l}throw new N}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let A=this.MAX_AVG_VARIANCE,i=-1,s=r.length;for(let o=0;o<s;o++){let e=r[o],n=ye.patternMatchVariance(t,e,Ee.MAX_INDIVIDUAL_VARIANCE);n<A&&(A=n,i=o)}if(i>=0)return i;throw new N}}Ee.MAX_AVG_VARIANCE=.48,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.START_END_PATTERN=Int32Array.from([1,1,1]),Ee.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ee.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ee.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ie{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,A=this.decodeMiddle(t,n,r),i=r.toString(),s=Ie.parseExtensionString(i),o=[new oe((n[0]+n[1])/2,e),new oe(A,e)],a=new P(i,null,0,o,j.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&a.putAllMetadata(s),a}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let A=e.getSize(),i=t[1],s=0;for(let a=0;a<5&&i<A;a++){let t=Ee.decodeDigit(e,r,i,Ee.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)i+=e;t>=10&&(s|=1<<4-a),4!==a&&(i=e.getNextSet(i),i=e.getNextUnset(i))}if(5!==n.length)throw new N;let o=this.determineCheckDigit(s);if(Ie.extensionChecksum(n.toString())!==o)throw new N;return i}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new N}static parseExtensionString(e){if(5!==e.length)return null;let t=Ie.parseExtension5String(e);return null==t?null:new Map([[Y.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())}}class be{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,A=this.decodeMiddle(t,n,r),i=r.toString(),s=be.parseExtensionString(i),o=[new oe((n[0]+n[1])/2,e),new oe(A,e)],a=new P(i,null,0,o,j.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&a.putAllMetadata(s),a}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let A=e.getSize(),i=t[1],s=0;for(let o=0;o<2&&i<A;o++){let t=Ee.decodeDigit(e,r,i,Ee.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)i+=e;t>=10&&(s|=1<<1-o),1!==o&&(i=e.getNextSet(i),i=e.getNextUnset(i))}if(2!==n.length)throw new N;if(parseInt(n.toString())%4!==s)throw new N;return i}static parseExtensionString(e){return 2!==e.length?null:new Map([[Y.ISSUE_NUMBER,parseInt(e)]])}}class Se{static decodeRow(e,t,n){let r=Ee.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ie).decodeRow(e,t,r)}catch(A){return(new be).decodeRow(e,t,r)}}}Se.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Te extends Ee{constructor(){super(),this.decodeRowStringBuffer="",Te.L_AND_G_PATTERNS=Te.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Te.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];Te.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Te.findStartGuardPattern(t),A=null==n?null:n.get(v.NEED_RESULT_POINT_CALLBACK);if(null!=A){const t=new oe((r[0]+r[1])/2,e);A.foundPossibleResultPoint(t)}let i=this.decodeMiddle(t,r,this.decodeRowStringBuffer),s=i.rowOffset,o=i.resultString;if(null!=A){const t=new oe(s,e);A.foundPossibleResultPoint(t)}let a=this.decodeEnd(t,s);if(null!=A){const t=new oe((a[0]+a[1])/2,e);A.foundPossibleResultPoint(t)}let l=a[1],c=l+(l-a[0]);if(c>=t.getSize()||!t.isRange(l,c,!1))throw new N;let u=o.toString();if(u.length<8)throw new E;if(!Te.checkChecksum(u))throw new d;let h=(r[1]+r[0])/2,f=(a[1]+a[0])/2,g=this.getBarcodeFormat(),p=[new oe(h,e),new oe(f,e)],m=new P(u,null,0,p,g,(new Date).getTime()),w=0;try{let n=Se.decodeRow(e,t,a[1]);m.putMetadata(Y.UPC_EAN_EXTENSION,n.getText()),m.putAllMetadata(n.getResultMetadata()),m.addResultPoints(n.getResultPoints()),w=n.getText().length}catch(C){}let y=null==n?null:n.get(v.ALLOWED_EAN_EXTENSIONS);if(null!=y){let e=!1;for(let t in y)if(w.toString()===t){e=!0;break}if(!e)throw new N}return m}decodeEnd(e,t){return Te.findGuardPattern(e,t,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Te.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Te.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new E;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new E;n+=t}return(1e3-n)%10}}class _e extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let A=e.getSize(),i=t[1],s=0;for(let o=0;o<6&&i<A;o++){let t=Te.decodeDigit(e,r,i,Te.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)i+=e;t>=10&&(s|=1<<5-o)}n=_e.determineFirstDigit(n,s),i=Te.findGuardPattern(e,i,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<6&&i<A;o++){let t=Te.decodeDigit(e,r,i,Te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)i+=e}return{rowOffset:i,resultString:n}}getBarcodeFormat(){return j.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new N}}_e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fe extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let A=e.getSize(),i=t[1];for(let s=0;s<4&&i<A;s++){let t=Te.decodeDigit(e,r,i,Te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)i+=e}i=Te.findGuardPattern(e,i,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<4&&i<A;s++){let t=Te.decodeDigit(e,r,i,Te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)i+=e}return{rowOffset:i,resultString:n}}getBarcodeFormat(){return j.EAN_8}}class Ne extends Te{constructor(){super(...arguments),this.ean13Reader=new _e}getBarcodeFormat(){return j.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let n=new P(t.substring(1),null,null,e.getResultPoints(),j.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new N}reset(){this.ean13Reader.reset()}}class Ue extends Te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map((e=>e));r[0]=0,r[1]=0,r[2]=0,r[3]=0;const A=e.getSize();let i=t[1],s=0;for(let o=0;o<6&&i<A;o++){const t=Ue.decodeDigit(e,r,i,Ue.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)i+=e;t>=10&&(s|=1<<5-o)}return{rowOffset:i,resultString:Ue.determineNumSysAndCheckDigit(n,s)}}decodeEnd(e,t){return Ue.findGuardPatternWithoutCounters(e,t,!0,Ue.MIDDLE_END_PATTERN)}checkChecksum(e){return Te.checkChecksum(Ue.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return String.fromCharCode("0".charCodeAt(0)+n)+e+String.fromCharCode("0".charCodeAt(0)+r);throw N.getNotFoundInstance()}getBarcodeFormat(){return j.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),n=new _;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}Ue.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ue.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class De extends ye{constructor(e){super();let n=null==e?null:e.get(v.POSSIBLE_FORMATS),r=[];t(n)?(r.push(new _e),r.push(new Ne),r.push(new Fe),r.push(new Ue)):(n.indexOf(j.EAN_13)>-1&&r.push(new _e),n.indexOf(j.UPC_A)>-1&&r.push(new Ne),n.indexOf(j.EAN_8)>-1&&r.push(new Fe),n.indexOf(j.UPC_E)>-1&&r.push(new Ue)),this.readers=r}decodeRow(e,t,n){for(let A of this.readers)try{const r=A.decodeRow(e,t,n),i=r.getBarcodeFormat()===j.EAN_13&&"0"===r.getText().charAt(0),s=null==n?null:n.get(v.POSSIBLE_FORMATS),o=null==s||s.includes(j.UPC_A);if(i&&o){const e=r.getRawBytes(),t=new P(r.getText().substring(1),e,e?e.length:null,r.getResultPoints(),j.UPC_A);return t.putAllMetadata(r.getResultMetadata()),t}return r}catch(r){}throw new N}reset(){for(let e of this.readers)e.reset()}}class Qe extends ye{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(ye.patternMatchVariance(e,t[n],Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return n;throw new N}static count(e){return ie.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let A=1;A<e.length;A++)t[A]>r&&(r=t[A],n=A);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let A=1;A<e.length;A++)t[A]<r&&(r=t[A],n=A);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=Qe.MIN_FINDER_PATTERN_RATIO&&n<=Qe.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let r of e)r>n&&(n=r),r<t&&(t=r);return n<10*t}return!1}}Qe.MAX_AVG_VARIANCE=.2,Qe.MAX_INDIVIDUAL_VARIANCE=.45,Qe.MIN_FINDER_PATTERN_RATIO=9.5/12,Qe.MAX_FINDER_PATTERN_RATIO=12.5/14;class xe{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof xe))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Re{constructor(e,t,n,r,A){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new oe(n,A)),this.resultPoints.push(new oe(r,A))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Re))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Me{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let o of e)r+=o;let A=0,i=0,s=e.length;for(let o=0;o<s-1;o++){let a;for(a=1,i|=1<<o;a<e[o];a++,i&=~(1<<o)){let e=Me.combins(r-a-1,s-o-2);if(n&&0===i&&r-a-(s-o-1)>=s-o-1&&(e-=Me.combins(r-a-(s-o),s-o-2)),s-o-1>1){let n=0;for(let e=r-a-(s-o-2);e>t;e--)n+=Me.combins(r-a-e-1,s-o-3);e-=n*(s-1-o)}else r-a>t&&e--;A+=e}r-=a}return A}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let A=1,i=1;for(let s=e;s>n;s--)A*=s,i<=r&&(A/=i,i++);for(;i<=r;)A/=i,i++;return A}}class Oe{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let n=new C(12*t),r=0,A=e[0].getRightChar().getValue();for(let i=11;i>=0;--i)0!=(A&1<<i)&&n.set(r),r++;for(let i=1;i<e.length;++i){let t=e[i],A=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(A&1<<e)&&n.set(r),r++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&n.set(r),r++}}return n}}class Le{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ke{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Pe extends ke{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Pe.FNC1}}Pe.FNC1="$";class He extends ke{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class je extends ke{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new E;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===je.FNC1}isSecondDigitFNC1(){return this.secondDigit===je.FNC1}isAnyFNC1(){return this.firstDigit===je.FNC1||this.secondDigit===je.FNC1}}je.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new N;let t=e.substring(0,2);for(let A of Ve.TWO_DIGIT_DATA_LENGTH)if(A[0]===t)return A[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,A[2],e):Ve.processFixedAI(2,A[1],e);if(e.length<3)throw new N;let n=e.substring(0,3);for(let A of Ve.THREE_DIGIT_DATA_LENGTH)if(A[0]===n)return A[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,A[2],e):Ve.processFixedAI(3,A[1],e);for(let A of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(A[0]===n)return A[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,A[2],e):Ve.processFixedAI(4,A[1],e);if(e.length<4)throw new N;let r=e.substring(0,4);for(let A of Ve.FOUR_DIGIT_DATA_LENGTH)if(A[0]===r)return A[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,A[2],e):Ve.processFixedAI(4,A[1],e);throw new N}static processFixedAI(e,t,n){if(n.length<e)throw new N;let r=n.substring(0,e);if(n.length<e+t)throw new N;let A=n.substring(e,e+t),i=n.substring(e+t),s="("+r+")"+A,o=Ve.parseFieldsInGeneralPurpose(i);return null==o?s:s+o}static processVariableAI(e,t,n){let r,A=n.substring(0,e);r=n.length<e+t?n.length:e+t;let i=n.substring(e,r),s=n.substring(r),o="("+A+")"+i,a=Ve.parseFieldsInGeneralPurpose(s);return null==a?o:o+a}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class Ke{constructor(e){this.buffer=new _,this.information=e}decodeAllCodes(e,t){let n=t,r=null;for(;;){let t=this.decodeGeneralPurposeField(n,r),A=Ve.parseFieldsInGeneralPurpose(t.getNewString());if(null!=A&&e.append(A),r=t.isRemaining()?""+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new je(this.information.getSize(),0===t?je.FNC1:t-1,je.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new je(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Ke.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let A=0;A<n;++A)e.get(t+A)&&(r|=1<<n-A-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return null!=n&&n.isRemaining()?new He(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new He(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new He(this.current.getPosition(),this.buffer.toString()):new He(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Le(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new He(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new He(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new He(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Le(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Pe(e+5,Pe.FNC1);if(t>=5&&t<15)return new Pe(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Pe(e+7,""+(r+1));if(r>=90&&r<116)return new Pe(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new E}return new Pe(e+8,n)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Pe(e+5,Pe.FNC1);if(t>=5&&t<15)return new Pe(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Pe(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new ne("Decoding invalid alphanumeric value: "+r)}return new Pe(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ge{constructor(e){this.information=e,this.generalDecoder=new Ke(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ze extends Ge{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100===0&&e.append("0"),n/10===0&&e.append("0"),e.append(n)}ze.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let A=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*A:A}n=10-n%10,10===n&&(n=0),e.append(n)}}ze.GTIN_SIZE=40;class We extends ze{constructor(e){super(e)}parseInformation(){let e=new _;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(We.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,We.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,We.HEADER_SIZE+44)}}We.HEADER_SIZE=4;class Xe extends Ge{constructor(e){super(e)}parseInformation(){let e=new _;return this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE)}}Xe.HEADER_SIZE=5;class Ye extends ze{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let A=this.checkWeight(r),i=1e5;for(let s=0;s<5;++s)A/i===0&&e.append("0"),i/=10;e.append(A)}}class qe extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=qe.HEADER_SIZE+Ye.GTIN_SIZE+qe.WEIGHT_SIZE)throw new N;let e=new _;return this.encodeCompressedGtin(e,qe.HEADER_SIZE),this.encodeCompressedWeight(e,qe.HEADER_SIZE+Ye.GTIN_SIZE,qe.WEIGHT_SIZE),e.toString()}}qe.HEADER_SIZE=5,qe.WEIGHT_SIZE=15;class $e extends qe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Je extends qe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Ze extends ze{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ze.HEADER_SIZE+ze.GTIN_SIZE)throw new N;let e=new _;this.encodeCompressedGtin(e,Ze.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Ze.HEADER_SIZE+ze.GTIN_SIZE,Ze.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Ze.HEADER_SIZE+ze.GTIN_SIZE+Ze.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}Ze.HEADER_SIZE=8,Ze.LAST_DIGIT_SIZE=2;class et extends ze{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+ze.GTIN_SIZE)throw new N;let e=new _;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+ze.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+ze.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+ze.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends Ye{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new N;let e=new _;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==n)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let A=n%12+1;n/=12;let i=n;i/10==0&&e.append("0"),e.append(i),A/10==0&&e.append("0"),e.append(A),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function nt(e){try{if(e.get(1))return new We(e);if(!e.get(2))return new Xe(e);switch(Ke.extractNumericValueFromBitArray(e,1,4)){case 4:return new $e(e);case 5:return new Je(e)}switch(Ke.extractNumericValueFromBitArray(e,1,5)){case 12:return new Ze(e);case 13:return new et(e)}switch(Ke.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new ne("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class rt{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof rt&&rt.equalsOrNull(e.leftchar,t.leftchar)&&rt.equalsOrNull(e.rightchar,t.rightchar)&&rt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:rt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class At{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof At&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach(((e,r)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)}))})),n}}class it extends Qe{constructor(e){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n,r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(A){if(A instanceof N){if(!this.pairs.length)throw new N;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new N}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let n of e)this.pairs.push(n.getPairs());if(this.pairs.push(t.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let A=new Array(e);A.push(t);try{return this.checkRows(A,r+1)}catch(n){this.verbose&&console.log(n)}}throw new N}static isValidSequence(e){for(let t of it.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,A=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){A=t.isEquivalent(this.pairs);break}r=t.isEquivalent(this.pairs),n++}A||r||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new At(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length)for(let t of n.getPairs())for(let n of e)if(rt.equals(t,n))break}static isPartialRow(e,t){for(let n of t){let t=!0;for(let r of e){let e=!1;for(let t of n.getPairs())if(r.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=nt(Oe.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),A=[n[0],n[1],r[0],r[1]];return new P(t,null,null,A,j.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;let r=n.getChecksumPortion(),A=2;for(let i=1;i<this.pairs.size();++i){let e=this.pairs.get(i);r+=e.getLeftChar().getChecksumPortion(),A++;let t=e.getRightChar();null!=t&&(r+=t.getChecksumPortion(),A++)}return r%=211,211*(A-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r,A=t.length%2==0;this.startFromEven&&(A=!A);let i=!0,s=-1;do{this.findNextPair(e,t,s),r=this.parseFoundFinderPattern(e,n,A),null==r?s=it.getNextSecondBar(e,this.startEnd[0]):i=!1}while(i);let o,a=this.decodeDataCharacter(e,r,A,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new N;try{o=this.decodeDataCharacter(e,r,A,!1)}catch(l){o=null,this.verbose&&console.log(l)}return new rt(a,o,r,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let A,i=e.getSize();A=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let s=t.length%2!=0;this.startFromEven&&(s=!s);let o=!1;for(;A<i&&(o=!e.get(A),o);)A++;let a=0,l=A;for(let c=A;c<i;c++)if(e.get(c)!=o)r[a]++;else{if(3==a){if(s&&it.reverseCounters(r),it.isFinderPattern(r))return this.startEnd[0]=l,void(this.startEnd[1]=c);s&&it.reverseCounters(r),l+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,a--}else a++;r[a]=1,o=!o}throw new N}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,A,i;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,r=this.startEnd[0]-t,A=t,i=this.startEnd[1]}else A=this.startEnd[0],i=e.getNextUnset(this.startEnd[1]+1),r=i-this.startEnd[1];let s,o=this.getDecodeFinderCounters();g.arraycopy(o,0,o,1,o.length-1),o[0]=r;try{s=this.parseFinderValue(o,it.FINDER_PATTERNS)}catch(a){return null}return new Re(s,[A,i],A,i,t)}decodeDataCharacter(e,t,n,r){let A=this.getDataCharacterCounters();for(let I=0;I<A.length;I++)A[I]=0;if(r)it.recordPatternInReverse(e,t.getStartEnd()[0],A);else{it.recordPattern(e,t.getStartEnd()[1],A);for(let e=0,t=A.length-1;e<t;e++,t--){let n=A[e];A[e]=A[t],A[t]=n}}let i=17,s=ie.sum(new Int32Array(A))/i,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(s-o)/o>.3)throw new N;let a=this.getOddCounts(),l=this.getEvenCounts(),c=this.getOddRoundingErrors(),u=this.getEvenRoundingErrors();for(let I=0;I<A.length;I++){let e=1*A[I]/s,t=e+.5;if(t<1){if(e<.3)throw new N;t=1}else if(t>8){if(e>8.7)throw new N;t=8}let n=I/2;0==(1&I)?(a[n]=t,c[n]=e-t):(l[n]=t,u[n]=e-t)}this.adjustOddEvenCounts(i);let h=4*t.getValue()+(n?0:2)+(r?0:1)-1,d=0,f=0;for(let I=a.length-1;I>=0;I--){if(it.isNotA1left(t,n,r)){let e=it.WEIGHTS[h][2*I];f+=a[I]*e}d+=a[I]}let g=0;for(let I=l.length-1;I>=0;I--)if(it.isNotA1left(t,n,r)){let e=it.WEIGHTS[h][2*I+1];g+=l[I]*e}let p=f+g;if(0!=(1&d)||d>13||d<4)throw new N;let m=(13-d)/2,w=it.SYMBOL_WIDEST[m],y=9-w,C=Me.getRSSvalue(a,w,!0),B=Me.getRSSvalue(l,y,!1),v=it.EVEN_TOTAL_SUBSET[m],E=it.GSUM[m];return new xe(C*v+B+E,p)}static isNotA1left(e,t,n){return!(0==e.getValue()&&t&&n)}adjustOddEvenCounts(e){let t=ie.sum(new Int32Array(this.getOddCounts())),n=ie.sum(new Int32Array(this.getEvenCounts())),r=!1,A=!1;t>13?A=!0:t<4&&(r=!0);let i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);let o=t+n-e,a=1==(1&t),l=0==(1&n);if(1==o)if(a){if(l)throw new N;A=!0}else{if(!l)throw new N;s=!0}else if(-1==o)if(a){if(l)throw new N;r=!0}else{if(!l)throw new N;i=!0}else{if(0!=o)throw new N;if(a){if(!l)throw new N;t<n?(r=!0,s=!0):(A=!0,i=!0)}else if(l)throw new N}if(r){if(A)throw new N;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new N;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class st extends xe{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends Qe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);ot.addOrTally(this.possibleLeftPairs,r),t.reverse();let A=this.decodePair(t,!0,e,n);ot.addOrTally(this.possibleRightPairs,A),t.reverse();for(let i of this.possibleLeftPairs)if(i.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&ot.checkChecksum(i,e))return ot.constructResult(i,e);throw new N}static addOrTally(e,t){if(null==t)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),A=new _;for(let a=13-r.length;a>0;a--)A.append("0");A.append(r);let i=0;for(let a=0;a<13;a++){let e=A.charAt(a).charCodeAt(0)-"0".charCodeAt(0);i+=0===(1&a)?3*e:e}i=10-i%10,10===i&&(i=0),A.append(i.toString());let s=e.getFinderPattern().getResultPoints(),o=t.getFinderPattern().getResultPoints();return new P(A.toString(),null,0,[s[0],s[1],o[0],o[1]],j.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let A=this.findFinderPattern(e,t),i=this.parseFoundFinderPattern(e,n,t,A),s=null==r?null:r.get(v.NEED_RESULT_POINT_CALLBACK);if(null!=s){let r=(A[0]+A[1])/2;t&&(r=e.getSize()-1-r),s.foundPossibleResultPoint(new oe(r,n))}let o=this.decodeDataCharacter(e,i,!0),a=this.decodeDataCharacter(e,i,!1);return new st(1597*o.getValue()+a.getValue(),o.getChecksumPortion()+4*a.getChecksumPortion(),i)}catch(A){return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let g=0;g<r.length;g++)r[g]=0;if(n)ye.recordPatternInReverse(e,t.getStartEnd()[0],r);else{ye.recordPattern(e,t.getStartEnd()[1]+1,r);for(let e=0,t=r.length-1;e<t;e++,t--){let n=r[e];r[e]=r[t],r[t]=n}}let A=n?16:15,i=ie.sum(new Int32Array(r))/A,s=this.getOddCounts(),o=this.getEvenCounts(),a=this.getOddRoundingErrors(),l=this.getEvenRoundingErrors();for(let g=0;g<r.length;g++){let e=r[g]/i,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let n=Math.floor(g/2);0===(1&g)?(s[n]=t,a[n]=e-t):(o[n]=t,l[n]=e-t)}this.adjustOddEvenCounts(n,A);let c=0,u=0;for(let g=s.length-1;g>=0;g--)u*=9,u+=s[g],c+=s[g];let h=0,d=0;for(let g=o.length-1;g>=0;g--)h*=9,h+=o[g],d+=o[g];let f=u+3*h;if(n){if(0!==(1&c)||c>12||c<4)throw new N;let e=(12-c)/2,t=ot.OUTSIDE_ODD_WIDEST[e],n=9-t,r=Me.getRSSvalue(s,t,!1),A=Me.getRSSvalue(o,n,!0),i=ot.OUTSIDE_EVEN_TOTAL_SUBSET[e],a=ot.OUTSIDE_GSUM[e];return new xe(r*i+A+a,f)}{if(0!==(1&d)||d>10||d<4)throw new N;let e=(10-d)/2,t=ot.INSIDE_ODD_WIDEST[e],n=9-t,r=Me.getRSSvalue(s,t,!0),A=Me.getRSSvalue(o,n,!1),i=ot.INSIDE_ODD_TOTAL_SUBSET[e],a=ot.INSIDE_GSUM[e];return new xe(A*i+r+a,f)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),A=!1,i=0;for(;i<r&&(A=!e.get(i),t!==A);)i++;let s=0,o=i;for(let a=i;a<r;a++)if(e.get(a)!==A)n[s]++;else{if(3===s){if(Qe.isFinderPattern(n))return[o,a];o+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,s--}else s++;n[s]=1,A=!A}throw new N}parseFoundFinderPattern(e,t,n,r){let A=e.get(r[0]),i=r[0]-1;for(;i>=0&&A!==e.get(i);)i--;i++;const s=r[0]-i,o=this.getDecodeFinderCounters(),a=new Int32Array(o.length);g.arraycopy(o,0,a,1,o.length-1),a[0]=s;const l=this.parseFinderValue(a,ot.FINDER_PATTERNS);let c=i,u=r[1];return n&&(c=e.getSize()-1-c,u=e.getSize()-1-u),new Re(l,[i,r[1]],c,u,t)}adjustOddEvenCounts(e,t){let n=ie.sum(new Int32Array(this.getOddCounts())),r=ie.sum(new Int32Array(this.getEvenCounts())),A=!1,i=!1,s=!1,o=!1;e?(n>12?i=!0:n<4&&(A=!0),r>12?o=!0:r<4&&(s=!0)):(n>11?i=!0:n<5&&(A=!0),r>10?o=!0:r<4&&(s=!0));let a=n+r-t,l=(1&n)===(e?1:0),c=1===(1&r);if(1===a)if(l){if(c)throw new N;i=!0}else{if(!c)throw new N;o=!0}else if(-1===a)if(l){if(c)throw new N;A=!0}else{if(!c)throw new N;s=!0}else{if(0!==a)throw new N;if(l){if(!c)throw new N;n<r?(A=!0,o=!0):(i=!0,s=!0)}else if(c)throw new N}if(A){if(i)throw new N;Qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&Qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(o)throw new N;Qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class at extends ye{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const n=e?e.get(v.POSSIBLE_FORMATS):null,r=e&&void 0!==e.get(v.ASSUME_CODE_39_CHECK_DIGIT);n?((n.includes(j.EAN_13)||n.includes(j.UPC_A)||n.includes(j.EAN_8)||n.includes(j.UPC_E))&&this.readers.push(new De(e)),n.includes(j.CODE_39)&&this.readers.push(new Be(r)),n.includes(j.CODE_128)&&this.readers.push(new Ce),n.includes(j.ITF)&&this.readers.push(new ve),n.includes(j.RSS_14)&&this.readers.push(new ot),n.includes(j.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new De(e)),this.readers.push(new Be),this.readers.push(new De(e)),this.readers.push(new Ce),this.readers.push(new ve),this.readers.push(new ot),this.readers.push(new it(this.verbose)))}decodeRow(e,t,n){for(let A=0;A<this.readers.length;A++)try{return this.readers[A].decodeRow(e,t,n)}catch(r){}throw new N}reset(){this.readers.forEach((e=>e.reset()))}}class lt extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;super(new at(t),e,t)}}class ct{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ut{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,t,n,r,A,i){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=A,this.ecBlocks=i;let s=0;const o=i.getECCodewords(),a=i.getECBlocks();for(let l of a)s+=l.getCount()*(l.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!==(1&e)||0!==(1&t))throw new E;for(let n of ht.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new E}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new ct(5,new ut(1,3))),new ht(2,12,12,10,10,new ct(7,new ut(1,5))),new ht(3,14,14,12,12,new ct(10,new ut(1,8))),new ht(4,16,16,14,14,new ct(12,new ut(1,12))),new ht(5,18,18,16,16,new ct(14,new ut(1,18))),new ht(6,20,20,18,18,new ct(18,new ut(1,22))),new ht(7,22,22,20,20,new ct(20,new ut(1,30))),new ht(8,24,24,22,22,new ct(24,new ut(1,36))),new ht(9,26,26,24,24,new ct(28,new ut(1,44))),new ht(10,32,32,14,14,new ct(36,new ut(1,62))),new ht(11,36,36,16,16,new ct(42,new ut(1,86))),new ht(12,40,40,18,18,new ct(48,new ut(1,114))),new ht(13,44,44,20,20,new ct(56,new ut(1,144))),new ht(14,48,48,22,22,new ct(68,new ut(1,174))),new ht(15,52,52,24,24,new ct(42,new ut(2,102))),new ht(16,64,64,14,14,new ct(56,new ut(2,140))),new ht(17,72,72,16,16,new ct(36,new ut(4,92))),new ht(18,80,80,18,18,new ct(48,new ut(4,114))),new ht(19,88,88,20,20,new ct(56,new ut(4,144))),new ht(20,96,96,22,22,new ct(68,new ut(4,174))),new ht(21,104,104,24,24,new ct(56,new ut(6,136))),new ht(22,120,120,18,18,new ct(68,new ut(6,175))),new ht(23,132,132,20,20,new ct(62,new ut(8,163))),new ht(24,144,144,22,22,new ct(62,new ut(8,156),new ut(2,155))),new ht(25,8,18,6,16,new ct(7,new ut(1,5))),new ht(26,8,32,6,14,new ct(11,new ut(1,10))),new ht(27,12,26,10,24,new ct(14,new ut(1,16))),new ht(28,12,36,10,16,new ct(18,new ut(1,22))),new ht(29,16,36,14,16,new ct(24,new ut(1,32))),new ht(30,16,48,14,22,new ct(28,new ut(1,49)))]}}ht.VERSIONS=ht.buildVersions();class dt{constructor(e){const t=e.getHeight();if(t<8||t>144||0!==(1&t))throw new E;this.version=dt.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new F(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return ht.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const A=this.mappingBitMatrix.getHeight(),i=this.mappingBitMatrix.getWidth();let s=!1,o=!1,a=!1,l=!1;do{if(n!==A||0!==r||s)if(n!==A-2||0!==r||0===(3&i)||o)if(n!==A+4||2!==r||0!==(7&i)||a)if(n!==A-2||0!==r||4!==(7&i)||l){do{n<A&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,A,i)),n-=2,r+=2}while(n>=0&&r<i);n+=1,r+=3;do{n>=0&&r<i&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,A,i)),n+=2,r-=2}while(n<A&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(A,i),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner3(A,i),n-=2,r+=2,a=!0;else e[t++]=255&this.readCorner2(A,i),n-=2,r+=2,o=!0;else e[t++]=255&this.readCorner1(A,i),n-=2,r+=2,s=!0}while(n<A||r<i);if(t!==this.version.getTotalCodewords())throw new E;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let A=0;return this.readModule(e-2,t-2,n,r)&&(A|=1),A<<=1,this.readModule(e-2,t-1,n,r)&&(A|=1),A<<=1,this.readModule(e-1,t-2,n,r)&&(A|=1),A<<=1,this.readModule(e-1,t-1,n,r)&&(A|=1),A<<=1,this.readModule(e-1,t,n,r)&&(A|=1),A<<=1,this.readModule(e,t-2,n,r)&&(A|=1),A<<=1,this.readModule(e,t-1,n,r)&&(A|=1),A<<=1,this.readModule(e,t,n,r)&&(A|=1),A}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new u("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),A=this.version.getDataRegionSizeColumns(),i=t/r|0,s=n/A|0,o=new F(s*A,i*r);for(let a=0;a<i;++a){const t=a*r;for(let n=0;n<s;++n){const i=n*A;for(let s=0;s<r;++s){const l=a*(r+2)+1+s,c=t+s;for(let t=0;t<A;++t){const r=n*(A+2)+1+t;if(e.get(r,l)){const e=i+t;o.set(e,c)}}}}}return o}}class ft{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const A=n.getECBlocks();for(let u of A)r+=u.getCount();const i=new Array(r);let s=0;for(let u of A)for(let e=0;e<u.getCount();e++){const e=u.getDataCodewords(),t=n.getECCodewords()+e;i[s++]=new ft(e,new Uint8Array(t))}const o=i[0].codewords.length-n.getECCodewords(),a=o-1;let l=0;for(let u=0;u<a;u++)for(let t=0;t<s;t++)i[t].codewords[u]=e[l++];const c=24===t.getVersionNumber(),h=c?8:s;for(let u=0;u<h;u++)i[u].codewords[o-1]=e[l++];const d=i[0].codewords.length;for(let u=o;u<d;u++)for(let t=0;t<s;t++){const n=c?(t+8)%s:t,r=c&&n>7?u-1:u;i[n].codewords[r]=e[l++]}if(l!==e.length)throw new u;return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new u(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const A=this.bytes;if(n>0){const i=8-n,s=e<i?e:i,o=i-s,a=255>>8-s<<o;t=(A[r]&a)>>o,e-=s,n+=s,8===n&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&A[r],r++,e-=8;if(e>0){const i=8-e,s=255>>i<<i;t=t<<e|(A[r]&s)>>i,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(K||(K={}));class pt{static decode(e){const t=new gt(e),n=new _,r=new _,A=new Array;let i=K.ASCII_ENCODE;do{if(i===K.ASCII_ENCODE)i=this.decodeAsciiSegment(t,n,r);else{switch(i){case K.C40_ENCODE:this.decodeC40Segment(t,n);break;case K.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case K.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case K.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case K.BASE256_ENCODE:this.decodeBase256Segment(t,n,A);break;default:throw new E}i=K.ASCII_ENCODE}}while(i!==K.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new q(e,n.toString(),0===A.length?null:A,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let A=e.readBits(8);if(0===A)throw new E;if(A<=128)return r&&(A+=128),t.append(String.fromCharCode(A-1)),K.ASCII_ENCODE;if(129===A)return K.PAD_ENCODE;if(A<=229){const e=A-130;e<10&&t.append("0"),t.append(""+e)}else switch(A){case 230:return K.C40_ENCODE;case 231:return K.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return K.ANSIX12_ENCODE;case 239:return K.TEXT_ENCODE;case 240:return K.EDIFACT_ENCODE;default:if(254!==A||0!==e.available())throw new E}}while(e.available()>0);return K.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let A=0;do{if(8===e.available())return;const i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(let e=0;e<3;e++){const i=r[e];switch(A){case 0:if(i<3)A=i+1;else{if(!(i<this.C40_BASIC_SET_CHARS.length))throw new E;{const e=this.C40_BASIC_SET_CHARS[i];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(i+128)),n=!1):t.append(String.fromCharCode(i)),A=0;break;case 2:if(i<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[i];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(i){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new E}A=0;break;case 3:n?(t.append(String.fromCharCode(i+224)),n=!1):t.append(String.fromCharCode(i+96)),A=0;break;default:throw new E}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],A=0;do{if(8===e.available())return;const i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(let e=0;e<3;e++){const i=r[e];switch(A){case 0:if(i<3)A=i+1;else{if(!(i<this.TEXT_BASIC_SET_CHARS.length))throw new E;{const e=this.TEXT_BASIC_SET_CHARS[i];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(i+128)),n=!1):t.append(String.fromCharCode(i)),A=0;break;case 2:if(i<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[i];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(i){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new E}A=0;break;case 3:if(!(i<this.TEXT_SHIFT3_SET_CHARS.length))throw new E;{const e=this.TEXT_SHIFT3_SET_CHARS[i];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),A=0}break;default:throw new E}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(let e=0;e<3;e++){const r=n[e];switch(r){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(r<14)t.append(String.fromCharCode(r+44));else{if(!(r<40))throw new E;t.append(String.fromCharCode(r+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,A=Math.floor(r/1600);n[0]=A,r-=1600*A,A=Math.floor(r/40),n[1]=A,n[2]=r-40*A}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(31===n){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0===(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const A=this.unrandomize255State(e.readBits(8),r++);let i;if(i=0===A?e.available()/8|0:A<250?A:250*(A-249)+this.unrandomize255State(e.readBits(8),r++),i<0)throw new E;const s=new Uint8Array(i);for(let a=0;a<i;a++){if(e.available()<8)throw new E;s[a]=this.unrandomize255State(e.readBits(8),r++)}n.push(s);try{t.append(S.decode(s,T.ISO88591))}catch(o){throw new ne("Platform does not support required encoding: "+o.message)}}static unrandomize255State(e,t){const n=e-(149*t%255+1);return n>=0?n:n+256}}pt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pt.TEXT_SHIFT2_SET_CHARS=pt.C40_SHIFT2_SET_CHARS,pt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class mt{constructor(){this.rsDecoder=new re(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new dt(e),n=t.getVersion(),r=t.readCodewords(),A=ft.getDataBlocks(r,n);let i=0;for(let a of A)i+=a.getNumDataCodewords();const s=new Uint8Array(i),o=A.length;for(let a=0;a<o;a++){const e=A[a],t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let r=0;r<n;r++)s[r*o+a]=t[r]}return pt.decode(s)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new d}for(let A=0;A<t;A++)e[A]=n[A]}}class wt{constructor(e){this.image=e,this.rectangleDetector=new ce(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new N;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],A=t[2],i=t[3];let s=this.transitionsBetween(n,i)+1,o=this.transitionsBetween(A,i)+1;1===(1&s)&&(s+=1),1===(1&o)&&(o+=1),4*s<7*o&&4*o<7*s&&(s=o=Math.max(s,o));let a=wt.sampleGrid(this.image,n,r,A,i,s,o);return new ae(a,[n,r,A,i])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),A=(t.getY()-e.getY())/(n+1);return new oe(e.getX()+r,e.getY()+A)}static moveAway(e,t,n){let r=e.getX(),A=e.getY();return r<t?r-=1:r+=1,A<n?A-=1:A+=1,new oe(r,A)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],A=e[2],i=this.transitionsBetween(t,n),s=this.transitionsBetween(n,r),o=this.transitionsBetween(r,A),a=this.transitionsBetween(A,t),l=i,c=[A,t,n,r];return l>s&&(l=s,c[0]=t,c[1]=n,c[2]=r,c[3]=A),l>o&&(l=o,c[0]=n,c[1]=r,c[2]=A,c[3]=t),l>a&&(c[0]=r,c[1]=A,c[2]=t,c[3]=n),c}detectSolid2(e){let t=e[0],n=e[1],r=e[2],A=e[3],i=this.transitionsBetween(t,A),s=wt.shiftPoint(n,r,4*(i+1)),o=wt.shiftPoint(r,n,4*(i+1));return this.transitionsBetween(s,t)<this.transitionsBetween(o,A)?(e[0]=t,e[1]=n,e[2]=r,e[3]=A):(e[0]=n,e[1]=r,e[2]=A,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],A=e[3],i=this.transitionsBetween(t,A),s=this.transitionsBetween(n,A),o=wt.shiftPoint(t,n,4*(s+1)),a=wt.shiftPoint(r,n,4*(i+1));i=this.transitionsBetween(o,A),s=this.transitionsBetween(a,A);let l=new oe(A.getX()+(r.getX()-n.getX())/(i+1),A.getY()+(r.getY()-n.getY())/(i+1)),c=new oe(A.getX()+(t.getX()-n.getX())/(s+1),A.getY()+(t.getY()-n.getY())/(s+1));return this.isValid(l)?this.isValid(c)?this.transitionsBetween(o,l)+this.transitionsBetween(a,l)>this.transitionsBetween(o,c)+this.transitionsBetween(a,c)?l:c:l:this.isValid(c)?c:null}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],A=e[3],i=this.transitionsBetween(t,A)+1,s=this.transitionsBetween(r,A)+1,o=wt.shiftPoint(t,n,4*s),a=wt.shiftPoint(r,n,4*i);i=this.transitionsBetween(o,A)+1,s=this.transitionsBetween(a,A)+1,1===(1&i)&&(i+=1),1===(1&s)&&(s+=1);let l,c,u=(t.getX()+n.getX()+r.getX()+A.getX())/4,h=(t.getY()+n.getY()+r.getY()+A.getY())/4;return t=wt.moveAway(t,u,h),n=wt.moveAway(n,u,h),r=wt.moveAway(r,u,h),A=wt.moveAway(A,u,h),o=wt.shiftPoint(t,n,4*s),o=wt.shiftPoint(o,A,4*i),l=wt.shiftPoint(n,t,4*s),l=wt.shiftPoint(l,r,4*i),a=wt.shiftPoint(r,A,4*s),a=wt.shiftPoint(a,n,4*i),c=wt.shiftPoint(A,r,4*s),c=wt.shiftPoint(c,t,4*i),[o,l,a,c]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,A,i,s){return fe.getInstance().sampleGrid(e,i,s,.5,.5,i-.5,.5,i-.5,s-.5,.5,s-.5,t.getX(),t.getY(),A.getX(),A.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),A=Math.trunc(t.getX()),i=Math.trunc(t.getY()),s=Math.abs(i-r)>Math.abs(A-n);if(s){let e=n;n=r,r=e,e=A,A=i,i=e}let o=Math.abs(A-n),a=Math.abs(i-r),l=-o/2,c=r<i?1:-1,u=n<A?1:-1,h=0,d=this.image.get(s?r:n,s?n:r);for(let f=n,g=r;f!==A;f+=u){let e=this.image.get(s?g:f,s?f:g);if(e!==d&&(h++,d=e),l+=a,l>0){if(g===i)break;g+=c,l-=o}}return h}}class yt{constructor(){this.decoder=new mt}decode(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r&&r.has(v.PURE_BARCODE)){const r=yt.extractPureBits(e.getBlackMatrix());t=this.decoder.decode(r),n=yt.NO_POINTS}else{const r=new wt(e.getBlackMatrix()).detect();t=this.decoder.decode(r.getBits()),n=r.getPoints()}const A=t.getRawBytes(),i=new P(t.getText(),A,8*A.length,n,j.DATA_MATRIX,g.currentTimeMillis()),s=t.getByteSegments();null!=s&&i.putMetadata(Y.BYTE_SEGMENTS,s);const o=t.getECLevel();return null!=o&&i.putMetadata(Y.ERROR_CORRECTION_LEVEL,o),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new N;const r=this.moduleSize(t,e);let A=t[1];const i=n[1];let s=t[0];const o=(n[0]-s+1)/r,a=(i-A+1)/r;if(o<=0||a<=0)throw new N;const l=r/2;A+=l,s+=l;const c=new F(o,a);for(let u=0;u<a;u++){const t=A+u*r;for(let n=0;n<o;n++)e.get(s+n*r,t)&&c.set(n,u)}return c}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const A=e[1];for(;r<n&&t.get(r,A);)r++;if(r===n)throw new N;const i=r-e[0];if(0===i)throw new N;return i}}yt.NO_POINTS=[];class Ct extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new yt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class Bt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Bt.FOR_BITS.set(n,this),Bt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Bt.L;case"M":return Bt.M;case"Q":return Bt.Q;case"H":return Bt.H;default:throw new c(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Bt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Bt.FOR_BITS.size)throw new u;return Bt.FOR_BITS.get(e)}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.L=new Bt(G.L,"L",1),Bt.M=new Bt(G.M,"M",0),Bt.Q=new Bt(G.Q,"Q",3),Bt.H=new Bt(G.H,"H",2);class vt{constructor(e){this.errorCorrectionLevel=Bt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return y.bitCount(e^t)}static decodeFormatInformation(e,t){const n=vt.doDecodeFormatInformation(e,t);return null!==n?n:vt.doDecodeFormatInformation(e^vt.FORMAT_INFO_MASK_QR,t^vt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const A of vt.FORMAT_INFO_DECODE_LOOKUP){const i=A[0];if(i===e||i===t)return new vt(A[1]);let s=vt.numBitsDiffering(e,i);s<n&&(r=A[1],n=s),e!==t&&(s=vt.numBitsDiffering(t,i),s<n&&(r=A[1],n=s))}return n<=3?new vt(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof vt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}vt.FORMAT_INFO_MASK_QR=21522,vt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Et{constructor(e){this.ecCodewordsPerBlock=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class It{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(e,t){this.versionNumber=e,this.alignmentPatternCenters=t;for(var n=arguments.length,r=new Array(n>2?n-2:0),A=2;A<n;A++)r[A-2]=arguments[A];this.ecBlocks=r;let i=0;const s=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const a of o)i+=a.getCount()*(a.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new E;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new E}}static getVersionForNumber(e){if(e<1||e>40)throw new u;return bt.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<bt.VERSION_DECODE_INFO.length;r++){const A=bt.VERSION_DECODE_INFO[r];if(A===e)return bt.getVersionForNumber(r+7);const i=vt.numBitsDiffering(e,A);i<t&&(n=r+7,t=i)}return t<=3?bt.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new F(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const e=this.alignmentPatternCenters[r]-2;for(let A=0;A<n;A++)0===r&&(0===A||A===n-1)||r===n-1&&0===A||t.setRegion(this.alignmentPatternCenters[A]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),bt.VERSIONS=[new bt(1,new Int32Array(0),new Et(7,new It(1,19)),new Et(10,new It(1,16)),new Et(13,new It(1,13)),new Et(17,new It(1,9))),new bt(2,Int32Array.from([6,18]),new Et(10,new It(1,34)),new Et(16,new It(1,28)),new Et(22,new It(1,22)),new Et(28,new It(1,16))),new bt(3,Int32Array.from([6,22]),new Et(15,new It(1,55)),new Et(26,new It(1,44)),new Et(18,new It(2,17)),new Et(22,new It(2,13))),new bt(4,Int32Array.from([6,26]),new Et(20,new It(1,80)),new Et(18,new It(2,32)),new Et(26,new It(2,24)),new Et(16,new It(4,9))),new bt(5,Int32Array.from([6,30]),new Et(26,new It(1,108)),new Et(24,new It(2,43)),new Et(18,new It(2,15),new It(2,16)),new Et(22,new It(2,11),new It(2,12))),new bt(6,Int32Array.from([6,34]),new Et(18,new It(2,68)),new Et(16,new It(4,27)),new Et(24,new It(4,19)),new Et(28,new It(4,15))),new bt(7,Int32Array.from([6,22,38]),new Et(20,new It(2,78)),new Et(18,new It(4,31)),new Et(18,new It(2,14),new It(4,15)),new Et(26,new It(4,13),new It(1,14))),new bt(8,Int32Array.from([6,24,42]),new Et(24,new It(2,97)),new Et(22,new It(2,38),new It(2,39)),new Et(22,new It(4,18),new It(2,19)),new Et(26,new It(4,14),new It(2,15))),new bt(9,Int32Array.from([6,26,46]),new Et(30,new It(2,116)),new Et(22,new It(3,36),new It(2,37)),new Et(20,new It(4,16),new It(4,17)),new Et(24,new It(4,12),new It(4,13))),new bt(10,Int32Array.from([6,28,50]),new Et(18,new It(2,68),new It(2,69)),new Et(26,new It(4,43),new It(1,44)),new Et(24,new It(6,19),new It(2,20)),new Et(28,new It(6,15),new It(2,16))),new bt(11,Int32Array.from([6,30,54]),new Et(20,new It(4,81)),new Et(30,new It(1,50),new It(4,51)),new Et(28,new It(4,22),new It(4,23)),new Et(24,new It(3,12),new It(8,13))),new bt(12,Int32Array.from([6,32,58]),new Et(24,new It(2,92),new It(2,93)),new Et(22,new It(6,36),new It(2,37)),new Et(26,new It(4,20),new It(6,21)),new Et(28,new It(7,14),new It(4,15))),new bt(13,Int32Array.from([6,34,62]),new Et(26,new It(4,107)),new Et(22,new It(8,37),new It(1,38)),new Et(24,new It(8,20),new It(4,21)),new Et(22,new It(12,11),new It(4,12))),new bt(14,Int32Array.from([6,26,46,66]),new Et(30,new It(3,115),new It(1,116)),new Et(24,new It(4,40),new It(5,41)),new Et(20,new It(11,16),new It(5,17)),new Et(24,new It(11,12),new It(5,13))),new bt(15,Int32Array.from([6,26,48,70]),new Et(22,new It(5,87),new It(1,88)),new Et(24,new It(5,41),new It(5,42)),new Et(30,new It(5,24),new It(7,25)),new Et(24,new It(11,12),new It(7,13))),new bt(16,Int32Array.from([6,26,50,74]),new Et(24,new It(5,98),new It(1,99)),new Et(28,new It(7,45),new It(3,46)),new Et(24,new It(15,19),new It(2,20)),new Et(30,new It(3,15),new It(13,16))),new bt(17,Int32Array.from([6,30,54,78]),new Et(28,new It(1,107),new It(5,108)),new Et(28,new It(10,46),new It(1,47)),new Et(28,new It(1,22),new It(15,23)),new Et(28,new It(2,14),new It(17,15))),new bt(18,Int32Array.from([6,30,56,82]),new Et(30,new It(5,120),new It(1,121)),new Et(26,new It(9,43),new It(4,44)),new Et(28,new It(17,22),new It(1,23)),new Et(28,new It(2,14),new It(19,15))),new bt(19,Int32Array.from([6,30,58,86]),new Et(28,new It(3,113),new It(4,114)),new Et(26,new It(3,44),new It(11,45)),new Et(26,new It(17,21),new It(4,22)),new Et(26,new It(9,13),new It(16,14))),new bt(20,Int32Array.from([6,34,62,90]),new Et(28,new It(3,107),new It(5,108)),new Et(26,new It(3,41),new It(13,42)),new Et(30,new It(15,24),new It(5,25)),new Et(28,new It(15,15),new It(10,16))),new bt(21,Int32Array.from([6,28,50,72,94]),new Et(28,new It(4,116),new It(4,117)),new Et(26,new It(17,42)),new Et(28,new It(17,22),new It(6,23)),new Et(30,new It(19,16),new It(6,17))),new bt(22,Int32Array.from([6,26,50,74,98]),new Et(28,new It(2,111),new It(7,112)),new Et(28,new It(17,46)),new Et(30,new It(7,24),new It(16,25)),new Et(24,new It(34,13))),new bt(23,Int32Array.from([6,30,54,78,102]),new Et(30,new It(4,121),new It(5,122)),new Et(28,new It(4,47),new It(14,48)),new Et(30,new It(11,24),new It(14,25)),new Et(30,new It(16,15),new It(14,16))),new bt(24,Int32Array.from([6,28,54,80,106]),new Et(30,new It(6,117),new It(4,118)),new Et(28,new It(6,45),new It(14,46)),new Et(30,new It(11,24),new It(16,25)),new Et(30,new It(30,16),new It(2,17))),new bt(25,Int32Array.from([6,32,58,84,110]),new Et(26,new It(8,106),new It(4,107)),new Et(28,new It(8,47),new It(13,48)),new Et(30,new It(7,24),new It(22,25)),new Et(30,new It(22,15),new It(13,16))),new bt(26,Int32Array.from([6,30,58,86,114]),new Et(28,new It(10,114),new It(2,115)),new Et(28,new It(19,46),new It(4,47)),new Et(28,new It(28,22),new It(6,23)),new Et(30,new It(33,16),new It(4,17))),new bt(27,Int32Array.from([6,34,62,90,118]),new Et(30,new It(8,122),new It(4,123)),new Et(28,new It(22,45),new It(3,46)),new Et(30,new It(8,23),new It(26,24)),new Et(30,new It(12,15),new It(28,16))),new bt(28,Int32Array.from([6,26,50,74,98,122]),new Et(30,new It(3,117),new It(10,118)),new Et(28,new It(3,45),new It(23,46)),new Et(30,new It(4,24),new It(31,25)),new Et(30,new It(11,15),new It(31,16))),new bt(29,Int32Array.from([6,30,54,78,102,126]),new Et(30,new It(7,116),new It(7,117)),new Et(28,new It(21,45),new It(7,46)),new Et(30,new It(1,23),new It(37,24)),new Et(30,new It(19,15),new It(26,16))),new bt(30,Int32Array.from([6,26,52,78,104,130]),new Et(30,new It(5,115),new It(10,116)),new Et(28,new It(19,47),new It(10,48)),new Et(30,new It(15,24),new It(25,25)),new Et(30,new It(23,15),new It(25,16))),new bt(31,Int32Array.from([6,30,56,82,108,134]),new Et(30,new It(13,115),new It(3,116)),new Et(28,new It(2,46),new It(29,47)),new Et(30,new It(42,24),new It(1,25)),new Et(30,new It(23,15),new It(28,16))),new bt(32,Int32Array.from([6,34,60,86,112,138]),new Et(30,new It(17,115)),new Et(28,new It(10,46),new It(23,47)),new Et(30,new It(10,24),new It(35,25)),new Et(30,new It(19,15),new It(35,16))),new bt(33,Int32Array.from([6,30,58,86,114,142]),new Et(30,new It(17,115),new It(1,116)),new Et(28,new It(14,46),new It(21,47)),new Et(30,new It(29,24),new It(19,25)),new Et(30,new It(11,15),new It(46,16))),new bt(34,Int32Array.from([6,34,62,90,118,146]),new Et(30,new It(13,115),new It(6,116)),new Et(28,new It(14,46),new It(23,47)),new Et(30,new It(44,24),new It(7,25)),new Et(30,new It(59,16),new It(1,17))),new bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Et(30,new It(12,121),new It(7,122)),new Et(28,new It(12,47),new It(26,48)),new Et(30,new It(39,24),new It(14,25)),new Et(30,new It(22,15),new It(41,16))),new bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Et(30,new It(6,121),new It(14,122)),new Et(28,new It(6,47),new It(34,48)),new Et(30,new It(46,24),new It(10,25)),new Et(30,new It(2,15),new It(64,16))),new bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Et(30,new It(17,122),new It(4,123)),new Et(28,new It(29,46),new It(14,47)),new Et(30,new It(49,24),new It(10,25)),new Et(30,new It(24,15),new It(46,16))),new bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Et(30,new It(4,122),new It(18,123)),new Et(28,new It(13,46),new It(32,47)),new Et(30,new It(48,24),new It(14,25)),new Et(30,new It(42,15),new It(32,16))),new bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Et(30,new It(20,117),new It(4,118)),new Et(28,new It(40,47),new It(7,48)),new Et(30,new It(43,24),new It(22,25)),new Et(30,new It(10,15),new It(67,16))),new bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Et(30,new It(19,118),new It(6,119)),new Et(28,new It(18,47),new It(31,48)),new Et(30,new It(34,24),new It(34,25)),new Et(30,new It(20,15),new It(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(z||(z={}));class St{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}St.values=new Map([[z.DATA_MASK_000,new St(z.DATA_MASK_000,((e,t)=>0===(e+t&1)))],[z.DATA_MASK_001,new St(z.DATA_MASK_001,((e,t)=>0===(1&e)))],[z.DATA_MASK_010,new St(z.DATA_MASK_010,((e,t)=>t%3===0))],[z.DATA_MASK_011,new St(z.DATA_MASK_011,((e,t)=>(e+t)%3===0))],[z.DATA_MASK_100,new St(z.DATA_MASK_100,((e,t)=>0===(Math.floor(e/2)+Math.floor(t/3)&1)))],[z.DATA_MASK_101,new St(z.DATA_MASK_101,((e,t)=>e*t%6===0))],[z.DATA_MASK_110,new St(z.DATA_MASK_110,((e,t)=>e*t%6<3))],[z.DATA_MASK_111,new St(z.DATA_MASK_111,((e,t)=>0===(e+t+e*t%3&1)))]]);class Tt{constructor(e){const t=e.getHeight();if(t<21||1!==(3&t))throw new E;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let A=0;A<6;A++)e=this.copyBit(A,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let A=5;A>=0;A--)e=this.copyBit(8,A,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let A=t-1;A>=r;A--)n=this.copyBit(8,A,n);for(let A=t-8;A<t;A++)n=this.copyBit(A,8,n);if(this.parsedFormatInfo=vt.decodeFormatInformation(e,n),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new E}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return bt.getVersionForNumber(t);let n=0;const r=e-11;for(let i=5;i>=0;i--)for(let t=e-9;t>=r;t--)n=this.copyBit(t,i,n);let A=bt.decodeVersionInformation(n);if(null!==A&&A.getDimensionForVersion()===e)return this.parsedVersion=A,A;n=0;for(let i=5;i>=0;i--)for(let t=e-9;t>=r;t--)n=this.copyBit(i,t,n);if(A=bt.decodeVersionInformation(n),null!==A&&A.getDimensionForVersion()===e)return this.parsedVersion=A,A;throw new E}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=St.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const A=t.buildFunctionPattern();let i=!0;const s=new Uint8Array(t.getTotalCodewords());let o=0,a=0,l=0;for(let c=r-1;c>0;c-=2){6===c&&c--;for(let e=0;e<r;e++){const t=i?r-1-e:e;for(let e=0;e<2;e++)A.get(c-e,t)||(l++,a<<=1,this.bitMatrix.get(c-e,t)&&(a|=1),8===l&&(s[o++]=a,l=0,a=0))}i=!i}if(o!==t.getTotalCodewords())throw new E;return s}remask(){if(null===this.parsedFormatInfo)return;const e=St.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,A=e.getHeight();r<A;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class _t{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new u;const r=t.getECBlocksForLevel(n);let A=0;const i=r.getECBlocks();for(const u of i)A+=u.getCount();const s=new Array(A);let o=0;for(const u of i)for(let e=0;e<u.getCount();e++){const e=u.getDataCodewords(),t=r.getECCodewordsPerBlock()+e;s[o++]=new _t(e,new Uint8Array(t))}const a=s[0].codewords.length;let l=s.length-1;for(;l>=0&&s[l].codewords.length!==a;)l--;l++;const c=a-r.getECCodewordsPerBlock();let h=0;for(let u=0;u<c;u++)for(let t=0;t<o;t++)s[t].codewords[u]=e[h++];for(let u=l;u<o;u++)s[u].codewords[c]=e[h++];const d=s[0].codewords.length;for(let u=c;u<d;u++)for(let t=0;t<o;t++){const n=t<l?u:u+1;s[t].codewords[n]=e[h++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(W||(W={}));class Ft{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,Ft.FOR_BITS.set(r,this),Ft.FOR_VALUE.set(e,this)}static forBits(e){const t=Ft.FOR_BITS.get(e);if(void 0===t)throw new u;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ft))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Ft.FOR_BITS=new Map,Ft.FOR_VALUE=new Map,Ft.TERMINATOR=new Ft(W.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ft.NUMERIC=new Ft(W.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ft.ALPHANUMERIC=new Ft(W.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ft.STRUCTURED_APPEND=new Ft(W.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ft.BYTE=new Ft(W.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ft.ECI=new Ft(W.ECI,"ECI",Int32Array.from([0,0,0]),7),Ft.KANJI=new Ft(W.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ft.FNC1_FIRST_POSITION=new Ft(W.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ft.FNC1_SECOND_POSITION=new Ft(W.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ft.HANZI=new Ft(W.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Nt{static decode(e,t,n,r){const A=new gt(e);let i=new _;const s=new Array;let o=-1,a=-1;try{let e,n=null,l=!1;do{if(A.available()<4)e=Ft.TERMINATOR;else{const t=A.readBits(4);e=Ft.forBits(t)}switch(e){case Ft.TERMINATOR:break;case Ft.FNC1_FIRST_POSITION:case Ft.FNC1_SECOND_POSITION:l=!0;break;case Ft.STRUCTURED_APPEND:if(A.available()<16)throw new E;o=A.readBits(8),a=A.readBits(8);break;case Ft.ECI:const c=Nt.parseECIValue(A);if(n=I.getCharacterSetECIByValue(c),null===n)throw new E;break;case Ft.HANZI:const u=A.readBits(4),h=A.readBits(e.getCharacterCountBits(t));u===Nt.GB2312_SUBSET&&Nt.decodeHanziSegment(A,i,h);break;default:const d=A.readBits(e.getCharacterCountBits(t));switch(e){case Ft.NUMERIC:Nt.decodeNumericSegment(A,i,d);break;case Ft.ALPHANUMERIC:Nt.decodeAlphanumericSegment(A,i,d,l);break;case Ft.BYTE:Nt.decodeByteSegment(A,i,d,n,s,r);break;case Ft.KANJI:Nt.decodeKanjiSegment(A,i,d);break;default:throw new E}}}while(e!==Ft.TERMINATOR)}catch(l){throw new E}return new q(e,i.toString(),0===s.length?null:s,null===n?null:n.toString(),o,a)}static decodeHanziSegment(e,t,n){if(13*n>e.available())throw new E;const r=new Uint8Array(2*n);let A=0;for(;n>0;){const t=e.readBits(13);let i=t/96<<8&4294967295|t%96;i+=i<959?41377:42657,r[A]=i>>8&255,r[A+1]=255&i,A+=2,n--}try{t.append(S.decode(r,T.GB2312))}catch(i){throw new E(i)}}static decodeKanjiSegment(e,t,n){if(13*n>e.available())throw new E;const r=new Uint8Array(2*n);let A=0;for(;n>0;){const t=e.readBits(13);let i=t/192<<8&4294967295|t%192;i+=i<7936?33088:49472,r[A]=i>>8,r[A+1]=i,A+=2,n--}try{t.append(S.decode(r,T.SHIFT_JIS))}catch(i){throw new E(i)}}static decodeByteSegment(e,t,n,r,A,i){if(8*n>e.available())throw new E;const s=new Uint8Array(n);for(let l=0;l<n;l++)s[l]=e.readBits(8);let o;o=null===r?T.guessEncoding(s,i):r.getName();try{t.append(S.decode(s,o))}catch(a){throw new E(a)}A.push(s)}static toAlphaNumericChar(e){if(e>=Nt.ALPHANUMERIC_CHARS.length)throw new E;return Nt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const A=t.length();for(;n>1;){if(e.available()<11)throw new E;const r=e.readBits(11);t.append(Nt.toAlphaNumericChar(Math.floor(r/45))),t.append(Nt.toAlphaNumericChar(r%45)),n-=2}if(1===n){if(e.available()<6)throw new E;t.append(Nt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let i=A;i<t.length();i++)"%"===t.charAt(i)&&(i<t.length()-1&&"%"===t.charAt(i+1)?t.deleteCharAt(i+1):t.setCharAt(i,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new E;const r=e.readBits(10);if(r>=1e3)throw new E;t.append(Nt.toAlphaNumericChar(Math.floor(r/100))),t.append(Nt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Nt.toAlphaNumericChar(r%10)),n-=3}if(2===n){if(e.available()<7)throw new E;const n=e.readBits(7);if(n>=100)throw new E;t.append(Nt.toAlphaNumericChar(Math.floor(n/10))),t.append(Nt.toAlphaNumericChar(n%10))}else if(1===n){if(e.available()<4)throw new E;const n=e.readBits(4);if(n>=10)throw new E;t.append(Nt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new E}}Nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Nt.GB2312_SUBSET=1;class Ut{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Dt{constructor(){this.rsDecoder=new re(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(F.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Tt(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(A){r=A}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const e=this.decodeBitMatrixParser(n,t);return e.setOther(new Ut(!0)),e}catch(A){if(null!==r)throw r;throw A}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),A=e.readCodewords(),i=_t.getDataBlocks(A,n,r);let s=0;for(const l of i)s+=l.getNumDataCodewords();const o=new Uint8Array(s);let a=0;for(const l of i){const e=l.getCodewords(),t=l.getNumDataCodewords();this.correctErrors(e,t);for(let n=0;n<t;n++)o[a++]=e[n]}return Nt.decode(o,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new d}for(let A=0;A<t;A++)e[A]=n[A]}}class Qt extends oe{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,A=(this.getY()+e)/2,i=(this.estimatedModuleSize+n)/2;return new Qt(r,A,i)}}class xt{constructor(e,t,n,r,A,i,s){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=A,this.moduleSize=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,A=new Int32Array(3),i=this.image;for(let s=0;s<t;s++){const t=r+(0===(1&s)?Math.floor((s+1)/2):-Math.floor((s+1)/2));A[0]=0,A[1]=0,A[2]=0;let o=e;for(;o<n&&!i.get(o,t);)o++;let a=0;for(;o<n;){if(i.get(o,t))if(1===a)A[1]++;else if(2===a){if(this.foundPatternCross(A)){const e=this.handlePossibleCenter(A,t,o);if(null!==e)return e}A[0]=A[2],A[1]=1,A[2]=0,a=1}else A[++a]++;else 1===a&&a++,A[a]++;o++}if(this.foundPatternCross(A)){const e=this.handlePossibleCenter(A,t,n);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new N}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const A=this.image,i=A.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let o=e;for(;o>=0&&A.get(t,o)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&!A.get(t,o)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<i&&A.get(t,o)&&s[1]<=n;)s[1]++,o++;if(o===i||s[1]>n)return NaN;for(;o<i&&!A.get(t,o)&&s[2]<=n;)s[2]++,o++;if(s[2]>n)return NaN;const a=s[0]+s[1]+s[2];return 5*Math.abs(a-r)>=2*r?NaN:this.foundPatternCross(s)?xt.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],A=xt.centerFromEnd(e,n),i=this.crossCheckVertical(t,A,2*e[1],r);if(!isNaN(i)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,i,A))return e.combineEstimate(i,A,t);const n=new Qt(A,i,t);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class Rt extends oe{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,void 0===r&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,A=(this.count*this.getX()+t)/r,i=(this.count*this.getY()+e)/r,s=(this.count*this.estimatedModuleSize+n)/r;return new Rt(A,i,s,r)}}class Mt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ot{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!==e&&void 0!==e&&void 0!==e.get(v.TRY_HARDER),n=null!==e&&void 0!==e&&void 0!==e.get(v.PURE_BARCODE),r=this.image,A=r.getHeight(),i=r.getWidth();let s=Math.floor(3*A/(4*Ot.MAX_MODULES));(s<Ot.MIN_SKIP||t)&&(s=Ot.MIN_SKIP);let o=!1;const a=new Int32Array(5);for(let c=s-1;c<A&&!o;c+=s){a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0;let e=0;for(let t=0;t<i;t++)if(r.get(t,c))1===(1&e)&&e++,a[e]++;else if(0===(1&e))if(4===e)if(Ot.foundPatternCross(a)){if(!0!==this.handlePossibleCenter(a,c,t,n)){a[0]=a[2],a[1]=a[3],a[2]=a[4],a[3]=1,a[4]=0,e=3;continue}if(s=2,!0===this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>a[2]&&(c+=e-a[2]-s,t=i-1)}e=0,a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0}else a[0]=a[2],a[1]=a[3],a[2]=a[4],a[3]=1,a[4]=0,e=3;else a[++e]++;else a[e]++;Ot.foundPatternCross(a)&&!0===this.handlePossibleCenter(a,c,i,n)&&(s=a[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const l=this.selectBestPatterns();return oe.orderBestPatterns(l),new Mt(l)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let A=0;A<5;A++){const n=e[A];if(0===n)return!1;t+=n}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const A=this.getCrossCheckStateCount();let i=0;const s=this.image;for(;e>=i&&t>=i&&s.get(t-i,e-i);)A[2]++,i++;if(e<i||t<i)return!1;for(;e>=i&&t>=i&&!s.get(t-i,e-i)&&A[1]<=n;)A[1]++,i++;if(e<i||t<i||A[1]>n)return!1;for(;e>=i&&t>=i&&s.get(t-i,e-i)&&A[0]<=n;)A[0]++,i++;if(A[0]>n)return!1;const o=s.getHeight(),a=s.getWidth();for(i=1;e+i<o&&t+i<a&&s.get(t+i,e+i);)A[2]++,i++;if(e+i>=o||t+i>=a)return!1;for(;e+i<o&&t+i<a&&!s.get(t+i,e+i)&&A[3]<n;)A[3]++,i++;if(e+i>=o||t+i>=a||A[3]>=n)return!1;for(;e+i<o&&t+i<a&&s.get(t+i,e+i)&&A[4]<n;)A[4]++,i++;if(A[4]>=n)return!1;const l=A[0]+A[1]+A[2]+A[3]+A[4];return Math.abs(l-r)<2*r&&Ot.foundPatternCross(A)}crossCheckVertical(e,t,n,r){const A=this.image,i=A.getHeight(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&A.get(t,o);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!A.get(t,o)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&A.get(t,o)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<i&&A.get(t,o);)s[2]++,o++;if(o===i)return NaN;for(;o<i&&!A.get(t,o)&&s[3]<n;)s[3]++,o++;if(o===i||s[3]>=n)return NaN;for(;o<i&&A.get(t,o)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return NaN;const a=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(a-r)>=2*r?NaN:Ot.foundPatternCross(s)?Ot.centerFromEnd(s,o):NaN}crossCheckHorizontal(e,t,n,r){const A=this.image,i=A.getWidth(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&A.get(o,t);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!A.get(o,t)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&A.get(o,t)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<i&&A.get(o,t);)s[2]++,o++;if(o===i)return NaN;for(;o<i&&!A.get(o,t)&&s[3]<n;)s[3]++,o++;if(o===i||s[3]>=n)return NaN;for(;o<i&&A.get(o,t)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return NaN;const a=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(a-r)>=r?NaN:Ot.foundPatternCross(s)?Ot.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,n,r){const A=e[0]+e[1]+e[2]+e[3]+e[4];let i=Ot.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(i),e[2],A);if(!isNaN(s)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(s),e[2],A),!isNaN(i)&&(!r||this.crossCheckDiagonal(Math.floor(s),Math.floor(i),e[2],A)))){const e=A/7;let t=!1;const n=this.possibleCenters;for(let r=0,A=n.length;r<A;r++){const A=n[r];if(A.aboutEquals(e,s,i)){n[r]=A.combineEstimate(s,i,e),t=!0;break}}if(!t){const t=new Rt(i,s,e);n.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Ot.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const i of this.possibleCenters)i.getCount()>=Ot.CENTER_QUORUM&&(e++,t+=i.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let A=0;for(const i of this.possibleCenters)A+=Math.abs(i.getEstimatedModuleSize()-r);return A<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new N;const t=this.possibleCenters;let n;if(e>3){let r=0,A=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();r+=t,A+=t*t}n=r/e;let i=Math.sqrt(A/e-n*n);t.sort(((e,t)=>{const r=Math.abs(t.getEstimatedModuleSize()-n),A=Math.abs(e.getEstimatedModuleSize()-n);return r<A?-1:r>A?1:0}));const s=Math.max(.2*n,i);for(let e=0;e<t.length&&t.length>3;e++){const r=t[e];Math.abs(r.getEstimatedModuleSize()-n)>s&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const r=Math.abs(t.getEstimatedModuleSize()-n),A=Math.abs(e.getEstimatedModuleSize()-n);return r<A?1:r>A?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Ot.CENTER_QUORUM=2,Ot.MIN_SKIP=3,Ot.MAX_MODULES=57;class Lt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null===e||void 0===e?null:e.get(v.NEED_RESULT_POINT_CALLBACK);const t=new Ot(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),A=this.calculateModuleSize(t,n,r);if(A<1)throw new N("No pattern found in proccess finder.");const i=Lt.computeDimension(t,n,r,A),s=bt.getProvisionalVersionForDimension(i),o=s.getDimensionForVersion()-7;let a=null;if(s.getAlignmentPatternCenters().length>0){const e=n.getX()-t.getX()+r.getX(),i=n.getY()-t.getY()+r.getY(),s=1-3/o,l=Math.floor(t.getX()+s*(e-t.getX())),c=Math.floor(t.getY()+s*(i-t.getY()));for(let t=4;t<=16;t<<=1)try{a=this.findAlignmentInRegion(A,l,c,t);break}catch(h){if(!(h instanceof N))throw h}}const l=Lt.createTransform(t,n,r,a,i),c=Lt.sampleGrid(this.image,l,i);let u;return u=null===a?[r,t,n]:[r,t,n,a],new ae(c,u)}static createTransform(e,t,n,r,A){const i=A-3.5;let s,o,a,l;return null!==r?(s=r.getX(),o=r.getY(),a=i-3,l=a):(s=t.getX()-e.getX()+n.getX(),o=t.getY()-e.getY()+n.getY(),a=i,l=i),he.quadrilateralToQuadrilateral(3.5,3.5,i,3.5,a,l,3.5,i,e.getX(),e.getY(),t.getX(),t.getY(),s,o,n.getX(),n.getY())}static sampleGrid(e,t,n){return fe.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const A=ie.round(oe.distance(e,t)/r),i=ie.round(oe.distance(e,n)/r);let s=Math.floor((A+i)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new N("Dimensions could be not found.")}return s}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let A=this.sizeOfBlackWhiteBlackRun(e,t,n,r),i=1,s=e-(n-e);s<0?(i=e/(e-s),s=0):s>=this.image.getWidth()&&(i=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);let o=Math.floor(t-(r-t)*i);return i=1,o<0?(i=t/(t-o),o=0):o>=this.image.getHeight()&&(i=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),s=Math.floor(e+(s-e)*i),A+=this.sizeOfBlackWhiteBlackRun(e,t,s,o),A-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const A=Math.abs(r-t)>Math.abs(n-e);if(A){let A=e;e=t,t=A,A=n,n=r,r=A}const i=Math.abs(n-e),s=Math.abs(r-t);let o=-i/2;const a=e<n?1:-1,l=t<r?1:-1;let c=0;const u=n+a;for(let h=e,d=t;h!==u;h+=a){const n=A?d:h,a=A?h:d;if(1===c===this.image.get(n,a)){if(2===c)return ie.distance(h,d,e,t);c++}if(o+=s,o>0){if(d===r)break;d+=l,o-=i}}return 2===c?ie.distance(n+a,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const A=Math.floor(r*e),i=Math.max(0,t-A),s=Math.min(this.image.getWidth()-1,t+A);if(s-i<3*e)throw new N("Alignment top exceeds estimated module size.");const o=Math.max(0,n-A),a=Math.min(this.image.getHeight()-1,n+A);if(a-o<3*e)throw new N("Alignment bottom exceeds estimated module size.");return new xt(this.image,i,o,s-i,a-o,e,this.resultPointCallback).find()}}class kt{constructor(){this.decoder=new Dt}getDecoder(){return this.decoder}decode(e,t){let n,r;if(void 0!==t&&null!==t&&void 0!==t.get(v.PURE_BARCODE)){const A=kt.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(A,t),r=kt.NO_POINTS}else{const A=new Lt(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(A.getBits(),t),r=A.getPoints()}n.getOther()instanceof Ut&&n.getOther().applyMirroredCorrection(r);const A=new P(n.getText(),n.getRawBytes(),void 0,r,j.QR_CODE,void 0),i=n.getByteSegments();null!==i&&A.putMetadata(Y.BYTE_SEGMENTS,i);const s=n.getECLevel();return null!==s&&A.putMetadata(Y.ERROR_CORRECTION_LEVEL,s),n.hasStructuredAppend()&&(A.putMetadata(Y.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),A.putMetadata(Y.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),A}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new N;const r=this.moduleSize(t,e);let A=t[1],i=n[1],s=t[0],o=n[0];if(s>=o||A>=i)throw new N;if(i-A!==o-s&&(o=s+(i-A),o>=e.getWidth()))throw new N;const a=Math.round((o-s+1)/r),l=Math.round((i-A+1)/r);if(a<=0||l<=0)throw new N;if(l!==a)throw new N;const c=Math.floor(r/2);A+=c,s+=c;const u=s+Math.floor((a-1)*r)-o;if(u>0){if(u>c)throw new N;s-=u}const h=A+Math.floor((l-1)*r)-i;if(h>0){if(h>c)throw new N;A-=h}const d=new F(a,l);for(let f=0;f<l;f++){const t=A+Math.floor(f*r);for(let n=0;n<a;n++)e.get(s+Math.floor(n*r),t)&&d.set(n,f)}return d}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let A=e[0],i=e[1],s=!0,o=0;for(;A<r&&i<n;){if(s!==t.get(A,i)){if(5===++o)break;s=!s}A++,i++}if(A===r||i===n)throw new N;return(A-e[0])/7}}kt.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(e){return ie.sum(e)}static toIntArray(e){if(null==e||!e.length)return Pt.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=w.binarySearch(Pt.SYMBOL_TABLE,262143&e);return t<0?-1:(Pt.CODEWORD_TABLE[t]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ht{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class jt{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),A=jt.detect(n,r);return A.length||(r=r.clone(),r.rotate180(),A=jt.detect(n,r)),new Ht(r,A)}static detect(e,t){const n=new Array;let r=0,A=0,i=!1;for(;r<t.getHeight();){const s=jt.findVertices(t,r,A);if(null!=s[0]||null!=s[3]){if(i=!0,n.push(s),!e)break;null!=s[2]?(A=Math.trunc(s[2].getX()),r=Math.trunc(s[2].getY())):(A=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY()))}else{if(!i)break;i=!1,A=0;for(const e of n)null!=e[1]&&(r=Math.trunc(Math.max(r,e[1].getY()))),null!=e[3]&&(r=Math.max(r,Math.trunc(e[3].getY())));r+=jt.ROW_STEP}}return n}static findVertices(e,t,n){const r=e.getHeight(),A=e.getWidth(),i=new Array(8);return jt.copyToResult(i,jt.findRowsWithPattern(e,r,A,t,n,jt.START_PATTERN),jt.INDEXES_START_PATTERN),null!=i[4]&&(n=Math.trunc(i[4].getX()),t=Math.trunc(i[4].getY())),jt.copyToResult(i,jt.findRowsWithPattern(e,r,A,t,n,jt.STOP_PATTERN),jt.INDEXES_STOP_PATTERN),i}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,A,i){const s=new Array(4);let o=!1;const a=new Int32Array(i.length);for(;r<t;r+=jt.ROW_STEP){let t=jt.findGuardPattern(e,A,r,n,!1,i,a);if(null!=t){for(;r>0;){const s=jt.findGuardPattern(e,A,--r,n,!1,i,a);if(null==s){r++;break}t=s}s[0]=new oe(t[0],r),s[1]=new oe(t[1],r),o=!0;break}}let l=r+1;if(o){let r=0,A=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;l<t;l++){const t=jt.findGuardPattern(e,A[0],l,n,!1,i,a);if(null!=t&&Math.abs(A[0]-t[0])<jt.MAX_PATTERN_DRIFT&&Math.abs(A[1]-t[1])<jt.MAX_PATTERN_DRIFT)A=t,r=0;else{if(r>jt.SKIPPED_ROW_COUNT_MAX)break;r++}}l-=r+1,s[2]=new oe(A[0],l),s[3]=new oe(A[1],l)}return l-r<jt.BARCODE_MIN_HEIGHT&&w.fill(s,null),s}static findGuardPattern(e,t,n,r,A,i,s){w.fillWithin(s,0,s.length,0);let o=t,a=0;for(;e.get(o,n)&&o>0&&a++<jt.MAX_PIXEL_DRIFT;)o--;let l=o,c=0,u=i.length;for(let h=A;l<r;l++)if(e.get(l,n)!==h)s[c]++;else{if(c===u-1){if(jt.patternMatchVariance(s,i,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return new Int32Array([o,l]);o+=s[0]+s[1],g.arraycopy(s,2,s,0,c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,h=!h}return c===u-1&&jt.patternMatchVariance(s,i,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE?new Int32Array([o,l-1]):null}static patternMatchVariance(e,t,n){let r=e.length,A=0,i=0;for(let a=0;a<r;a++)A+=e[a],i+=t[a];if(A<i)return 1/0;let s=A/i;n*=s;let o=0;for(let a=0;a<r;a++){let r=e[a],A=t[a]*s,i=r>A?r-A:A-r;if(i>n)return 1/0;o+=i}return o/A}}jt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),jt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),jt.MAX_AVG_VARIANCE=.42,jt.MAX_INDIVIDUAL_VARIANCE=.8,jt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),jt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),jt.MAX_PIXEL_DRIFT=3,jt.MAX_PATTERN_DRIFT=5,jt.SKIPPED_ROW_COUNT_MAX=25,jt.ROW_STEP=5,jt.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,t){if(0===t.length)throw new u;this.field=e;let n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),A=n.length-t.length;g.arraycopy(n,0,r,0,A);for(let i=A;i<n.length;i++)r[i]=this.field.add(t[i-A],n[i]);return new Vt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,A=r.length,i=new Int32Array(n+A-1);for(let s=0;s<n;s++){let e=t[s];for(let t=0;t<A;t++)i[s+t]=this.field.add(i[s+t],this.field.multiply(e,r[t]))}return new Vt(this.field,i)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Vt(this.field,t)}multiplyScalar(e){if(0===e)return new Vt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Vt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new u;if(0===t)return new Vt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let A=0;A<n;A++)r[A]=this.field.multiply(this.coefficients[A],t);return new Vt(this.field,r)}toString(){let e=new _;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Kt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new u;return this.logTable[e]}inverse(e){if(0===e)throw new Z;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gt extends Kt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new u;if(0===t)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Vt(this,n)}}Gt.PDF417_GF=new Gt(Pt.NUMBER_OF_CODEWORDS,3);class zt{constructor(){this.field=Gt.PDF417_GF}decode(e,t,n){let r=new Vt(this.field,e),A=new Int32Array(t),i=!1;for(let d=t;d>0;d--){let e=r.evaluateAt(this.field.exp(d));A[t-d]=e,0!==e&&(i=!0)}if(!i)return 0;let s=this.field.getOne();if(null!=n)for(const d of n){let t=this.field.exp(e.length-1-d),n=new Vt(this.field,new Int32Array([this.field.subtract(0,t),1]));s=s.multiply(n)}let o=new Vt(this.field,A),a=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),l=a[0],c=a[1],u=this.findErrorLocations(l),h=this.findErrorMagnitudes(c,l,u);for(let f=0;f<u.length;f++){let t=e.length-1-this.field.log(u[f]);if(t<0)throw d.getChecksumInstance();e[t]=this.field.subtract(e[t],h[f])}return u.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=e,A=t,i=this.field.getZero(),s=this.field.getOne();for(;A.getDegree()>=Math.round(n/2);){let e=r,t=i;if(r=A,i=s,r.isZero())throw d.getChecksumInstance();A=e;let n=this.field.getZero(),o=r.getCoefficient(r.getDegree()),a=this.field.inverse(o);for(;A.getDegree()>=r.getDegree()&&!A.isZero();){let e=A.getDegree()-r.getDegree(),t=this.field.multiply(A.getCoefficient(A.getDegree()),a);n=n.add(this.field.buildMonomial(e,t)),A=A.subtract(r.multiplyByMonomial(e,t))}s=n.multiply(i).subtract(t).negative()}let o=s.getCoefficient(0);if(0===o)throw d.getChecksumInstance();let a=this.field.inverse(o);return[s.multiply(a),A.multiply(a)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let A=1;A<this.field.getSize()&&r<t;A++)0===e.evaluateAt(A)&&(n[r]=this.field.inverse(A),r++);if(r!==t)throw d.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),A=new Int32Array(r);for(let a=1;a<=r;a++)A[r-a]=this.field.multiply(a,t.getCoefficient(a));let i=new Vt(this.field,A),s=n.length,o=new Int32Array(s);for(let a=0;a<s;a++){let t=this.field.inverse(n[a]),r=this.field.subtract(0,e.evaluateAt(t)),A=this.field.inverse(i.evaluateAt(t));o[a]=this.field.multiply(r,A)}return o}}class Wt{constructor(e,t,n,r,A){e instanceof Wt?this.constructor_2(e):this.constructor_1(e,t,n,r,A)}constructor_1(e,t,n,r,A){const i=null==t||null==n,s=null==r||null==A;if(i&&s)throw new N;i?(t=new oe(0,r.getY()),n=new oe(0,A.getY())):s&&(r=new oe(e.getWidth()-1,t.getY()),A=new oe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=A,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),A.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),A.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Wt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,A=this.bottomLeft,i=this.topRight,s=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,A=Math.trunc(t.getY()-e);A<0&&(A=0);let s=new oe(t.getX(),A);n?r=s:i=s}if(t>0){let e=n?this.bottomLeft:this.bottomRight,r=Math.trunc(e.getY()+t);r>=this.image.getHeight()&&(r=this.image.getHeight()-1);let i=new oe(e.getX(),r);n?A=i:s=i}return new Wt(this.image,r,A,i,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xt{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yt{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(e,r,A,i,s,o){if("%%"===e)return"%";if(void 0===t[++n])return;e=i?parseInt(i.substr(1)):void 0;let a,l=s?parseInt(s.substr(1)):void 0;switch(o){case"s":a=t[n];break;case"c":a=t[n][0];break;case"f":a=parseFloat(t[n]).toFixed(e);break;case"p":a=parseFloat(t[n]).toPrecision(e);break;case"e":a=parseFloat(t[n]).toExponential(e);break;case"x":a=parseInt(t[n]).toString(l||16);break;case"d":a=parseFloat(parseInt(t[n],l||10).toPrecision(e)).toFixed(0)}a="object"===typeof a?JSON.stringify(a):(+a).toString(l);let c=parseInt(A),u=A&&A[0]+""==="0"?"0":" ";for(;a.length<c;)a=void 0!==r?a+u:u+a;return a}let A=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(A,r)}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.buffer+=Yt.form(e,n)}toString(){return this.buffer}}class qt{constructor(e){this.boundingBox=new Wt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let n=1;n<qt.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],null!=t))return t;if(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yt;let t=0;for(const n of this.codewords)null!=n?e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}qt.MAX_NEARBY_DISTANCE=5;class $t{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const A={getKey:()=>n,getValue:()=>r};A.getValue()>e?(e=A.getValue(),t=[],t.push(A.getKey())):A.getValue()===e&&t.push(A.getKey())}return Pt.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Jt extends qt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),A=this._isLeft?n.getBottomLeft():n.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(A.getY())),o=-1,a=1,l=0;for(let c=i;c<s;c++){if(null==t[c])continue;let n=t[c],r=n.getRowNumber()-o;if(0===r)l++;else if(1===r)a=Math.max(a,l),l=1,o=n.getRowNumber();else if(r<0||n.getRowNumber()>=e.getRowCount()||r>c)t[c]=null;else{let e;e=a>2?(a-2)*r:r;let A=e>=c;for(let n=1;n<=e&&!A;n++)A=null!=t[c-n];A?t[c]=null:(o=n.getRowNumber(),l=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(null!=n){let e=n.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.getCodewords(),o=-1;for(let a=A;a<i;a++){if(null==s[a])continue;let t=s[a];t.setRowNumberAsRowIndicatorColumn();let n=t.getRowNumber()-o;0===n||(1===n?o=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?s[a]=null:o=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new $t,n=new $t,r=new $t,A=new $t;for(let s of e){if(null==s)continue;s.setRowNumberAsRowIndicatorColumn();let e=s.getValue()%30,i=s.getRowNumber();switch(this._isLeft||(i+=2),i%3){case 0:n.setValue(3*e+1);break;case 1:A.setValue(e/3),r.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===n.getValue().length||0===r.getValue().length||0===A.getValue().length||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let i=new Xt(t.getValue()[0],n.getValue()[0],r.getValue()[0],A.getValue()[0]);return this.removeIncorrectCodewords(e,i),i}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(null==e[n])continue;let A=r.getValue()%30,i=r.getRowNumber();if(i>t.getRowCount())e[n]=null;else switch(this._isLeft||(i+=2),i%3){case 0:3*A+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(A/3)===t.getErrorCorrectionLevel()&&A%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:A+1!==t.getColumnCount()&&(e[n]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Zt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Pt.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let n=0;n<e.length;n++)null!=e[n]&&(e[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),A=0;for(let t=this.barcodeColumnCount+1;t>0&&A<this.ADJUST_ROW_NUMBER_SKIP;t--){let i=this.detectionResultColumns[t].getCodewords()[n];null!=i&&(A=Zt.adjustRowNumberIfValid(r,A,i),i.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),A=0;for(let t=1;t<this.barcodeColumnCount+1&&A<this.ADJUST_ROW_NUMBER_SKIP;t++){let i=this.detectionResultColumns[t].getCodewords()[n];null!=i&&(A=Zt.adjustRowNumberIfValid(r,A,i),i.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],A=this.detectionResultColumns[e-1].getCodewords(),i=A;null!=this.detectionResultColumns[e+1]&&(i=this.detectionResultColumns[e+1].getCodewords());let s=new Array(14);s[2]=A[t],s[3]=i[t],t>0&&(s[0]=n[t-1],s[4]=A[t-1],s[5]=i[t-1]),t>1&&(s[8]=n[t-2],s[10]=A[t-2],s[11]=i[t-2]),t<n.length-1&&(s[1]=n[t+1],s[6]=A[t+1],s[7]=i[t+1]),t<n.length-2&&(s[9]=n[t+2],s[12]=A[t+2],s[13]=i[t+2]);for(let o of s)if(Zt.adjustRowNumber(r,o))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Yt;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let r=this.detectionResultColumns[e].getCodewords()[n];null!=r?t.format(" %3d|%3d",r.getRowNumber(),r.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class en{constructor(e,t,n,r){this.rowNumber=en.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==en.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}en.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let e=0;e<Pt.SYMBOL_TABLE.length;e++){let t=Pt.SYMBOL_TABLE[e],n=1&t;for(let r=0;r<Pt.BARS_IN_MODULE;r++){let A=0;for(;(1&t)===n;)A+=1,t>>=1;n=1&t,tn.RATIOS_TABLE[e]||(tn.RATIOS_TABLE[e]=new Array(Pt.BARS_IN_MODULE)),tn.RATIOS_TABLE[e][Pt.BARS_IN_MODULE-r-1]=Math.fround(A/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tn.getDecodedCodewordValue(tn.sampleBitCounts(e));return-1!==t?t:tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ie.sum(e),n=new Int32Array(Pt.BARS_IN_MODULE),r=0,A=0;for(let i=0;i<Pt.MODULES_IN_CODEWORD;i++){let s=t/(2*Pt.MODULES_IN_CODEWORD)+i*t/Pt.MODULES_IN_CODEWORD;A+e[r]<=s&&(A+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=tn.getBitValue(e);return-1===Pt.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ie.sum(e),n=new Array(Pt.BARS_IN_MODULE);if(t>1)for(let i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);let r=se.MAX_VALUE,A=-1;this.bSymbolTableReady||tn.initialize();for(let i=0;i<tn.RATIOS_TABLE.length;i++){let e=0,t=tn.RATIOS_TABLE[i];for(let A=0;A<Pt.BARS_IN_MODULE;A++){let i=Math.fround(t[A]-n[A]);if(e+=Math.fround(i*i),e>=r)break}e<r&&(r=e,A=Pt.SYMBOL_TABLE[i])}return A}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map((e=>new Array(Pt.BARS_IN_MODULE)));class nn{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class rn{static parseLong(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}class An extends l{}An.kind="NullPointerException";class sn{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(null==e)throw new An;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new p;if(0!==n)for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class on extends l{}class an extends sn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(super(),this.count=0,e<0)throw new u("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new on;t=y.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new p;this.ensureCapacity(this.count+n),g.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function ln(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cn;function un(e){if("undefined"===typeof cn&&(cn=ln()),null===cn)throw new Error("BigInt is not supported!");return cn(e)}function hn(){let e=[];e[0]=un(1);let t=un(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(X||(X={}));class dn{static decode(e,t){let n=new _(""),r=I.ISO8859_1;n.enableDecoding(r);let A=1,i=e[A++],s=new nn;for(;A<e[0];){switch(i){case dn.TEXT_COMPACTION_MODE_LATCH:A=dn.textCompaction(e,A,n);break;case dn.BYTE_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH_6:A=dn.byteCompaction(i,e,r,A,n);break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[A++]);break;case dn.NUMERIC_COMPACTION_MODE_LATCH:A=dn.numericCompaction(e,A,n);break;case dn.ECI_CHARSET:I.getCharacterSetECIByValue(e[A++]);break;case dn.ECI_GENERAL_PURPOSE:A+=2;break;case dn.ECI_USER_DEFINED:A++;break;case dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:A=dn.decodeMacroBlock(e,A,s);break;case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dn.MACRO_PDF417_TERMINATOR:throw new E;default:A--,A=dn.textCompaction(e,A,n)}if(!(A<e.length))throw E.getFormatInstance();i=e[A++]}if(0===n.length())throw E.getFormatInstance();let o=new q(null,n.toString(),null,t);return o.setOther(s),o}static decodeMacroBlock(e,t,n){if(t+dn.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw E.getFormatInstance();let r=new Int32Array(dn.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<dn.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)r[s]=e[t];n.setSegmentIndex(y.parseInt(dn.decodeBase900toBase10(r,dn.NUMBER_OF_SEQUENCE_CODEWORDS)));let A=new _;t=dn.textCompaction(e,t,A),n.setFileId(A.toString());let i=-1;for(e[t]===dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(i=t+1);t<e[0];)switch(e[t]){case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case dn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let r=new _;t=dn.textCompaction(e,t+1,r),n.setFileName(r.toString());break;case dn.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new _;t=dn.textCompaction(e,t+1,A),n.setSender(A.toString());break;case dn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let i=new _;t=dn.textCompaction(e,t+1,i),n.setAddressee(i.toString());break;case dn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let s=new _;t=dn.numericCompaction(e,t+1,s),n.setSegmentCount(y.parseInt(s.toString()));break;case dn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let o=new _;t=dn.numericCompaction(e,t+1,o),n.setTimestamp(rn.parseLong(o.toString()));break;case dn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let a=new _;t=dn.numericCompaction(e,t+1,a),n.setChecksum(y.parseInt(a.toString()));break;case dn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let l=new _;t=dn.numericCompaction(e,t+1,l),n.setFileSize(rn.parseLong(l.toString()));break;default:throw E.getFormatInstance()}break;case dn.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw E.getFormatInstance()}if(-1!==i){let r=t-i;n.isLastSegment()&&r--,n.setOptionalData(w.copyOfRange(e,i,i+r))}return t}static textCompaction(e,t,n){let r=new Int32Array(2*(e[0]-t)),A=new Int32Array(2*(e[0]-t)),i=0,s=!1;for(;t<e[0]&&!s;){let n=e[t++];if(n<dn.TEXT_COMPACTION_MODE_LATCH)r[i]=n/30,r[i+1]=n%30,i+=2;else switch(n){case dn.TEXT_COMPACTION_MODE_LATCH:r[i++]=dn.TEXT_COMPACTION_MODE_LATCH;break;case dn.BYTE_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH_6:case dn.NUMERIC_COMPACTION_MODE_LATCH:case dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dn.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[i]=dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],A[i]=n,i++}}return dn.decodeTextCompaction(r,A,i,n),t}static decodeTextCompaction(e,t,n,r){let A=X.ALPHA,i=X.ALPHA,s=0;for(;s<n;){let n=e[s],o="";switch(A){case X.ALPHA:if(n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case dn.LL:A=X.LOWER;break;case dn.ML:A=X.MIXED;break;case dn.PS:i=A,A=X.PUNCT_SHIFT;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}break;case X.LOWER:if(n<26)o=String.fromCharCode(97+n);else switch(n){case 26:o=" ";break;case dn.AS:i=A,A=X.ALPHA_SHIFT;break;case dn.ML:A=X.MIXED;break;case dn.PS:i=A,A=X.PUNCT_SHIFT;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}break;case X.MIXED:if(n<dn.PL)o=dn.MIXED_CHARS[n];else switch(n){case dn.PL:A=X.PUNCT;break;case 26:o=" ";break;case dn.LL:A=X.LOWER;break;case dn.AL:A=X.ALPHA;break;case dn.PS:i=A,A=X.PUNCT_SHIFT;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}break;case X.PUNCT:if(n<dn.PAL)o=dn.PUNCT_CHARS[n];else switch(n){case dn.PAL:A=X.ALPHA;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}break;case X.ALPHA_SHIFT:if(A=i,n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}break;case X.PUNCT_SHIFT:if(A=i,n<dn.PAL)o=dn.PUNCT_CHARS[n];else switch(n){case dn.PAL:A=X.ALPHA;break;case dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case dn.TEXT_COMPACTION_MODE_LATCH:A=X.ALPHA}}""!==o&&r.append(o),s++}}static byteCompaction(e,t,n,r,A){let i=new an,s=0,o=0,a=!1;switch(e){case dn.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[r++];for(;r<t[0]&&!a;)switch(e[s++]=n,o=900*o+n,n=t[r++],n){case dn.TEXT_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH:case dn.NUMERIC_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH_6:case dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dn.MACRO_PDF417_TERMINATOR:r--,a=!0;break;default:if(s%5===0&&s>0){for(let e=0;e<6;++e)i.write(Number(un(o)>>un(8*(5-e))));o=0,s=0}}r===t[0]&&n<dn.TEXT_COMPACTION_MODE_LATCH&&(e[s++]=n);for(let t=0;t<s;t++)i.write(e[t]);break;case dn.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!a;){let e=t[r++];if(e<dn.TEXT_COMPACTION_MODE_LATCH)s++,o=900*o+e;else switch(e){case dn.TEXT_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH:case dn.NUMERIC_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH_6:case dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dn.MACRO_PDF417_TERMINATOR:r--,a=!0}if(s%5===0&&s>0){for(let e=0;e<6;++e)i.write(Number(un(o)>>un(8*(5-e))));o=0,s=0}}}return A.append(S.decode(i.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,A=!1,i=new Int32Array(dn.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!A;){let s=e[t++];if(t===e[0]&&(A=!0),s<dn.TEXT_COMPACTION_MODE_LATCH)i[r]=s,r++;else switch(s){case dn.TEXT_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH:case dn.BYTE_COMPACTION_MODE_LATCH_6:case dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dn.MACRO_PDF417_TERMINATOR:t--,A=!0}(r%dn.MAX_NUMERIC_CODEWORDS===0||s===dn.NUMERIC_COMPACTION_MODE_LATCH||A)&&r>0&&(n.append(dn.decodeBase900toBase10(i,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=un(0);for(let A=0;A<t;A++)n+=dn.EXP900[t-A-1]*un(e[A]);let r=n.toString();if("1"!==r.charAt(0))throw new E;return r.substring(1)}}dn.TEXT_COMPACTION_MODE_LATCH=900,dn.BYTE_COMPACTION_MODE_LATCH=901,dn.NUMERIC_COMPACTION_MODE_LATCH=902,dn.BYTE_COMPACTION_MODE_LATCH_6=924,dn.ECI_USER_DEFINED=925,dn.ECI_GENERAL_PURPOSE=926,dn.ECI_CHARSET=927,dn.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,dn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,dn.MACRO_PDF417_TERMINATOR=922,dn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,dn.MAX_NUMERIC_CODEWORDS=15,dn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,dn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,dn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,dn.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,dn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,dn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,dn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,dn.PL=25,dn.LL=27,dn.AS=27,dn.ML=28,dn.AL=28,dn.PS=29,dn.PAL=29,dn.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",dn.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",dn.EXP900=ln()?hn():[],dn.NUMBER_OF_SEQUENCE_CODEWORDS=2;class fn{constructor(){}static decode(e,t,n,r,A,i,s){let o,a=new Wt(e,t,n,r,A),l=null,c=null;for(let d=!0;;d=!1){if(null!=t&&(l=fn.getRowIndicatorColumn(e,a,t,!0,i,s)),null!=r&&(c=fn.getRowIndicatorColumn(e,a,r,!1,i,s)),o=fn.merge(l,c),null==o)throw N.getNotFoundInstance();let n=o.getBoundingBox();if(!d||null==n||!(n.getMinY()<a.getMinY()||n.getMaxY()>a.getMaxY()))break;a=n}o.setBoundingBox(a);let u=o.getBarcodeColumnCount()+1;o.setDetectionResultColumn(0,l),o.setDetectionResultColumn(u,c);let h=null!=l;for(let d=1;d<=u;d++){let t,n=h?d:u-d;if(void 0!==o.getDetectionResultColumn(n))continue;t=0===n||n===u?new Jt(a,0===n):new qt(a),o.setDetectionResultColumn(n,t);let r=-1,A=r;for(let l=a.getMinY();l<=a.getMaxY();l++){if(r=fn.getStartColumn(o,n,l,h),r<0||r>a.getMaxX()){if(-1===A)continue;r=A}let c=fn.detectCodeword(e,a.getMinX(),a.getMaxX(),h,r,l,i,s);null!=c&&(t.setCodeword(l,c),A=r,i=Math.min(i,c.getWidth()),s=Math.max(s,c.getWidth()))}}return fn.createDecoderResult(o)}static merge(e,t){if(null==e&&null==t)return null;let n=fn.getBarcodeMetadata(e,t);if(null==n)return null;let r=Wt.merge(fn.adjustBoundingBox(e),fn.adjustBoundingBox(t));return new Zt(n,r)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let n=fn.getMax(t),r=0;for(let s of t)if(r+=n-s,s>0)break;let A=e.getCodewords();for(let s=0;r>0&&null==A[s];s++)r--;let i=0;for(let s=t.length-1;s>=0&&(i+=n-t[s],!(t[s]>0));s--);for(let s=A.length-1;i>0&&null==A[s];s--)i--;return e.getBoundingBox().addMissingRows(r,i,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,A,i){let s=new Jt(t,r);for(let o=0;o<2;o++){let a=0===o?1:-1,l=Math.trunc(Math.trunc(n.getX()));for(let o=Math.trunc(Math.trunc(n.getY()));o<=t.getMaxY()&&o>=t.getMinY();o+=a){let t=fn.detectCodeword(e,0,e.getWidth(),r,l,o,A,i);null!=t&&(s.setCodeword(o,t),l=r?t.getStartX():t.getEndX())}}return s}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),A=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-fn.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===r.length){if(A<1||A>Pt.MAX_CODEWORDS_IN_BARCODE)throw N.getNotFoundInstance();n.setValue(A)}else r[0]!==A&&n.setValue(A)}static createDecoderResult(e){let t=fn.createBarcodeMatrix(e);fn.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),A=[],i=new Array;for(let o=0;o<e.getBarcodeRowCount();o++)for(let s=0;s<e.getBarcodeColumnCount();s++){let a=t[o][s+1].getValue(),l=o*e.getBarcodeColumnCount()+s;0===a.length?n.push(l):1===a.length?r[l]=a[0]:(i.push(l),A.push(a))}let s=new Array(A.length);for(let o=0;o<s.length;o++)s[o]=A[o];return fn.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,Pt.toIntArray(n),Pt.toIntArray(i),s)}static createDecoderResultFromAmbiguousValues(e,t,n,r,A){let i=new Int32Array(r.length),s=100;for(;s-- >0;){for(let e=0;e<i.length;e++)t[r[e]]=A[e][i[e]];try{return fn.decodeCodewords(t,e,n)}catch(o){if(!(o instanceof d))throw o}if(0===i.length)throw d.getChecksumInstance();for(let e=0;e<i.length;e++){if(i[e]<A[e].length-1){i[e]++;break}if(i[e]=0,e===i.length-1)throw d.getChecksumInstance()}}throw d.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let r=0;r<t.length;r++)for(let e=0;e<t[r].length;e++)t[r][e]=new $t;let n=0;for(let r of e.getDetectionResultColumns()){if(null!=r)for(let e of r.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=0){if(r>=t.length)continue;t[r][n].setValue(e.getValue())}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let A=r?1:-1,i=null;if(fn.isValidBarcodeColumn(e,t-A)&&(i=e.getDetectionResultColumn(t-A).getCodeword(n)),null!=i)return r?i.getEndX():i.getStartX();if(i=e.getDetectionResultColumn(t).getCodewordNearby(n),null!=i)return r?i.getStartX():i.getEndX();if(fn.isValidBarcodeColumn(e,t-A)&&(i=e.getDetectionResultColumn(t-A).getCodewordNearby(n)),null!=i)return r?i.getEndX():i.getStartX();let s=0;for(;fn.isValidBarcodeColumn(e,t-A);){t-=A;for(let n of e.getDetectionResultColumn(t).getCodewords())if(null!=n)return(r?n.getEndX():n.getStartX())+A*s*(n.getEndX()-n.getStartX());s++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,A,i,s,o){A=fn.adjustCodewordStartColumn(e,t,n,r,A,i);let a,l=fn.getModuleBitCount(e,t,n,r,A,i);if(null==l)return null;let c=ie.sum(l);if(r)a=A+c;else{for(let e=0;e<l.length/2;e++){let t=l[e];l[e]=l[l.length-1-e],l[l.length-1-e]=t}a=A,A=a-c}if(!fn.checkCodewordSkew(c,s,o))return null;let u=tn.getDecodedValue(l),h=Pt.getCodeword(u);return-1===h?null:new en(A,a,fn.getCodewordBucketNumber(u),h)}static getModuleBitCount(e,t,n,r,A,i){let s=A,o=new Int32Array(8),a=0,l=r?1:-1,c=r;for(;(r?s<n:s>=t)&&a<o.length;)e.get(s,i)===c?(o[a]++,s+=l):(a++,c=!c);return a===o.length||s===(r?n:t)&&a===o.length-1?o:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,A,i){let s=A,o=r?-1:1;for(let a=0;a<2;a++){for(;(r?s>=t:s<n)&&r===e.get(s,i);){if(Math.abs(A-s)>fn.CODEWORD_SKEW_SIZE)return A;s+=o}o=-o,r=!r}return s}static checkCodewordSkew(e,t,n){return t-fn.CODEWORD_SKEW_SIZE<=e&&e<=n+fn.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(0===e.length)throw E.getFormatInstance();let r=1<<t+1,A=fn.correctErrors(e,n,r);fn.verifyCodewordCount(e,r);let i=dn.decode(e,""+t);return i.setErrorsCorrected(A),i.setErasures(n.length),i}static correctErrors(e,t,n){if(null!=t&&t.length>n/2+fn.MAX_ERRORS||n<0||n>fn.MAX_EC_CODEWORDS)throw d.getChecksumInstance();return fn.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw E.getFormatInstance();let n=e[0];if(n>e.length)throw E.getFormatInstance();if(0===n){if(!(t<e.length))throw E.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((1&e)!==n&&(n=1&e,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return fn.getCodewordBucketNumber(fn.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Yt;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let A=e[n][r];0===A.getValue().length?t.format("        ",null):t.format("%4d(%2d)",A.getValue()[0],A.getConfidence(A.getValue()[0]))}t.format("%n")}return t.toString()}}fn.CODEWORD_SKEW_SIZE=2,fn.MAX_ERRORS=3,fn.MAX_EC_CODEWORDS=512,fn.errorCorrection=new zt;class gn{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=gn.decode(e,t,!1);if(null==n||0===n.length||null==n[0])throw N.getNotFoundInstance();return n[0]}decodeMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return gn.decode(e,t,!0)}catch(n){if(n instanceof E||n instanceof d)throw N.getNotFoundInstance();throw n}}static decode(e,t,n){const r=new Array,A=jt.detectMultiple(e,t,n);for(const i of A.getPoints()){const e=fn.decode(A.getBits(),i[4],i[5],i[6],i[7],gn.getMinCodewordWidth(i),gn.getMaxCodewordWidth(i)),t=new P(e.getText(),e.getRawBytes(),void 0,i,j.PDF_417);t.putMetadata(Y.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&t.putMetadata(Y.PDF417_EXTRA_METADATA,n),r.push(t)}return r.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?y.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(gn.getMaxWidth(e[0],e[4]),gn.getMaxWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(e[1],e[5]),gn.getMaxWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(gn.getMinWidth(e[0],e[4]),gn.getMinWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(e[1],e[5]),gn.getMinWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class pn extends l{}pn.kind="ReaderException";class mn{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!t(e)&&!0===e.get(v.TRY_HARDER),r=t(e)?null:e.get(v.POSSIBLE_FORMATS),A=new Array;if(!t(r)){const t=r.some((e=>e===j.UPC_A||e===j.UPC_E||e===j.EAN_13||e===j.EAN_8||e===j.CODABAR||e===j.CODE_39||e===j.CODE_93||e===j.CODE_128||e===j.ITF||e===j.RSS_14||e===j.RSS_EXPANDED));t&&!n&&A.push(new at(e,this.verbose)),r.includes(j.QR_CODE)&&A.push(new kt),r.includes(j.DATA_MATRIX)&&A.push(new yt),r.includes(j.AZTEC)&&A.push(new me),r.includes(j.PDF_417)&&A.push(new gn),t&&n&&A.push(new at(e,this.verbose))}0===A.length&&(n||A.push(new at(e,this.verbose)),A.push(new kt),A.push(new yt),A.push(new me),A.push(new gn),n&&A.push(new at(e,this.verbose))),this.readers=A}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new pn("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(t){if(t instanceof pn)continue}throw new N("No MultiFormat Readers were able to detect the code.")}}class wn extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=new mn;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class yn extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new gn,e)}}class Cn extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new kt,e)}}var Bn;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(Bn||(Bn={}));var vn=Bn;class En{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new J(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let A=t.length;A<=e;A++){const e=n.multiply(new J(r,Int32Array.from([1,r.exp(A-1+r.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(0===t)throw new u("No error correction bytes");const n=e.length-t;if(n<=0)throw new u("No data bytes provided");const r=this.buildGenerator(t),A=new Int32Array(n);g.arraycopy(e,0,A,0,n);let i=new J(this.field,A);i=i.multiplyByMonomial(t,1);const s=i.divide(r)[1].getCoefficients(),o=t-s.length;for(let a=0;a<o;a++)e[n+a]=0;g.arraycopy(s,0,e,n+o,s.length)}}class In{constructor(){}static applyMaskPenaltyRule1(e){return In.applyMaskPenaltyRule1Internal(e,!0)+In.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),A=e.getHeight();for(let i=0;i<A-1;i++){const e=n[i];for(let A=0;A<r-1;A++){const r=e[A];r===e[A+1]&&r===n[i+1][A]&&r===n[i+1][A+1]&&t++}}return In.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),A=e.getHeight();for(let i=0;i<A;i++)for(let e=0;e<r;e++){const s=n[i];e+6<r&&1===s[e]&&0===s[e+1]&&1===s[e+2]&&1===s[e+3]&&1===s[e+4]&&0===s[e+5]&&1===s[e+6]&&(In.isWhiteHorizontal(s,e-4,e)||In.isWhiteHorizontal(s,e+7,e+11))&&t++,i+6<A&&1===n[i][e]&&0===n[i+1][e]&&1===n[i+2][e]&&1===n[i+3][e]&&1===n[i+4][e]&&0===n[i+5][e]&&1===n[i+6][e]&&(In.isWhiteVertical(n,e,i-4,i)||In.isWhiteVertical(n,e,i+7,i+11))&&t++}return t*In.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(1===e[r])return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let A=n;A<r;A++)if(1===e[A][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),A=e.getHeight();for(let s=0;s<A;s++){const e=n[s];for(let n=0;n<r;n++)1===e[n]&&t++}const i=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-i)/i)*In.N4}static getDataMaskBit(e,t,n){let r,A;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:A=n*t,r=(1&A)+A%3;break;case 6:A=n*t,r=(1&A)+A%3&1;break;case 7:A=n*t,r=A%3+(n+t&1)&1;break;default:throw new u("Invalid mask pattern: "+e)}return 0===r}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),A=t?e.getWidth():e.getHeight(),i=e.getArray();for(let s=0;s<r;s++){let e=0,r=-1;for(let o=0;o<A;o++){const A=t?i[s][o]:i[o][s];A===r?e++:(e>=5&&(n+=In.N1+(e-5)),e=1,r=A)}e>=5&&(n+=In.N1+(e-5))}return n}}In.N1=3,In.N2=3,In.N3=40,In.N4=10;class bn{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)w.fill(t,e)}equals(e){if(!(e instanceof bn))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const e=this.bytes[n],r=t.bytes[n];for(let t=0,n=this.width;t<n;++t)if(e[t]!==r[t])return!1}return!0}toString(){const e=new _;for(let t=0,n=this.height;t<n;++t){const n=this.bytes[t];for(let t=0,r=this.width;t<r;++t)switch(n[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Sn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Sn.NUM_MASK_PATTERNS}}Sn.NUM_MASK_PATTERNS=8;class Tn extends l{}Tn.kind="WriterException";class _n{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,A){_n.clearMatrix(A),_n.embedBasicPatterns(n,A),_n.embedTypeInfo(t,r,A),_n.maybeEmbedVersionInfo(n,A),_n.embedDataBits(e,r,A)}static embedBasicPatterns(e,t){_n.embedPositionDetectionPatternsAndSeparators(t),_n.embedDarkDotAtLeftBottomCorner(t),_n.maybeEmbedPositionAdjustmentPatterns(e,t),_n.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new C;_n.makeTypeInfoBits(e,t,r);for(let A=0,i=r.getSize();A<i;++A){const e=r.get(r.getSize()-1-A),t=_n.TYPE_INFO_COORDINATES[A],i=t[0],s=t[1];if(n.setBoolean(i,s,e),A<8){const t=n.getWidth()-A-1,r=8;n.setBoolean(t,r,e)}else{const t=8,r=n.getHeight()-7+(A-8);n.setBoolean(t,r,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new C;_n.makeVersionInfoBits(e,n);let r=17;for(let A=0;A<6;++A)for(let e=0;e<3;++e){const i=n.get(r);r--,t.setBoolean(A,t.getHeight()-11+e,i),t.setBoolean(t.getHeight()-11+e,A,i)}}static embedDataBits(e,t,n){let r=0,A=-1,i=n.getWidth()-1,s=n.getHeight()-1;for(;i>0;){for(6===i&&(i-=1);s>=0&&s<n.getHeight();){for(let A=0;A<2;++A){const o=i-A;if(!_n.isEmpty(n.get(o,s)))continue;let a;r<e.getSize()?(a=e.get(r),++r):a=!1,255!==t&&In.getDataMaskBit(t,o,s)&&(a=!a),n.setBoolean(o,s,a)}s+=A}A=-A,s+=A,i-=2}if(r!==e.getSize())throw new Tn("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-y.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new u("0 polynomial");const n=_n.findMSBSet(t);for(e<<=n-1;_n.findMSBSet(e)>=n;)e^=t<<_n.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Sn.isValidMaskPattern(t))throw new Tn("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const A=_n.calculateBCHCode(r,_n.TYPE_INFO_POLY);n.appendBits(A,10);const i=new C;if(i.appendBits(_n.TYPE_INFO_MASK_PATTERN,15),n.xor(i),15!==n.getSize())throw new Tn("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=_n.calculateBCHCode(e.getVersionNumber(),_n.VERSION_INFO_POLY);if(t.appendBits(n,12),18!==t.getSize())throw new Tn("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;_n.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),_n.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Tn;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!_n.isEmpty(n.get(e+r,t)))throw new Tn;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!_n.isEmpty(n.get(e,t+r)))throw new Tn;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const A=_n.POSITION_ADJUSTMENT_PATTERN[r];for(let i=0;i<5;++i)n.setNumber(e+i,t+r,A[i])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const A=_n.POSITION_DETECTION_PATTERN[r];for(let i=0;i<7;++i)n.setNumber(e+i,t+r,A[i])}}static embedPositionDetectionPatternsAndSeparators(e){const t=_n.POSITION_DETECTION_PATTERN[0].length;_n.embedPositionDetectionPattern(0,0,e),_n.embedPositionDetectionPattern(e.getWidth()-t,0,e),_n.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;_n.embedHorizontalSeparationPattern(0,n-1,e),_n.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),_n.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;_n.embedVerticalSeparationPattern(r,0,e),_n.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),_n.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let A=0,i=r.length;A!==i;A++){const e=r[A];if(e>=0)for(let n=0;n!==i;n++){const A=r[n];A>=0&&_n.isEmpty(t.get(A,e))&&_n.embedPositionAdjustmentPattern(A-2,e-2,t)}}}}_n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_n.VERSION_INFO_POLY=7973,_n.TYPE_INFO_POLY=1335,_n.TYPE_INFO_MASK_PATTERN=21522;class Fn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nn{constructor(){}static calculateMaskPenalty(e){return In.applyMaskPenaltyRule1(e)+In.applyMaskPenaltyRule2(e)+In.applyMaskPenaltyRule3(e)+In.applyMaskPenaltyRule4(e)}static encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Nn.DEFAULT_BYTE_MODE_ENCODING;const A=null!==n&&void 0!==n.get(vn.CHARACTER_SET);A&&(r=n.get(vn.CHARACTER_SET).toString());const i=this.chooseMode(e,r),s=new C;if(i===Ft.BYTE&&(A||Nn.DEFAULT_BYTE_MODE_ENCODING!==r)){const e=I.getCharacterSetECIByName(r);void 0!==e&&this.appendECI(e,s)}this.appendModeInfo(i,s);const o=new C;let a;if(this.appendBytes(e,i,o,r),null!==n&&void 0!==n.get(vn.QR_VERSION)){const e=Number.parseInt(n.get(vn.QR_VERSION).toString(),10);a=bt.getVersionForNumber(e);const r=this.calculateBitsNeeded(i,s,o,a);if(!this.willFit(r,a,t))throw new Tn("Data too big for requested version")}else a=this.recommendVersion(t,i,s,o);const l=new C;l.appendBitArray(s);const c=i===Ft.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(c,a,i,l),l.appendBitArray(o);const u=a.getECBlocksForLevel(t),h=a.getTotalCodewords()-u.getTotalECCodewords();this.terminateBits(h,l);const d=this.interleaveWithECBytes(l,a.getTotalCodewords(),h,u.getNumBlocks()),f=new Sn;f.setECLevel(t),f.setMode(i),f.setVersion(a);const g=a.getDimensionForVersion(),p=new bn(g,g),m=this.chooseMaskPattern(d,t,a,p);return f.setMaskPattern(m),_n.buildMatrix(d,t,a,m,p),f.setMatrix(p),f}static recommendVersion(e,t,n,r){const A=this.calculateBitsNeeded(t,n,r,bt.getVersionForNumber(1)),i=this.chooseVersion(A,e),s=this.calculateBitsNeeded(t,n,r,i);return this.chooseVersion(s,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Nn.ALPHANUMERIC_TABLE.length?Nn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(I.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ft.KANJI;let n=!1,r=!1;for(let A=0,i=e.length;A<i;++A){const t=e.charAt(A);if(Nn.isDigit(t))n=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Ft.BYTE;r=!0}}return r?Ft.ALPHANUMERIC:n?Ft.NUMERIC:Ft.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=S.encode(e,I.SJIS)}catch(r){return!1}const n=t.length;if(n%2!==0)return!1;for(let A=0;A<n;A+=2){const e=255&t[A];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let A=Number.MAX_SAFE_INTEGER,i=-1;for(let s=0;s<Sn.NUM_MASK_PATTERNS;s++){_n.buildMatrix(e,t,n,s,r);let o=this.calculateMaskPenalty(r);o<A&&(A=o,i=s)}return i}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=bt.getVersionForNumber(n);if(Nn.willFit(e,r,t))return r}throw new Tn("Data too big")}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const n=8*e;if(t.getSize()>n)throw new Tn("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);const r=7&t.getSize();if(r>0)for(let i=r;i<8;i++)t.appendBit(!1);const A=e-t.getSizeInBytes();for(let i=0;i<A;++i)t.appendBits(0===(1&i)?236:17,8);if(t.getSize()!==n)throw new Tn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,A,i){if(r>=n)throw new Tn("Block ID too large");const s=e%n,o=n-s,a=Math.floor(e/n),l=a+1,c=Math.floor(t/n),u=c+1,h=a-c,d=l-u;if(h!==d)throw new Tn("EC bytes mismatch");if(n!==o+s)throw new Tn("RS blocks mismatch");if(e!==(c+h)*o+(u+d)*s)throw new Tn("Total bytes mismatch");r<o?(A[0]=c,i[0]=h):(A[0]=u,i[0]=d)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new Tn("Number of bits and data bytes does not match");let A=0,i=0,s=0;const o=new Array;for(let l=0;l<r;++l){const a=new Int32Array(1),c=new Int32Array(1);Nn.getNumDataBytesAndNumECBytesForBlockID(t,n,r,l,a,c);const u=a[0],h=new Uint8Array(u);e.toBytes(8*A,h,0,u);const d=Nn.generateECBytes(h,c[0]);o.push(new Fn(h,d)),i=Math.max(i,u),s=Math.max(s,d.length),A+=a[0]}if(n!==A)throw new Tn("Data bytes does not match offset");const a=new C;for(let l=0;l<i;++l)for(const e of o){const t=e.getDataBytes();l<t.length&&a.appendBits(t[l],8)}for(let l=0;l<s;++l)for(const e of o){const t=e.getErrorCorrectionBytes();l<t.length&&a.appendBits(t[l],8)}if(t!==a.getSizeInBytes())throw new Tn("Interleaving error: "+t+" and "+a.getSizeInBytes()+" differ.");return a}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let i=0;i<n;i++)r[i]=255&e[i];new En(ee.QR_CODE_FIELD_256).encode(r,t);const A=new Uint8Array(t);for(let i=0;i<t;i++)A[i]=r[n+i];return A}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const A=n.getCharacterCountBits(t);if(e>=1<<A)throw new Tn(e+" is bigger than "+((1<<A)-1));r.appendBits(e,A)}static appendBytes(e,t,n,r){switch(t){case Ft.NUMERIC:Nn.appendNumericBytes(e,n);break;case Ft.ALPHANUMERIC:Nn.appendAlphanumericBytes(e,n);break;case Ft.BYTE:Nn.append8BitBytes(e,n,r);break;case Ft.KANJI:Nn.appendKanjiBytes(e,n);break;default:throw new Tn("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Nn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const A=Nn.getDigit(e.charAt(r));if(r+2<n){const n=Nn.getDigit(e.charAt(r+1)),i=Nn.getDigit(e.charAt(r+2));t.appendBits(100*A+10*n+i,10),r+=3}else if(r+1<n){const n=Nn.getDigit(e.charAt(r+1));t.appendBits(10*A+n,7),r+=2}else t.appendBits(A,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const A=Nn.getAlphanumericCode(e.charCodeAt(r));if(-1===A)throw new Tn;if(r+1<n){const n=Nn.getAlphanumericCode(e.charCodeAt(r+1));if(-1===n)throw new Tn;t.appendBits(45*A+n,11),r+=2}else t.appendBits(A,6),r++}}static append8BitBytes(e,t,n){let r;try{r=S.encode(e,n)}catch(A){throw new Tn(A)}for(let i=0,s=r.length;i!==s;i++){const e=r[i];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let n;try{n=S.encode(e,I.SJIS)}catch(A){throw new Tn(A)}const r=n.length;for(let i=0;i<r;i+=2){const e=(255&n[i])<<8&4294967295|255&n[i+1];let r=-1;if(e>=33088&&e<=40956?r=e-33088:e>=57408&&e<=60351&&(r=e-49472),-1===r)throw new Tn("Invalid byte sequence");const A=192*(r>>8)+(255&r);t.appendBits(A,13)}}static appendECI(e,t){t.appendBits(Ft.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nn.DEFAULT_BYTE_MODE_ENCODING=I.UTF8.getName();class Un{write(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new u("Found empty contents");if(t<0||n<0)throw new u("Requested dimensions are too small: "+t+"x"+n);let A=Bt.L,i=Un.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(vn.ERROR_CORRECTION)&&(A=Bt.fromString(r.get(vn.ERROR_CORRECTION).toString())),void 0!==r.get(vn.MARGIN)&&(i=Number.parseInt(r.get(vn.MARGIN).toString(),10)));const s=Nn.encode(e,A,r);return this.renderResult(s,t,n,i)}writeToDom(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"===typeof e&&(e=document.querySelector(e));const i=this.write(t,n,r,A);e&&e.appendChild(i)}renderResult(e,t,n,r){const A=e.getMatrix();if(null===A)throw new ne;const i=A.getWidth(),s=A.getHeight(),o=i+2*r,a=s+2*r,l=Math.max(t,o),c=Math.max(n,a),u=Math.min(Math.floor(l/o),Math.floor(c/a)),h=Math.floor((l-i*u)/2),d=Math.floor((c-s*u)/2),f=this.createSVGElement(l,c);for(let g=0,p=d;g<s;g++,p+=u)for(let e=0,t=h;e<i;e++,t+=u)if(1===A.get(e,g)){const e=this.createSvgRectElement(t,p,u,u);f.appendChild(e)}return f}createSVGElement(e,t){const n=document.createElementNS(Un.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const A=document.createElementNS(Un.SVG_NS,"rect");return A.setAttributeNS(null,"x",e.toString()),A.setAttributeNS(null,"y",t.toString()),A.setAttributeNS(null,"height",n.toString()),A.setAttributeNS(null,"width",r.toString()),A.setAttributeNS(null,"fill","#000000"),A}}Un.QUIET_ZONE_SIZE=4,Un.SVG_NS="http://www.w3.org/2000/svg";class Dn{encode(e,t,n,r,A){if(0===e.length)throw new u("Found empty contents");if(t!==j.QR_CODE)throw new u("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new u(`Requested dimensions are too small: ${n}x${r}`);let i=Bt.L,s=Dn.QUIET_ZONE_SIZE;null!==A&&(void 0!==A.get(vn.ERROR_CORRECTION)&&(i=Bt.fromString(A.get(vn.ERROR_CORRECTION).toString())),void 0!==A.get(vn.MARGIN)&&(s=Number.parseInt(A.get(vn.MARGIN).toString(),10)));const o=Nn.encode(e,i,A);return Dn.renderResult(o,n,r,s)}static renderResult(e,t,n,r){const A=e.getMatrix();if(null===A)throw new ne;const i=A.getWidth(),s=A.getHeight(),o=i+2*r,a=s+2*r,l=Math.max(t,o),c=Math.max(n,a),u=Math.min(Math.floor(l/o),Math.floor(c/a)),h=Math.floor((l-i*u)/2),d=Math.floor((c-s*u)/2),f=new F(l,c);for(let g=0,p=d;g<s;g++,p+=u)for(let e=0,t=h;e<i;e++,t+=u)1===A.get(e,g)&&f.setRegion(t,p,u,u);return f}}Dn.QUIET_ZONE_SIZE=4;class Qn{encode(e,t,n,r,A){let i;if(t!==j.QR_CODE)throw new u("No encoder available for format "+t);return i=new Dn,i.encode(e,t,n,r,A)}}class xn extends Q{constructor(e,t,n,r,A,i,s,o){if(super(i,s),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=A,r+i>t||A+s>n)throw new u("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(i,s)}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let A=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.yuvData,A,r,0,n),r;for(let i=0;i<t;i++){const t=i*e;g.arraycopy(this.yuvData,A,r,t,e),A+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new xn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let A=this.top*this.dataWidth+this.left;for(let i=0;i<t;i++){const t=i*e;for(let i=0;i<e;i++){const e=255&r[A+i*xn.THUMBNAIL_SCALE_FACTOR];n[t+i]=4278190080|65793*e}A+=this.dataWidth*xn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,A=this.top*this.dataWidth+this.left;r<t;r++,A+=this.dataWidth){const t=A+e/2;for(let r=A,i=A+e-1;r<t;r++,i--){const e=n[r];n[r]=n[i],n[i]=e}}}invert(){return new x(this)}}xn.THUMBNAIL_SCALE_FACTOR=2;class Rn extends Q{constructor(e,t,n,r,A,i,s){if(super(t,n),this.dataWidth=r,this.dataHeight=A,this.left=i,this.top=s,4===e.BYTES_PER_ELEMENT){const r=t*n,A=new Uint8ClampedArray(r);for(let t=0;t<r;t++){const n=e[t],r=n>>16&255,i=n>>7&510,s=255&n;A[t]=(r+i+s)/4&255}this.luminances=A}else this.luminances=e;if(void 0===r&&(this.dataWidth=t),void 0===A&&(this.dataHeight=n),void 0===i&&(this.left=0),void 0===s&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new u("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let A=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.luminances,A,r,0,n),r;for(let i=0;i<t;i++){const t=i*e;g.arraycopy(this.luminances,A,r,t,e),A+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Rn(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new x(this)}}class Mn extends I{static forName(e){return this.getCharacterSetECIByName(e)}}class On{}On.ISO_8859_1=I.ISO8859_1;class Ln{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class kn{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Pn{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Hn extends Pn{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Hn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+y.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class jn extends Hn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new jn(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vn(e,t,n){return new jn(e,t,n)}function Kn(e,t,n){return new Hn(e,t,n)}const Gn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],zn=0,Wn=1,Xn=2,Yn=3,qn=4,$n=new Hn(null,0,0),Jn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Zn(e){for(let t of e)w.fill(t,-1);return e[zn][qn]=0,e[Wn][qn]=0,e[Wn][zn]=28,e[Yn][qn]=0,e[Xn][qn]=0,e[Xn][zn]=15,e}const er=Zn(w.createInt32Array(6,6));class tr{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let t=Jn[this.mode][e];r=Kn(r,65535&t,t>>16),n+=t>>16}let A=e===Xn?4:5;return r=Kn(r,t,A),new tr(r,e,0,n+A)}shiftAndAppend(e,t){let n=this.token,r=this.mode===Xn?4:5;return n=Kn(n,er[this.mode][e],r),n=Kn(n,t,5),new tr(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===qn||this.mode===Xn){let e=Jn[n][zn];t=Kn(t,65535&e,e>>16),r+=e>>16,n=zn}let A=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,i=new tr(t,n,this.binaryShiftByteCount+1,r+A);return 2078===i.binaryShiftByteCount&&(i=i.endBinaryShift(e+1)),i}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vn(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new tr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Jn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=tr.calculateBinaryShiftCost(e)-tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let n=new C;for(const r of t)r.appendTo(n,e);return n}toString(){return T.format("%s bits=%d bytes=%d",Gn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function nr(e){const t=T.getCharCode(" "),n=T.getCharCode("."),r=T.getCharCode(",");e[zn][t]=1;const A=T.getCharCode("Z"),i=T.getCharCode("A");for(let h=i;h<=A;h++)e[zn][h]=h-i+2;e[Wn][t]=1;const s=T.getCharCode("z"),o=T.getCharCode("a");for(let h=o;h<=s;h++)e[Wn][h]=h-o+2;e[Xn][t]=1;const a=T.getCharCode("9"),l=T.getCharCode("0");for(let h=l;h<=a;h++)e[Xn][h]=h-l+2;e[Xn][r]=12,e[Xn][n]=13;const c=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let h=0;h<c.length;h++)e[Yn][T.getCharCode(c[h])]=h;const u=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<u.length;h++)T.getCharCode(u[h])>0&&(e[qn][T.getCharCode(u[h])]=h);return e}tr.INITIAL_STATE=new tr($n,zn,0,0);const rr=nr(w.createInt32Array(5,256));class Ar{constructor(e){this.text=e}encode(){const e=T.getCharCode(" "),t=T.getCharCode("\n");let n=kn.singletonList(tr.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let A,i=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case T.getCharCode("\r"):A=i===t?2:0;break;case T.getCharCode("."):A=i===e?3:0;break;case T.getCharCode(","):A=i===e?4:0;break;case T.getCharCode(":"):A=i===e?5:0;break;default:A=0}A>0?(n=Ar.updateStateListForPair(n,r,A),r++):n=this.updateStateListForChar(n,r)}return kn.min(n,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return Ar.simplifyStates(n)}updateStateForChar(e,t,n){let r=255&this.text[t],A=rr[e.getMode()][r]>0,i=null;for(let s=0;s<=qn;s++){let o=rr[s][r];if(o>0){if(null==i&&(i=e.endBinaryShift(t)),!A||s===e.getMode()||s===Xn){const e=i.latchAndAppend(s,o);n.push(e)}if(!A&&er[e.getMode()][s]>=0){const e=i.shiftAndAppend(s,o);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rr[e.getMode()][r]){let r=e.addBinaryShiftChar(t);n.push(r)}}static updateStateListForPair(e,t,n){const r=[];for(let A of e)this.updateStateForPair(A,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let A=e.endBinaryShift(t);if(r.push(A.latchAndAppend(qn,n)),e.getMode()!==qn&&r.push(A.shiftAndAppend(qn,n)),3===n||4===n){let e=A.latchAndAppend(Xn,16-n).latchAndAppend(Xn,1);r.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(n)}}static simplifyStates(e){let t=[];for(const n of e){let e=!0;for(const r of t){if(r.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter((e=>e!==r)))}e&&t.push(n)}return t}}class ir{constructor(){}static encodeBytes(e){return ir.encode(e,ir.DEFAULT_EC_PERCENT,ir.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r,A,i,s,o,a=new Ar(e).encode(),l=y.truncDivision(a.getSize()*t,100)+11,c=a.getSize()+l;if(n!==ir.DEFAULT_AZTEC_LAYERS){if(r=n<0,A=Math.abs(n),A>(r?ir.MAX_NB_BITS_COMPACT:ir.MAX_NB_BITS))throw new u(T.format("Illegal value %s for layers",n));i=ir.totalBitsInLayer(A,r),s=ir.WORD_SIZE[A];let e=i-i%s;if(o=ir.stuffBits(a,s),o.getSize()+l>e)throw new u("Data to large for user specified layer");if(r&&o.getSize()>64*s)throw new u("Data to large for user specified layer")}else{s=0,o=null;for(let e=0;;e++){if(e>ir.MAX_NB_BITS)throw new u("Data too large for an Aztec code");if(r=e<=3,A=r?e+1:e,i=ir.totalBitsInLayer(A,r),c>i)continue;null!=o&&s===ir.WORD_SIZE[A]||(s=ir.WORD_SIZE[A],o=ir.stuffBits(a,s));let t=i-i%s;if(!(r&&o.getSize()>64*s)&&o.getSize()+l<=t)break}}let h,d=ir.generateCheckWords(o,i,s),f=o.getSize()/s,g=ir.generateModeMessage(r,A,f),p=(r?11:14)+4*A,m=new Int32Array(p);if(r){h=p;for(let e=0;e<m.length;e++)m[e]=e}else{h=p+1+2*y.truncDivision(y.truncDivision(p,2)-1,15);let e=y.truncDivision(p,2),t=y.truncDivision(h,2);for(let n=0;n<e;n++){let r=n+y.truncDivision(n,15);m[e-n-1]=t-r-1,m[e+n]=t+r+1}}let w=new F(h);for(let u=0,y=0;u<A;u++){let e=4*(A-u)+(r?9:12);for(let t=0;t<e;t++){let n=2*t;for(let r=0;r<2;r++)d.get(y+n+r)&&w.set(m[2*u+r],m[2*u+t]),d.get(y+2*e+n+r)&&w.set(m[2*u+t],m[p-1-2*u-r]),d.get(y+4*e+n+r)&&w.set(m[p-1-2*u-r],m[p-1-2*u-t]),d.get(y+6*e+n+r)&&w.set(m[p-1-2*u-t],m[2*u+r])}y+=8*e}if(ir.drawModeMessage(w,r,h,g),r)ir.drawBullsEye(w,y.truncDivision(h,2),5);else{ir.drawBullsEye(w,y.truncDivision(h,2),7);for(let e=0,t=0;e<y.truncDivision(p,2)-1;e+=15,t+=16)for(let n=1&y.truncDivision(h,2);n<h;n+=2)w.set(y.truncDivision(h,2)-t,n),w.set(y.truncDivision(h,2)+t,n),w.set(n,y.truncDivision(h,2)-t),w.set(n,y.truncDivision(h,2)+t)}let C=new Ln;return C.setCompact(r),C.setSize(h),C.setLayers(A),C.setCodeWords(f),C.setMatrix(w),C}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let n=t-r;n<=t+r;n++)e.set(n,t-r),e.set(n,t+r),e.set(t-r,n),e.set(t+r,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new C;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=ir.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=ir.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let A=y.truncDivision(n,2);if(t)for(let i=0;i<7;i++){let t=A-3+i;r.get(i)&&e.set(t,A-5),r.get(i+7)&&e.set(A+5,t),r.get(20-i)&&e.set(t,A+5),r.get(27-i)&&e.set(A-5,t)}else for(let i=0;i<10;i++){let t=A-5+i+y.truncDivision(i,5);r.get(i)&&e.set(t,A-7),r.get(i+10)&&e.set(A+7,t),r.get(29-i)&&e.set(t,A+7),r.get(39-i)&&e.set(A-7,t)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,A=new En(ir.getGF(n)),i=y.truncDivision(t,n),s=ir.bitsToWords(e,n,i);A.encode(s,i-r);let o=t%n,a=new C;a.appendBits(0,o);for(const l of Array.from(s))a.appendBits(l,n);return a}static bitsToWords(e,t,n){let r,A,i=new Int32Array(n);for(r=0,A=e.getSize()/t;r<A;r++){let n=0;for(let A=0;A<t;A++)n|=e.get(r*t+A)?1<<t-A-1:0;i[r]=n}return i}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new u("Unsupported word size "+e)}}static stuffBits(e,t){let n=new C,r=e.getSize(),A=(1<<t)-2;for(let i=0;i<r;i+=t){let s=0;for(let n=0;n<t;n++)(i+n>=r||e.get(i+n))&&(s|=1<<t-1-n);(s&A)===A?(n.appendBits(s&A,t),i--):0===(s&A)?(n.appendBits(1|s,t),i--):n.appendBits(s,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ir.DEFAULT_EC_PERCENT=33,ir.DEFAULT_AZTEC_LAYERS=0,ir.MAX_NB_BITS=32,ir.MAX_NB_BITS_COMPACT=4,ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sr{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,A){let i=On.ISO_8859_1,s=ir.DEFAULT_EC_PERCENT,o=ir.DEFAULT_AZTEC_LAYERS;return null!=A&&(A.has(vn.CHARACTER_SET)&&(i=Mn.forName(A.get(vn.CHARACTER_SET).toString())),A.has(vn.ERROR_CORRECTION)&&(s=y.parseInt(A.get(vn.ERROR_CORRECTION).toString())),A.has(vn.AZTEC_LAYERS)&&(o=y.parseInt(A.get(vn.AZTEC_LAYERS).toString()))),sr.encodeLayers(e,t,n,r,i,s,o)}static encodeLayers(e,t,n,r,A,i,s){if(t!==j.AZTEC)throw new u("Can only encode AZTEC, but got "+t);let o=ir.encode(T.getBytes(e,A),i,s);return sr.renderResult(o,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(null==r)throw new ne;let A=r.getWidth(),i=r.getHeight(),s=Math.max(t,A),o=Math.max(n,i),a=Math.min(s/A,o/i),l=(s-A*a)/2,c=(o-i*a)/2,u=new F(s,o);for(let h=0,d=c;h<i;h++,d+=a)for(let e=0,t=l;e<A;e++,t+=a)r.get(e,h)&&u.setRegion(t,d,a,a);return u}}e.AbstractExpandedDecoder=Ge,e.ArgumentException=c,e.ArithmeticException=Z,e.AztecCode=Ln,e.AztecCodeReader=me,e.AztecCodeWriter=sr,e.AztecDecoder=Ae,e.AztecDetector=pe,e.AztecDetectorResult=le,e.AztecEncoder=ir,e.AztecHighLevelEncoder=Ar,e.AztecPoint=ge,e.BarcodeFormat=j,e.Binarizer=f,e.BinaryBitmap=h,e.BitArray=C,e.BitMatrix=F,e.BitSource=gt,e.BrowserAztecCodeReader=we,e.BrowserBarcodeReader=lt,e.BrowserCodeReader=k,e.BrowserDatamatrixCodeReader=Ct,e.BrowserMultiFormatReader=wn,e.BrowserPDF417Reader=yn,e.BrowserQRCodeReader=Cn,e.BrowserQRCodeSvgWriter=Un,e.CharacterSetECI=I,e.ChecksumException=d,e.Code128Reader=Ce,e.Code39Reader=Be,e.DataMatrixDecodedBitStreamParser=pt,e.DataMatrixReader=yt,e.DecodeHintType=v,e.DecoderResult=q,e.DefaultGridSampler=de,e.DetectorResult=ae,e.EAN13Reader=_e,e.EncodeHintType=vn,e.Exception=l,e.FormatException=E,e.GenericGF=ee,e.GenericGFPoly=J,e.GlobalHistogramBinarizer=U,e.GridSampler=ue,e.GridSamplerInstance=fe,e.HTMLCanvasElementLuminanceSource=R,e.HybridBinarizer=D,e.ITFReader=ve,e.IllegalArgumentException=u,e.IllegalStateException=ne,e.InvertedLuminanceSource=x,e.LuminanceSource=Q,e.MathUtils=ie,e.MultiFormatOneDReader=at,e.MultiFormatReader=mn,e.MultiFormatWriter=Qn,e.NotFoundException=N,e.OneDReader=ye,e.PDF417DecodedBitStreamParser=dn,e.PDF417DecoderErrorCorrection=zt,e.PDF417Reader=gn,e.PDF417ResultMetadata=nn,e.PerspectiveTransform=he,e.PlanarYUVLuminanceSource=xn,e.QRCodeByteMatrix=bn,e.QRCodeDataMask=St,e.QRCodeDecodedBitStreamParser=Nt,e.QRCodeDecoderErrorCorrectionLevel=Bt,e.QRCodeDecoderFormatInformation=vt,e.QRCodeEncoder=Nn,e.QRCodeEncoderQRCode=Sn,e.QRCodeMaskUtil=In,e.QRCodeMatrixUtil=_n,e.QRCodeMode=Ft,e.QRCodeReader=kt,e.QRCodeVersion=bt,e.QRCodeWriter=Dn,e.RGBLuminanceSource=Rn,e.RSS14Reader=ot,e.RSSExpandedReader=it,e.ReaderException=pn,e.ReedSolomonDecoder=re,e.ReedSolomonEncoder=En,e.ReedSolomonException=te,e.Result=P,e.ResultMetadataType=Y,e.ResultPoint=oe,e.StringUtils=T,e.UnsupportedOperationException=b,e.VideoInputDevice=M,e.WhiteRectangleDetector=ce,e.WriterException=Tn,e.ZXingArrays=w,e.ZXingCharset=Mn,e.ZXingInteger=y,e.ZXingStandardCharsets=On,e.ZXingStringBuilder=_,e.ZXingStringEncoding=S,e.ZXingSystem=g,e.createAbstractExpandedDecoder=nt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},194:(e,t,n)=>{"use strict";n.d(t,{Promotion:()=>r});class r{constructor(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;this.id=e,this.name=t,this.discount=n,this.discountType=r,this.criterio=A,this.productId=i,this.productName=s,this.isActive=o,this.startDate=a,this.endDate=l,this.minQuantity=c,this.maxDiscount=u}isValidToday(){if(!this.isActive)return!1;const e=(new Date).toISOString().split("T")[0];return!(this.startDate&&this.startDate>e)&&!(this.endDate&&this.endDate<e)}matchesProductCriteria(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.criterio||0===this.criterio.length)return!0;for(let n of this.criterio)if("product_quantity"===n.type){if(n.productName.toLowerCase()===e.toLowerCase())return t>=n.minQuantity}else if("product_combo"===n.type)continue;return!0}evaluateAdvancedCriteria(e){if(!this.isValidToday())return!1;if(!this.criterio||0===this.criterio.length)return!0;let t=0;for(let n of this.criterio)if("product_quantity"===n.type){let t=0;for(let r of e)(r.nome.trim().toLowerCase().includes(n.productName.trim().toLowerCase())||n.productName.trim().toLowerCase().includes(r.nome.trim().toLowerCase()))&&(t+=r.quantidadeSelecionada);if(t<n.minQuantity)return!1}else if("total_quantity"===n.type){if(t=e.reduce(((e,t)=>e+t.quantidadeSelecionada),0),t<n.minQuantity)return!1}else if("product_combo"===n.type){console.log("Evaluating product_combo, items:",e.map((e=>e.nome)));const t=n.products||[];console.log("Required products:",t);const r=e.map((e=>e.nome.trim().toLowerCase()));console.log("Cart product names:",r);for(let e of t){const t=e.trim().toLowerCase(),n=r.includes(t);if(console.log("Required:",e,"lower:",t,"in cart:",n),!n)return console.log("Not all required products in cart, return false"),!1}console.log("All required products in cart, continue")}return!0}calculateDiscount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.evaluateAdvancedCriteria(t))return 0;let n=0;return n="percentage"===this.discountType?e*(this.discount/100):Math.min(this.discount,e),this.maxDiscount&&n>this.maxDiscount&&(n=this.maxDiscount),n}static async getAll(){try{const{collection:e,getDocs:t,query:r,orderBy:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662)),s=r(e(i,"promotions"),A("name"));return(await t(s)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){return console.error("Erro ao buscar promo\xe7\xf5es:",e),[]}}static async getActive(){try{const{collection:e,getDocs:t,query:r,where:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662)),s=(new Date).toISOString().split("T")[0],o=r(e(i,"promotions"),A("isActive","==",!0)),a=await t(o);return a.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>!(e.startDate&&e.startDate>s)&&!(e.endDate&&e.endDate<s))).sort(((e,t)=>(e.name||"").localeCompare(t.name||"")))}catch(e){return console.error("Erro ao buscar promo\xe7\xf5es ativas:",e),[]}}static async add(e){try{const{collection:t,addDoc:r,serverTimestamp:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662));return{id:(await r(t(i,"promotions"),{...e,createdAt:A(),updatedAt:A()})).id,...e}}catch(t){throw console.error("Erro ao adicionar promo\xe7\xe3o:",t),t}}static async update(e,t){try{const{doc:r,updateDoc:A,serverTimestamp:i}=await Promise.resolve().then(n.bind(n,667)),{db:s}=await Promise.resolve().then(n.bind(n,662));await A(r(s,"promotions",e),{...t,updatedAt:i()})}catch(r){throw console.error("Erro ao atualizar promo\xe7\xe3o:",r),r}}static async delete(e){try{const{doc:t,deleteDoc:r}=await Promise.resolve().then(n.bind(n,667)),{db:A}=await Promise.resolve().then(n.bind(n,662));await r(t(A,"promotions",e))}catch(t){throw console.error("Erro ao deletar promo\xe7\xe3o:",t),t}}}},232:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ce,j6:()=>ie,xZ:()=>se,om:()=>Ae,Sx:()=>he,Wp:()=>ue,KO:()=>de});var r=n(606),A=n(965),i=n(776);let s,o;const a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),A=1;A<n;A++)r[A-1]=arguments[A];const i=e.call(m(this),t,...r);return c.set(i,t.sort?t.sort():[t]),p(i)}}function g(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",A),e.removeEventListener("error",i),e.removeEventListener("abort",i)},A=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",A),e.addEventListener("error",i),e.addEventListener("abort",i)}));l.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,d):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",A),e.removeEventListener("error",i)},A=()=>{t(p(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",A),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),h.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=g(e);return t!==e&&(u.set(e,t),h.set(t,e)),t}const m=e=>h.get(e);const w=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],C=new Map;function B(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(C.get(t))return C.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,A=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!A&&!w.includes(n))return;const i=async function(e){const t=this.transaction(e,A?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),A&&t.done]))[0]};return C.set(t,i),i}d=(e=>({...e,get:(t,n,r)=>B(t,n)||e.get(t,n,r),has:(t,n)=>!!B(t,n)||e.has(t,n)}))(d);class v{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",I="0.14.3",b=new A.Vy("@firebase/app"),S="@firebase/app-compat",T="@firebase/analytics-compat",_="@firebase/analytics",F="@firebase/app-check-compat",N="@firebase/app-check",U="@firebase/auth",D="@firebase/auth-compat",Q="@firebase/database",x="@firebase/data-connect",R="@firebase/database-compat",M="@firebase/functions",O="@firebase/functions-compat",L="@firebase/installations",k="@firebase/installations-compat",P="@firebase/messaging",H="@firebase/messaging-compat",j="@firebase/performance",V="@firebase/performance-compat",K="@firebase/remote-config",G="@firebase/remote-config-compat",z="@firebase/storage",W="@firebase/storage-compat",X="@firebase/firestore",Y="@firebase/ai",q="@firebase/firestore-compat",$="firebase",J="[DEFAULT]",Z={[E]:"fire-core",[S]:"fire-core-compat",[_]:"fire-analytics",[T]:"fire-analytics-compat",[N]:"fire-app-check",[F]:"fire-app-check-compat",[U]:"fire-auth",[D]:"fire-auth-compat",[Q]:"fire-rtdb",[x]:"fire-data-connect",[R]:"fire-rtdb-compat",[M]:"fire-fn",[O]:"fire-fn-compat",[L]:"fire-iid",[k]:"fire-iid-compat",[P]:"fire-fcm",[H]:"fire-fcm-compat",[j]:"fire-perf",[V]:"fire-perf-compat",[K]:"fire-rc",[G]:"fire-rc-compat",[z]:"fire-gcs",[W]:"fire-gcs-compat",[X]:"fire-fst",[q]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[$]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){b.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ae(e){const t=e.name;if(ne.has(t))return b.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function ie(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e){return null!==e&&void 0!==e&&void 0!==e.settings}const oe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ae=new i.FA("app","Firebase",oe);class le{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ae.create("app-deleted",{appName:this._name})}}const ce="12.3.0";function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const A={name:J,automaticDataCollectionEnabled:!0,...t},s=A.name;if("string"!==typeof s||!s)throw ae.create("bad-app-name",{appName:String(s)});if(n||(n=(0,i.T9)()),!n)throw ae.create("no-options");const o=ee.get(s);if(o){if((0,i.bD)(n,o.options)&&(0,i.bD)(A,o.config))return o;throw ae.create("duplicate-app",{appName:s})}const a=new r.h1(s);for(const r of ne.values())a.addComponent(r);const l=new le(n,A,a);return ee.set(s,l),l}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const t=ee.get(e);if(!t&&e===J&&(0,i.T9)())return ue();if(!t)throw ae.create("no-app",{appName:e});return t}function de(e,t,n){let A=Z[e]??e;n&&(A+=`-${n}`);const i=A.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${A}" with version "${t}":`];return i&&e.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void b.warn(e.join(" "))}Ae(new r.uA(`${A}-version`,(()=>({library:A,version:t})),"VERSION"))}const fe="firebase-heartbeat-store";let ge=null;function pe(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:A,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=p(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),A&&e.addEventListener("versionchange",(e=>A(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fe)}catch(n){console.warn(n)}}}).catch((e=>{throw ae.create("idb-open",{originalErrorMessage:e.message})}))),ge}async function me(e,t){try{const n=(await pe()).transaction(fe,"readwrite"),r=n.objectStore(fe);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof i.g)b.warn(n.message);else{const e=ae.create("idb-set",{originalErrorMessage:n?.message});b.warn(e.message)}}}function we(e){return`${e.name}!${e.options.appId}`}class ye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Be(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Ce();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){b.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ce(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const A of e){const e=n.find((e=>e.agent===A.agent));if(e){if(e.dates.push(A.date),ve(n)>t){e.dates.pop();break}}else if(n.push({agent:A.agent,dates:[A.date]}),ve(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,i.Uj)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return b.warn(e),""}}}function Ce(){return(new Date).toISOString().substring(0,10)}class Be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await pe()).transaction(fe),n=await t.objectStore(fe).get(we(e));return await t.done,n}catch(t){if(t instanceof i.g)b.warn(t.message);else{const e=ae.create("idb-get",{originalErrorMessage:t?.message});b.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function ve(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ee;Ee="",Ae(new r.uA("platform-logger",(e=>new v(e)),"PRIVATE")),Ae(new r.uA("heartbeat",(e=>new ye(e)),"PRIVATE")),de(E,I,Ee),de(E,I,"esm2020"),de("fire-js","")},239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},n.apply(this,arguments)};function r(e,t,n,r){function A(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(r.next(e))}catch(Ot){i(Ot)}}function o(e){try{a(r.throw(e))}catch(Ot){i(Ot)}}function a(e){e.done?n(e.value):A(e.value).then(s,o)}a((r=r.apply(e,t||[])).next())}))}function A(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(e){return function(t){return a([e,t])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){s.label=i[1];break}if(6===i[0]&&s.label<A[1]){s.label=A[1],A=i;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(i);break}A[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(Ot){i=[6,Ot],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t,n){if(n||2===arguments.length)for(var r,A=0,i=t.length;A<i;A++)!r&&A in t||(r||(r=Array.prototype.slice.call(t,0,A)),r[A]=t[A]);return e.concat(r||t)}for(var s=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,A){return new e(this.left+t,this.top+n,this.width+r,this.height+A)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},a=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),A=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,r,A)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&A)<<10)+(1023&i)+65536):(t.push(A),n--)}else t.push(A)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],A=-1,i="";++A<n;){var s=e[A];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(A+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<u.length;d++)h[u.charCodeAt(d)]=d;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)g[f.charCodeAt(p)]=p;for(var m=function(e){var t,n,r,A,i,s=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=g[e.charCodeAt(t)],r=g[e.charCodeAt(t+1)],A=g[e.charCodeAt(t+2)],i=g[e.charCodeAt(t+3)],c[a++]=n<<2|r>>4,c[a++]=(15&r)<<4|A>>2,c[a++]=(3&A)<<6|63&i;return l},w=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},C=5,B=11,v=2,E=65536>>C,I=(1<<C)-1,b=E+(1024>>C)+32,S=65536>>B,T=(1<<B-C)-1,_=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},F=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},N=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),A=Array.isArray(n)?w(n):new Uint16Array(n),i=24,s=_(A,i/2,r[4]/2),o=2===r[5]?_(A,(i+r[4])/2):F(r,Math.ceil((i+r[4])/4));return new U(r[0],r[1],r[2],r[3],s,o)},U=function(){function e(e,t,n,r,A,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=A,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>C])<<v)+(e&I),this.data[t];if(e<=65535)return t=((t=this.index[E+(e-55296>>C)])<<v)+(e&I),this.data[t];if(e<this.highStart)return t=b-S+(e>>B),t=this.index[t],t+=e>>C&T,t=((t=this.index[t])<<v)+(e&I),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="undefined"===typeof Uint8Array?[]:new Uint8Array(256),x=0;x<D.length;x++)Q[D.charCodeAt(x)]=x;var R=50,M=1,O=2,L=3,k=4,P=5,H=7,j=8,V=9,K=10,G=11,z=12,W=13,X=14,Y=15,q=16,$=17,J=18,Z=19,ee=20,te=21,ne=22,re=23,Ae=24,ie=25,se=26,oe=27,ae=28,le=29,ce=30,ue=31,he=32,de=33,fe=34,ge=35,pe=36,me=37,we=38,ye=39,Ce=40,Be=41,ve=42,Ee=43,Ie=[9001,65288],be="!",Se="\xd7",Te="\xf7",_e=N("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Fe=[ce,pe],Ne=[M,O,L,P],Ue=[K,j],De=[oe,se],Qe=Ne.concat(Ue),xe=[we,ye,Ce,fe,ge],Re=[Y,W],Me=function(e,t){void 0===t&&(t="strict");var n=[],r=[],A=[];return e.forEach((function(e,i){var s=_e.get(e);if(s>R?(A.push(!0),s-=R):A.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(q);if(s===k||s===G){if(0===i)return r.push(i),n.push(ce);var o=n[i-1];return-1===Qe.indexOf(o)?(r.push(r[i-1]),n.push(o)):(r.push(i),n.push(ce))}return r.push(i),s===ue?n.push("strict"===t?te:me):s===ve||s===le?n.push(ce):s===Ee?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(s)})),[r,n,A]},Oe=function(e,t,n,r){var A=r[n];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var i=n;i<=r.length;){if((a=r[++i])===t)return!0;if(a!==K)break}if(A===K)for(i=n;i>0;){var s=r[--i];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var o=n;o<=r.length;){var a;if((a=r[++o])===t)return!0;if(a!==K)break}if(s!==K)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},ke=function(e,t,n,r,A){if(0===n[r])return Se;var i=r-1;if(Array.isArray(A)&&!0===A[i])return Se;var s=i-1,o=i+1,a=t[i],l=s>=0?t[s]:0,c=t[o];if(a===O&&c===L)return Se;if(-1!==Ne.indexOf(a))return be;if(-1!==Ne.indexOf(c))return Se;if(-1!==Ue.indexOf(c))return Se;if(Le(i,t)===j)return Te;if(_e.get(e[i])===G)return Se;if((a===he||a===de)&&_e.get(e[o])===G)return Se;if(a===H||c===H)return Se;if(a===V)return Se;if(-1===[K,W,Y].indexOf(a)&&c===V)return Se;if(-1!==[$,J,Z,Ae,ae].indexOf(c))return Se;if(Le(i,t)===ne)return Se;if(Oe(re,ne,i,t))return Se;if(Oe([$,J],te,i,t))return Se;if(Oe(z,z,i,t))return Se;if(a===K)return Te;if(a===re||c===re)return Se;if(c===q||a===q)return Te;if(-1!==[W,Y,te].indexOf(c)||a===X)return Se;if(l===pe&&-1!==Re.indexOf(a))return Se;if(a===ae&&c===pe)return Se;if(c===ee)return Se;if(-1!==Fe.indexOf(c)&&a===ie||-1!==Fe.indexOf(a)&&c===ie)return Se;if(a===oe&&-1!==[me,he,de].indexOf(c)||-1!==[me,he,de].indexOf(a)&&c===se)return Se;if(-1!==Fe.indexOf(a)&&-1!==De.indexOf(c)||-1!==De.indexOf(a)&&-1!==Fe.indexOf(c))return Se;if(-1!==[oe,se].indexOf(a)&&(c===ie||-1!==[ne,Y].indexOf(c)&&t[o+1]===ie)||-1!==[ne,Y].indexOf(a)&&c===ie||a===ie&&-1!==[ie,ae,Ae].indexOf(c))return Se;if(-1!==[ie,ae,Ae,$,J].indexOf(c))for(var u=i;u>=0;){if((h=t[u])===ie)return Se;if(-1===[ae,Ae].indexOf(h))break;u--}if(-1!==[oe,se].indexOf(c))for(u=-1!==[$,J].indexOf(a)?s:i;u>=0;){var h;if((h=t[u])===ie)return Se;if(-1===[ae,Ae].indexOf(h))break;u--}if(we===a&&-1!==[we,ye,fe,ge].indexOf(c)||-1!==[ye,fe].indexOf(a)&&-1!==[ye,Ce].indexOf(c)||-1!==[Ce,ge].indexOf(a)&&c===Ce)return Se;if(-1!==xe.indexOf(a)&&-1!==[ee,se].indexOf(c)||-1!==xe.indexOf(c)&&a===oe)return Se;if(-1!==Fe.indexOf(a)&&-1!==Fe.indexOf(c))return Se;if(a===Ae&&-1!==Fe.indexOf(c))return Se;if(-1!==Fe.concat(ie).indexOf(a)&&c===ne&&-1===Ie.indexOf(e[o])||-1!==Fe.concat(ie).indexOf(c)&&a===J)return Se;if(a===Be&&c===Be){for(var d=n[i],f=1;d>0&&t[--d]===Be;)f++;if(f%2!==0)return Se}return a===he&&c===de?Se:Te},Pe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Me(e,t.lineBreak),r=n[0],A=n[1],i=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(A=A.map((function(e){return-1!==[ie,ce,ve].indexOf(e)?me:e})));var s="keep-all"===t.wordBreak?i.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,A,s]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===be,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=l(e),r=Pe(n,t),A=r[0],i=r[1],s=r[2],o=n.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Se;c<o&&(e=ke(n,i,A,++c,s))===Se;);if(e!==Se||c===o){var t=new He(n,e,a,c);return a=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ve=1,Ke=2,Ge=4,ze=8,We=10,Xe=47,Ye=92,qe=9,$e=32,Je=34,Ze=61,et=35,tt=36,nt=37,rt=39,At=40,it=41,st=95,ot=45,at=33,lt=60,ct=62,ut=64,ht=91,dt=93,ft=61,gt=123,pt=63,mt=125,wt=124,yt=126,Ct=128,Bt=65533,vt=42,Et=43,It=44,bt=58,St=59,Tt=46,_t=0,Ft=8,Nt=11,Ut=14,Dt=31,Qt=127,xt=-1,Rt=48,Mt=97,Ot=101,Lt=102,kt=117,Pt=122,Ht=65,jt=69,Vt=70,Kt=85,Gt=90,zt=function(e){return e>=Rt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Xt=function(e){return zt(e)||e>=Ht&&e<=Vt||e>=Mt&&e<=Lt},Yt=function(e){return e>=Mt&&e<=Pt},qt=function(e){return e>=Ht&&e<=Gt},$t=function(e){return Yt(e)||qt(e)},Jt=function(e){return e>=Ct},Zt=function(e){return e===We||e===qe||e===$e},en=function(e){return $t(e)||Jt(e)||e===st},tn=function(e){return en(e)||zt(e)||e===ot},nn=function(e){return e>=_t&&e<=Ft||e===Nt||e>=Ut&&e<=Dt||e===Qt},rn=function(e,t){return e===Ye&&t!==We},An=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==Ye||!rn(e,t))},sn=function(e,t,n){return e===Et||e===ot?!!zt(t)||t===Tt&&zt(n):zt(e===Tt?t:e)},on=function(e){var t=0,n=1;e[t]!==Et&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];zt(e[t]);)r.push(e[t++]);var A=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Tt&&t++;for(var i=[];zt(e[t]);)i.push(e[t++]);var s=i.length,o=s?parseInt(c.apply(void 0,i),10):0;e[t]!==jt&&e[t]!==Ot||t++;var a=1;e[t]!==Et&&e[t]!==ot||(e[t]===ot&&(a=-1),t++);for(var l=[];zt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(A+o*Math.pow(10,-s))*Math.pow(10,a*u)},an={type:2},ln={type:3},cn={type:4},un={type:13},hn={type:8},dn={type:21},fn={type:9},gn={type:10},pn={type:11},mn={type:12},wn={type:14},yn={type:23},Cn={type:1},Bn={type:25},vn={type:24},En={type:26},In={type:27},bn={type:28},Sn={type:29},Tn={type:31},_n={type:32},Fn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_n;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Je:return this.consumeStringToken(Je);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var A=An(t,n,r)?Ke:Ve;return{type:5,value:this.consumeName(),flags:A}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case At:return an;case it:return ln;case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),wn;break;case Et:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case It:return cn;case ot:var i=e,s=this.peekCodePoint(0),o=this.peekCodePoint(1);if(sn(i,s,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(An(i,s,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case Tt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xe:if(this.peekCodePoint(0)===vt)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===vt&&(a=this.consumeCodePoint())===Xe)return this.consumeToken();if(a===xt)return this.consumeToken()}break;case bt:return En;case St:return In;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),Bn;break;case ut:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(An(l,u,h))return{type:7,value:this.consumeName()};break;case ht:return bn;case Ye:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Sn;case ft:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case gt:return pn;case mt:return mn;case kt:case Kt:var d=this.peekCodePoint(0),f=this.peekCodePoint(1);return d!==Et||!Xt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),dn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),gn;break;case xt:return _n}return Zt(e)?(this.consumeWhiteSpace(),Tn):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Xt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===pt?Rt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===pt?Vt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Xt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var A=[];Xt(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,A),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===At?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===At?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Je){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xt||this.peekCodePoint(0)===it)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===xt||r===it)return{type:22,value:c.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xt||this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Je||r===rt||r===At||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===Ye){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===it||e===xt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===xt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),Cn;if(r===Ye){var A=this._value[n+1];A!==xt&&void 0!==A&&(A===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,A)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ge,n=this.peekCodePoint(0);for(n!==Et&&n!==ot||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Tt&&zt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===jt||n===Ot)&&((r===Et||r===ot)&&zt(A)||zt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);return An(r,A,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Xt(e)){for(var t=c(e);Xt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?Bt:n}return e===xt?Bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Nn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Fn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||kn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?_n:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Un=function(e){return 15===e.type},Dn=function(e){return 17===e.type},Qn=function(e){return 20===e.type},xn=function(e){return 0===e.type},Rn=function(e,t){return Qn(e)&&e.value===t},Mn=function(e){return 31!==e.type},On=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},kn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Pn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Pn(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Vn={type:17,number:0,flags:Ge},Kn={type:16,number:50,flags:Ge},Gn={type:16,number:100,flags:Ge},zn=function(e,t,n){var r=e[0],A=e[1];return[Wn(r,t),Wn("undefined"!==typeof A?A:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Un(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Xn="deg",Yn="grad",qn="rad",$n="turn",Jn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Xn:return Math.PI*t.number/180;case Yn:return Math.PI/200*t.number;case qn:return t.number;case $n:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===Xn||e.unit===Yn||e.unit===qn||e.unit===$n)},er=function(e){switch(e.filter(Qn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,Gn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gn,Gn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gn,Vn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),A=t.value.substring(1,2),i=t.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(4===t.value.length){r=t.value.substring(0,1),A=t.value.substring(1,2),i=t.value.substring(2,3);var s=t.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),A=t.value.substring(2,4),i=t.value.substring(4,6),ir(parseInt(r,16),parseInt(A,16),parseInt(i,16),1);if(8===t.value.length)return r=t.value.substring(0,2),A=t.value.substring(2,4),i=t.value.substring(4,6),s=t.value.substring(6,8),ir(parseInt(r,16),parseInt(A,16),parseInt(i,16),parseInt(s,16)/255)}if(20===t.type){var o=hr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},Ar=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,A=255&e>>24;return t<255?"rgba("+A+","+r+","+n+","+t/255+")":"rgb("+A+","+r+","+n+")"},ir=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},sr=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(On);if(3===n.length){var r=n.map(sr),A=r[0],i=r[1],s=r[2];return ir(A,i,s,1)}if(4===n.length){var o=n.map(sr),a=(A=o[0],i=o[1],s=o[2],o[3]);return ir(A,i,s,a)}return 0};function ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lr=function(e,t){var n=t.filter(On),r=n[0],A=n[1],i=n[2],s=n[3],o=(17===r.type?tr(r.number):Jn.parse(e,r))/(2*Math.PI),a=Hn(A)?A.number/100:0,l=Hn(i)?i.number/100:0,c="undefined"!==typeof s&&Hn(s)?Wn(s,1):1;if(0===a)return ir(255*l,255*l,255*l,1);var u=l<=.5?l*(a+1):l+a-l*a,h=2*l-u,d=ar(h,u,o+1/3),f=ar(h,u,o),g=ar(h,u,o-1/3);return ir(255*d,255*f,255*g,c)},cr={hsl:lr,hsla:lr,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,Nn.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},pr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Vn),null===r.stop&&(r.stop=Gn);for(var A=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(null!==o){var a=Wn(o,t);a>i?A.push(a):A.push(i),i=a}else A.push(null)}var l=null;for(s=0;s<A.length;s++){var c=A[s];if(null===c)null===l&&(l=s);else if(null!==l){for(var u=s-l,h=(c-A[l-1])/(u+1),d=1;d<=u;d++)A[l+d-1]=h*d;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,A[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,A=n/2,i=Wn(e[0],t)-r,s=A-Wn(e[1],n);return(Math.atan2(s,i)+2*Math.PI)%(2*Math.PI)},wr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),A=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,s=n/2,o=A/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[A,i-l,i+l,s-a,s+a]},yr=function(e,t){return Math.sqrt(e*e+t*t)},Cr=function(e,t,n,r,A){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var i=t[0],s=t[1],o=yr(n-i,r-s);return(A?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},Br=function(e,t,n,r,A){var i=0,s=0;switch(e.size){case 0:0===e.shape?i=s=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-A)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-r)),s=Math.min(Math.abs(n),Math.abs(n-A)));break;case 2:if(0===e.shape)i=s=Math.min(yr(t,n),yr(t,n-A),yr(t-r,n),yr(t-r,n-A));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-A))/Math.min(Math.abs(t),Math.abs(t-r)),a=Cr(r,A,t,n,!0),l=a[0],c=a[1];s=o*(i=yr(l-t,(c-n)/o))}break;case 1:0===e.shape?i=s=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-A)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-r)),s=Math.max(Math.abs(n),Math.abs(n-A)));break;case 3:if(0===e.shape)i=s=Math.max(yr(t,n),yr(t,n-A),yr(t-r,n),yr(t-r,n-A));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-A))/Math.max(Math.abs(t),Math.abs(t-r));var u=Cr(r,A,t,n,!1);l=u[0],c=u[1],s=o*(i=yr(l-t,(c-n)/o))}}return Array.isArray(e.size)&&(i=Wn(e.size[0],r),s=2===e.size.length?Wn(e.size[1],A):i),[i,s]},vr=function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,A){if(0===A){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=er(t));if(Zn(i))return void(n=(Jn.parse(e,i)+tr(270))%tr(360))}var s=gr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},Er="closest-side",Ir="farthest-side",br="closest-corner",Sr="farthest-corner",Tr="circle",_r="ellipse",Fr="cover",Nr="contain",Ur=function(e,t){var n=0,r=3,A=[],i=[];return Ln(t).forEach((function(t,s){var o=!0;if(0===s?o=t.reduce((function(e,t){if(Qn(t))switch(t.value){case"center":return i.push(Kn),!1;case"top":case"left":return i.push(Vn),!1;case"right":case"bottom":return i.push(Gn),!1}else if(Hn(t)||Pn(t))return i.push(t),!1;return e}),o):1===s&&(o=t.reduce((function(e,t){if(Qn(t))switch(t.value){case Tr:return n=0,!1;case _r:return n=1,!1;case Nr:case Er:return r=0,!1;case Ir:return r=1,!1;case br:return r=2,!1;case Fr:case Sr:return r=3,!1}else if(Pn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)),o){var a=gr(e,t);A.push(a)}})),{size:r,shape:n,stops:A,position:i,type:2}},Dr=function(e){return 1===e.type},Qr=function(e){return 2===e.type},xr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Or[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Rr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Or[e.name])}var Mr,Or={"linear-gradient":function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,A){if(0===A){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=er(t));if(Zn(i))return void(n=Jn.parse(e,i))}var s=gr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":vr,"-ms-linear-gradient":vr,"-o-linear-gradient":vr,"-webkit-linear-gradient":vr,"radial-gradient":function(e,t){var n=0,r=3,A=[],i=[];return Ln(t).forEach((function(t,s){var o=!0;if(0===s){var a=!1;o=t.reduce((function(e,t){if(a)if(Qn(t))switch(t.value){case"center":return i.push(Kn),e;case"top":case"left":return i.push(Vn),e;case"right":case"bottom":return i.push(Gn),e}else(Hn(t)||Pn(t))&&i.push(t);else if(Qn(t))switch(t.value){case Tr:return n=0,!1;case _r:return n=1,!1;case"at":return a=!0,!1;case Er:return r=0,!1;case Fr:case Ir:return r=1,!1;case Nr:case br:return r=2,!1;case Sr:return r=3,!1}else if(Pn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)}if(o){var l=gr(e,t);A.push(l)}})),{size:r,shape:n,stops:A,position:i,type:2}},"-moz-radial-gradient":Ur,"-ms-radial-gradient":Ur,"-o-radial-gradient":Ur,"-webkit-radial-gradient":Ur,"-webkit-gradient":function(e,t){var n=tr(180),r=[],A=1,i=0,s=3,o=[];return Ln(t).forEach((function(t,n){var i=t[0];if(0===n){if(Qn(i)&&"linear"===i.value)return void(A=1);if(Qn(i)&&"radial"===i.value)return void(A=2)}if(18===i.type)if("from"===i.name){var s=nr.parse(e,i.values[0]);r.push({stop:Vn,color:s})}else if("to"===i.name)s=nr.parse(e,i.values[0]),r.push({stop:Gn,color:s});else if("color-stop"===i.name){var o=i.values.filter(On);if(2===o.length){s=nr.parse(e,o[1]);var a=o[0];Dn(a)&&r.push({stop:{type:16,number:100*a.number,flags:a.flags},color:s})}}})),1===A?{angle:(n+tr(180))%tr(360),stops:r,type:A}:{size:s,shape:i,stops:r,position:o,type:A}}},Lr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return On(e)&&Rr(e)})).map((function(t){return xr.parse(e,t)}))}},kr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Pr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Hn)})).map(jn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Qn).map((function(e){return e.value})).join(" ")})).map(jr)}},jr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Mr||(Mr={}));var Vr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Gr)}))}},Gr=function(e){return Qn(e)||Hn(e)},zr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=zr("top"),Xr=zr("right"),Yr=zr("bottom"),qr=zr("left"),$r=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Hn))}}},Jr=$r("top-left"),Zr=$r("top-right"),eA=$r("bottom-right"),tA=$r("bottom-left"),nA=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rA=nA("top"),AA=nA("right"),iA=nA("bottom"),sA=nA("left"),oA=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:0}}},aA=oA("top"),lA=oA("right"),cA=oA("bottom"),uA=oA("left"),hA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).reduce((function(e,t){return e|gA(t.value)}),0)}},gA=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Vr||(Vr={}));var wA,yA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Vr.STRICT:Vr.NORMAL}},CA={name:"line-height",initialValue:"normal",prefix:!1,type:4},BA=function(e,t){return Qn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Wn(e,t):t},vA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:xr.parse(e,t)}},EA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},IA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},bA=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},SA=bA("top"),TA=bA("right"),_A=bA("bottom"),FA=bA("left"),NA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},UA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},DA=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},QA=DA("top"),xA=DA("right"),RA=DA("bottom"),MA=DA("left"),OA={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},LA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:hr.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},r=0,A=0;A<t.length;A++){var i=t[A];Pn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=nr.parse(e,i)}return n}))}},PA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},HA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=jA[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},jA={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var A=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,A,i,s,o]:null}},VA={type:16,number:50,flags:Ge},KA=[VA,VA],GA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?KA:[n[0],n[1]]}},zA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(wA||(wA={}));for(var WA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wA.BREAK_ALL;case"keep-all":return wA.KEEP_ALL;default:return wA.NORMAL}}},XA={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Dn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},YA={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},qA={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:1}},$A={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JA={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},ZA={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ei={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ti={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:Qn(t)&&"bold"===t.value?700:400}},ni={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Qn).map((function(e){return e.value}))}},ri={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Ai=function(e,t){return 0!==(e&t)},ii={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},si={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],A=t.filter(Mn),i=0;i<A.length;i++){var s=A[i],o=A[i+1];if(20===s.type){var a=o&&Dn(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},oi={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Mn),A=0;A<r.length;A++){var i=r[A],s=r[A+1];if(Qn(i)&&"none"!==i.value){var o=s&&Dn(s)?s.number:0;n.push({counter:i.value,reset:o})}}return n}},ai={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map((function(t){return YA.parse(e,t)}))}},li={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],A=t.filter(xn);if(A.length%2!==0)return null;for(var i=0;i<A.length;i+=2){var s=A[i].value,o=A[i+1].value;r.push({open:s,close:o})}return r}},ci=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ui={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},r=0,A=0;A<t.length;A++){var i=t[A];Rn(i,"inset")?n.inset=!0:Pn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=nr.parse(e,i)}return n}))}},hi={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Qn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},di={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:0}},gi=function(){function e(e,t){var n,r;this.animationDuration=wi(e,ai,t.animationDuration),this.backgroundClip=wi(e,dr,t.backgroundClip),this.backgroundColor=wi(e,fr,t.backgroundColor),this.backgroundImage=wi(e,Lr,t.backgroundImage),this.backgroundOrigin=wi(e,kr,t.backgroundOrigin),this.backgroundPosition=wi(e,Pr,t.backgroundPosition),this.backgroundRepeat=wi(e,Hr,t.backgroundRepeat),this.backgroundSize=wi(e,Kr,t.backgroundSize),this.borderTopColor=wi(e,Wr,t.borderTopColor),this.borderRightColor=wi(e,Xr,t.borderRightColor),this.borderBottomColor=wi(e,Yr,t.borderBottomColor),this.borderLeftColor=wi(e,qr,t.borderLeftColor),this.borderTopLeftRadius=wi(e,Jr,t.borderTopLeftRadius),this.borderTopRightRadius=wi(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=wi(e,eA,t.borderBottomRightRadius),this.borderBottomLeftRadius=wi(e,tA,t.borderBottomLeftRadius),this.borderTopStyle=wi(e,rA,t.borderTopStyle),this.borderRightStyle=wi(e,AA,t.borderRightStyle),this.borderBottomStyle=wi(e,iA,t.borderBottomStyle),this.borderLeftStyle=wi(e,sA,t.borderLeftStyle),this.borderTopWidth=wi(e,aA,t.borderTopWidth),this.borderRightWidth=wi(e,lA,t.borderRightWidth),this.borderBottomWidth=wi(e,cA,t.borderBottomWidth),this.borderLeftWidth=wi(e,uA,t.borderLeftWidth),this.boxShadow=wi(e,ui,t.boxShadow),this.color=wi(e,hA,t.color),this.direction=wi(e,dA,t.direction),this.display=wi(e,fA,t.display),this.float=wi(e,pA,t.cssFloat),this.fontFamily=wi(e,ZA,t.fontFamily),this.fontSize=wi(e,ei,t.fontSize),this.fontStyle=wi(e,ri,t.fontStyle),this.fontVariant=wi(e,ni,t.fontVariant),this.fontWeight=wi(e,ti,t.fontWeight),this.letterSpacing=wi(e,mA,t.letterSpacing),this.lineBreak=wi(e,yA,t.lineBreak),this.lineHeight=wi(e,CA,t.lineHeight),this.listStyleImage=wi(e,vA,t.listStyleImage),this.listStylePosition=wi(e,EA,t.listStylePosition),this.listStyleType=wi(e,IA,t.listStyleType),this.marginTop=wi(e,SA,t.marginTop),this.marginRight=wi(e,TA,t.marginRight),this.marginBottom=wi(e,_A,t.marginBottom),this.marginLeft=wi(e,FA,t.marginLeft),this.opacity=wi(e,qA,t.opacity);var A=wi(e,NA,t.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=wi(e,UA,t.overflowWrap),this.paddingTop=wi(e,QA,t.paddingTop),this.paddingRight=wi(e,xA,t.paddingRight),this.paddingBottom=wi(e,RA,t.paddingBottom),this.paddingLeft=wi(e,MA,t.paddingLeft),this.paintOrder=wi(e,hi,t.paintOrder),this.position=wi(e,LA,t.position),this.textAlign=wi(e,OA,t.textAlign),this.textDecorationColor=wi(e,$A,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=wi(e,JA,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=wi(e,kA,t.textShadow),this.textTransform=wi(e,PA,t.textTransform),this.transform=wi(e,HA,t.transform),this.transformOrigin=wi(e,GA,t.transformOrigin),this.visibility=wi(e,zA,t.visibility),this.webkitTextStrokeColor=wi(e,di,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=wi(e,fi,t.webkitTextStrokeWidth),this.wordBreak=wi(e,WA,t.wordBreak),this.zIndex=wi(e,XA,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},e}(),pi=function(){function e(e,t){this.content=wi(e,ii,t.content),this.quotes=wi(e,li,t.quotes)}return e}(),mi=function(){function e(e,t){this.counterIncrement=wi(e,si,t.counterIncrement),this.counterReset=wi(e,oi,t.counterReset)}return e}(),wi=function(e,t,n){var r=new Fn,A=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(A);var i=new Nn(r.read());switch(t.type){case 2:var s=i.parseComponentValue();return t.parse(e,Qn(s)?s.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Jn.parse(e,i.parseComponentValue());case"color":return nr.parse(e,i.parseComponentValue());case"image":return xr.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Pn(o)?o:Vn;case"length-percentage":var a=i.parseComponentValue();return Hn(a)?a:Vn;case"time":return YA.parse(e,i.parseComponentValue())}}},yi="data-html2canvas-debug",Ci=function(e){switch(e.getAttribute(yi)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Bi=function(e,t){var n=Ci(e);return 1===n||t===n},vi=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Bi(t,3),this.styles=new gi(e,window.getComputedStyle(t,null)),lo(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),Bi(t,4)&&(this.flags|=16)}return e}(),Ei="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Si=0;Si<Ii.length;Si++)bi[Ii.charCodeAt(Si)]=Si;for(var Ti=function(e){var t,n,r,A,i,s=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=bi[e.charCodeAt(t)],r=bi[e.charCodeAt(t+1)],A=bi[e.charCodeAt(t+2)],i=bi[e.charCodeAt(t+3)],c[a++]=n<<2|r>>4,c[a++]=(15&r)<<4|A>>2,c[a++]=(3&A)<<6|63&i;return l},_i=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fi=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ni=5,Ui=11,Di=2,Qi=65536>>Ni,xi=(1<<Ni)-1,Ri=Qi+(1024>>Ni)+32,Mi=65536>>Ui,Oi=(1<<Ui-Ni)-1,Li=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ki=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Pi=function(e,t){var n=Ti(e),r=Array.isArray(n)?Fi(n):new Uint32Array(n),A=Array.isArray(n)?_i(n):new Uint16Array(n),i=24,s=Li(A,i/2,r[4]/2),o=2===r[5]?Li(A,(i+r[4])/2):ki(r,Math.ceil((i+r[4])/4));return new Hi(r[0],r[1],r[2],r[3],s,o)},Hi=function(){function e(e,t,n,r,A,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=A,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ni])<<Di)+(e&xi),this.data[t];if(e<=65535)return t=((t=this.index[Qi+(e-55296>>Ni)])<<Di)+(e&xi),this.data[t];if(e<this.highStart)return t=Ri-Mi+(e>>Ui),t=this.index[t],t+=e>>Ni&Oi,t=((t=this.index[t])<<Di)+(e&xi),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ki=0;Ki<ji.length;Ki++)Vi[ji.charCodeAt(Ki)]=Ki;var Gi,zi=1,Wi=2,Xi=3,Yi=4,qi=5,$i=7,Ji=8,Zi=9,es=10,ts=11,ns=12,rs=13,As=14,is=15,ss=function(e){for(var t=[],n=0,r=e.length;n<r;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&A)<<10)+(1023&i)+65536):(t.push(A),n--)}else t.push(A)}return t},os=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],A=-1,i="";++A<n;){var s=e[A];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(A+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},as=Pi(Ei),ls="\xd7",cs="\xf7",us=function(e){return as.get(e)},hs=function(e,t,n){var r=n-2,A=t[r],i=t[n-1],s=t[n];if(i===Wi&&s===Xi)return ls;if(i===Wi||i===Xi||i===Yi)return cs;if(s===Wi||s===Xi||s===Yi)return cs;if(i===Ji&&-1!==[Ji,Zi,ts,ns].indexOf(s))return ls;if((i===ts||i===Zi)&&(s===Zi||s===es))return ls;if((i===ns||i===es)&&s===es)return ls;if(s===rs||s===qi)return ls;if(s===$i)return ls;if(i===zi)return ls;if(i===rs&&s===As){for(;A===qi;)A=t[--r];if(A===As)return ls}if(i===is&&s===is){for(var o=0;A===is;)o++,A=t[--r];if(o%2===0)return ls}return cs},ds=function(e){var t=ss(e),n=t.length,r=0,A=0,i=t.map(us);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=ls;r<n&&(e=hs(t,i,++r))===ls;);if(e!==ls||r===n){var s=os.apply(null,t.slice(A,r));return A=r,{value:s,done:!1}}return{done:!0,value:null}}}},fs=function(e){for(var t,n=ds(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},gs=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var A=n.getBoundingClientRect(),i=Math.round(A.height);if(e.body.removeChild(r),i===t)return!0}}return!1},ps=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,A=l(r.data).map((function(e){return c(e)})),i=0,s={},o=A.every((function(e,t){n.setStart(r,i),n.setEnd(r,i+e.length);var A=n.getBoundingClientRect();i+=e.length;var o=A.x>s.x||A.y>s.y;return s=A,0===t||o}));return e.body.removeChild(t),o},ms=function(){return"undefined"!==typeof(new Image).crossOrigin},ws=function(){return"string"===typeof(new XMLHttpRequest).responseType},ys=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ot){return!1}return!0},Cs=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Bs=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var A=new Image,i=t.toDataURL();A.src=i;var s=vs(n,n,0,0,A);return r.fillStyle="red",r.fillRect(0,0,n,n),Es(s).then((function(t){r.drawImage(t,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var s=e.createElement("div");return s.style.backgroundImage="url("+i+")",s.style.height=n+"px",Cs(A)?Es(vs(n,n,0,0,s)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),Cs(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},vs=function(e,t,n,r,A){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(A),s},Es=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Is={get SUPPORT_RANGE_BOUNDS(){var e=gs(document);return Object.defineProperty(Is,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Is.SUPPORT_RANGE_BOUNDS&&ps(document);return Object.defineProperty(Is,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ys(document);return Object.defineProperty(Is,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Bs(document):Promise.resolve(!1);return Object.defineProperty(Is,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=ms();return Object.defineProperty(Is,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=ws();return Object.defineProperty(Is,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Is,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Is,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},bs=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ss=function(e,t,n,r){var A=Us(t,n),i=[],o=0;return A.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Is.SUPPORT_RANGE_BOUNDS){var A=_s(r,o,t.length).getClientRects();if(A.length>1){var a=Fs(t),l=0;a.forEach((function(t){i.push(new bs(t,s.fromDOMRectList(e,_s(r,l+o,t.length).getClientRects()))),l+=t.length}))}else i.push(new bs(t,s.fromDOMRectList(e,A)))}else{var c=r.splitText(t.length);i.push(new bs(t,Ts(e,r))),r=c}else Is.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length})),i},Ts=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var A=t.parentNode;if(A){A.replaceChild(r,t);var i=o(e,r);return r.firstChild&&A.replaceChild(r.firstChild,r),i}}return s.EMPTY},_s=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var A=r.createRange();return A.setStart(e,t),A.setEnd(e,t+n),A},Fs=function(e){if(Is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return fs(e)},Ns=function(e,t){if(Is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Qs(e,t)},Us=function(e,t){return 0!==t.letterSpacing?Fs(e):Ns(e,t)},Ds=[32,160,4961,65792,65793,4153,4241],Qs=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),A=[],i=function(){if(n.value){var e=n.value.slice(),t=l(e),r="";t.forEach((function(e){-1===Ds.indexOf(e)?r+=c(e):(r.length&&A.push(r),A.push(c(e)),r="")})),r.length&&A.push(r)}};!(n=r.next()).done;)i();return A},xs=function(){function e(e,t,n){this.text=Rs(t.data,n.textTransform),this.textBounds=Ss(e,this.text,n,t)}return e}(),Rs=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Ms,Os);case 2:return e.toUpperCase();default:return e}},Ms=/(^|\s|:|-|\(|\))([a-z])/g,Os=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Ls=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(vi),ks=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(vi),Ps=function(e){function n(t,n){var r=e.call(this,t,n)||this,A=new XMLSerializer,i=o(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(vi),Hs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(vi),js=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(vi),Vs=[{type:15,flags:0,unit:"px",number:3}],Ks=[{type:16,flags:0,number:50}],Gs=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},zs=function(e){var t=e.type===Ys?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Ws="checkbox",Xs="radio",Ys="password",qs=707406591,$s=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=zs(n),r.type!==Ws&&r.type!==Xs||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Gs(r.bounds)),r.type){case Ws:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vs;break;case Xs:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ks}return r}return t(n,e),n}(vi),Js=function(e){function n(t,n){var r=e.call(this,t,n)||this,A=n.options[n.selectedIndex||0];return r.value=A&&A.text||"",r}return t(n,e),n}(vi),Zs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(vi),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=Ao(t,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,i=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(A)?rr(i)?r.styles.backgroundColor:i:A}}catch(Ot){}return r}return t(n,e),n}(vi),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var A=t.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,oo(A)&&A.data.trim().length>0)n.textNodes.push(new xs(e,A,n.styles));else if(ao(A))if(So(A)&&A.assignedNodes)A.assignedNodes().forEach((function(t){return no(e,t,n,r)}));else{var s=ro(e,A);s.styles.isVisible()&&(io(A,s,r)?s.flags|=4:so(s.styles)&&(s.flags|=2),-1!==to.indexOf(A.tagName)&&(s.flags|=8),n.elements.push(s),A.slot,A.shadowRoot?no(e,A.shadowRoot,s,r):Io(A)||po(A)||bo(A)||no(e,A,s,r))}},ro=function(e,t){return Co(t)?new Ls(e,t):wo(t)?new ks(e,t):po(t)?new Ps(e,t):uo(t)?new Hs(e,t):ho(t)?new js(e,t):fo(t)?new $s(e,t):bo(t)?new Js(e,t):Io(t)?new Zs(e,t):Bo(t)?new eo(e,t):new vi(e,t)},Ao=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},io=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mo(e)&&n.styles.isTransparent()},so=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},ao=function(e){return e.nodeType===Node.ELEMENT_NODE},lo=function(e){return ao(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},go=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},mo=function(e){return"BODY"===e.tagName},wo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},Co=function(e){return"IMG"===e.tagName},Bo=function(e){return"IFRAME"===e.tagName},vo=function(e){return"STYLE"===e.tagName},Eo=function(e){return"SCRIPT"===e.tagName},Io=function(e){return"TEXTAREA"===e.tagName},bo=function(e){return"SELECT"===e.tagName},So=function(e){return"SLOT"===e.tagName},To=function(e){return e.tagName.indexOf("-")>0},_o=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,A=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(A=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var i=[];return A&&r.forEach((function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),i},e}(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},No={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Uo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Do={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Qo=function(e,t,n,r,A,i){return e<t||e>n?zo(e,A,i.length>0):r.integers.reduce((function(t,n,A){for(;e>=n;)e-=n,t+=r.values[A];return t}),"")+i},xo=function(e,t,n,r){var A="";do{n||e--,A=r(e)+A,e/=t}while(e*t>=t);return A},Ro=function(e,t,n,r,A){var i=n-t+1;return(e<0?"-":"")+(xo(Math.abs(e),i,r,(function(e){return c(Math.floor(e%i)+t)}))+A)},Mo=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return xo(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Oo=1,Lo=2,ko=4,Po=8,Ho=function(e,t,n,r,A,i){if(e<-9999||e>9999)return zo(e,4,A.length>0);var s=Math.abs(e),o=A;if(0===s)return t[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;0===l&&Ai(i,Oo)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&Ai(i,Lo)||1===l&&1===a&&Ai(i,ko)&&e>100||1===l&&a>1&&Ai(i,Po)?o=t[l]+(a>0?n[a-1]:"")+o:1===l&&a>0&&(o=n[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},jo="\u5341\u767e\u5343\u842c",Vo="\u62fe\u4f70\u4edf\u842c",Ko="\u30de\u30a4\u30ca\u30b9",Go="\ub9c8\uc774\ub108\uc2a4",zo=function(e,t,n){var r=n?". ":"",A=n?"\u3001":"",i=n?", ":"",s=n?" ":"";switch(t){case 0:return"\u2022"+s;case 1:return"\u25e6"+s;case 2:return"\u25fe"+s;case 5:var o=Ro(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Mo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",A);case 6:return Qo(e,1,3999,Fo,3,r).toLowerCase();case 7:return Qo(e,1,3999,Fo,3,r);case 8:return Ro(e,945,969,!1,r);case 9:return Ro(e,97,122,!1,r);case 10:return Ro(e,65,90,!1,r);case 11:return Ro(e,1632,1641,!0,r);case 12:case 49:return Qo(e,1,9999,No,3,r);case 35:return Qo(e,1,9999,No,3,r).toLowerCase();case 13:return Ro(e,2534,2543,!0,r);case 14:case 30:return Ro(e,6112,6121,!0,r);case 15:return Mo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",A);case 16:return Mo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",A);case 17:case 48:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8ca0",A,Lo|ko|Po);case 47:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Vo,"\u8ca0",A,Oo|Lo|ko|Po);case 42:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8d1f",A,Lo|ko|Po);case 41:return Ho(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Vo,"\u8d1f",A,Oo|Lo|ko|Po);case 26:return Ho(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ko,A,0);case 25:return Ho(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ko,A,Oo|Lo|ko);case 31:return Ho(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Go,i,Oo|Lo|ko);case 33:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Go,i,0);case 32:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Go,i,Oo|Lo|ko);case 18:return Ro(e,2406,2415,!0,r);case 20:return Qo(e,1,19999,Do,3,r);case 21:return Ro(e,2790,2799,!0,r);case 22:return Ro(e,2662,2671,!0,r);case 22:return Qo(e,1,10999,Uo,3,r);case 23:return Mo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Mo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ro(e,3302,3311,!0,r);case 28:return Mo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",A);case 29:return Mo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",A);case 34:return Ro(e,3792,3801,!0,r);case 37:return Ro(e,6160,6169,!0,r);case 38:return Ro(e,4160,4169,!0,r);case 39:return Ro(e,2918,2927,!0,r);case 40:return Ro(e,1776,1785,!0,r);case 43:return Ro(e,3046,3055,!0,r);case 44:return Ro(e,3174,3183,!0,r);case 45:return Ro(e,3664,3673,!0,r);case 46:return Ro(e,3872,3881,!0,r);default:return Ro(e,48,57,!0,r)}},Wo="data-html2canvas-ignore",Xo=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new _o,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=qo(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,c=Zo(i).then((function(){return r(n,void 0,void 0,(function(){var e,n;return A(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(Aa),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jo(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return i}))]:[2,i]}}))}))}));return l.open(),l.write(na(document.doctype)+"<html></html>"),ra(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(Bi(e,2),wo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(vo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Co(t)&&(Co(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),To(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return ta(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ot){if(this.context.logger.error("Unable to access cssRules property",Ot),"SecurityError"!==Ot.name)throw Ot}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ot){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var A=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&A)i.putImageData(A.getImageData(0,0,e.width,e.height),0,0);else{var s=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(s){var o=s.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch(Ot){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ot){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ao(t)&&(Eo(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ao(t)&&vo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,A=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;A;A=A.nextSibling)if(ao(A)&&So(A)&&"function"===typeof A.assignedNodes){var i=A.assignedNodes();i.length&&i.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,A,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ao(e)&&(lo(e)||co(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var A=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&lo(r)&&(this.clonedReferenceElement=r),mo(r)&&ca(r);var o=this.counters.parse(new mi(this.context,A)),a=this.resolvePseudoContent(e,r,i,Gi.BEFORE);To(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,r,t),a&&r.insertBefore(a,r.firstChild);var l=this.resolvePseudoContent(e,r,s,Gi.AFTER);return l&&r.appendChild(l),this.counters.pop(o),(A&&(this.options.copyStyles||co(e))&&!Bo(e)||t)&&ta(A,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Io(e)||bo(e))&&(Io(r)||bo(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var A=this;if(n){var i=n.content,s=t.ownerDocument;if(s&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new mi(this.context,n));var o=new pi(this.context,n),a=s.createElement("html2canvaspseudoelement");ta(n,a),o.content.forEach((function(t){if(0===t.type)a.appendChild(s.createTextNode(t.value));else if(22===t.type){var n=s.createElement("img");n.src=t.value,n.style.opacity="1",a.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Qn);r.length&&a.appendChild(s.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(On),l=i[0],c=i[1];if(l&&Qn(l)){var u=A.counters.getCounterValue(l.value),h=c&&Qn(c)?IA.parse(A.context,c.value):3;a.appendChild(s.createTextNode(zo(u,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(On),f=(l=d[0],d[1]);if(c=d[2],l&&Qn(l)){var g=A.counters.getCounterValues(l.value),p=c&&Qn(c)?IA.parse(A.context,c.value):3,m=f&&0===f.type?f.value:"",w=g.map((function(e){return zo(e,p,!1)})).join(m);a.appendChild(s.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(s.createTextNode(ci(o.quotes,A.quoteDepth++,!0)));break;case"close-quote":a.appendChild(s.createTextNode(ci(o.quotes,--A.quoteDepth,!1)));break;default:a.appendChild(s.createTextNode(t.value))}})),a.className=oa+" "+aa;var l=r===Gi.BEFORE?" "+oa:" "+aa;return co(t)?t.className.baseValue+=l:t.className+=l,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Gi||(Gi={}));var Yo,qo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},$o=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Jo=function(e){return Promise.all([].slice.call(e.images,0).map($o))},Zo=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var A=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){A.body.childNodes.length>0&&"complete"===A.readyState&&(clearInterval(n),t(e))}),50)}}))},ea=["all","d","content"],ta=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===ea.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},na=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},ra=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Aa=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},ia=":before",sa=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",la='{\n    content: "" !important;\n    display: none !important;\n}',ca=function(e){ua(e,"."+oa+ia+la+"\n         ."+aa+sa+la)},ua=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},ha=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),da=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ca(e)||ma(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s=this;return A(this,(function(A){switch(A.label){case 0:return t=ha.isSameOrigin(e),n=!wa(e)&&!0===this._options.useCORS&&Is.SUPPORT_CORS_IMAGES&&!t,r=!wa(e)&&!t&&!Ca(e)&&"string"===typeof this._options.proxy&&Is.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||wa(e)||Ca(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(ya(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return e(r)}),500),s._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,A.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(A,i){var s=Is.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===s)A(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return A(e.result)}),!1),e.addEventListener("error",(function(e){return i(e)}),!1),e.readAsDataURL(o.response)}else i("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=i;var a=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+a+"url="+encodeURIComponent(e)+"&responseType="+s),"text"!==s&&o instanceof XMLHttpRequest&&(o.responseType=s),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return i("Timed out ("+l+"ms) proxying "+r)}}o.send()}))},e}(),fa=/^data:image\/svg\+xml/i,ga=/^data:image\/.*;base64,/i,pa=/^data:image\/.*/i,ma=function(e){return Is.SUPPORT_SVG_DRAWING||!Ba(e)},wa=function(e){return pa.test(e)},ya=function(e){return ga.test(e)},Ca=function(e){return"blob"===e.substr(0,4)},Ba=function(e){return"svg"===e.substr(-3).toLowerCase()||fa.test(e)},va=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ea=function(e,t,n){return new va(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ia=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Ea(this.start,this.startControl,t),A=Ea(this.startControl,this.endControl,t),i=Ea(this.endControl,this.end,t),s=Ea(r,A,t),o=Ea(A,i,t),a=Ea(s,o,t);return n?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ba=function(e){return 1===e.type},Sa=function(){function e(e){var t=e.styles,n=e.bounds,r=zn(t.borderTopLeftRadius,n.width,n.height),A=r[0],i=r[1],s=zn(t.borderTopRightRadius,n.width,n.height),o=s[0],a=s[1],l=zn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],h=zn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],f=h[1],g=[];g.push((A+o)/n.width),g.push((d+c)/n.width),g.push((i+f)/n.height),g.push((a+u)/n.height);var p=Math.max.apply(Math,g);p>1&&(A/=p,i/=p,o/=p,a/=p,c/=p,u/=p,d/=p,f/=p);var m=n.width-o,w=n.height-u,y=n.width-c,C=n.height-f,B=t.borderTopWidth,v=t.borderRightWidth,E=t.borderBottomWidth,I=t.borderLeftWidth,b=Wn(t.paddingTop,e.bounds.width),S=Wn(t.paddingRight,e.bounds.width),T=Wn(t.paddingBottom,e.bounds.width),_=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||i>0?Ta(n.left+I/3,n.top+B/3,A-I/3,i-B/3,Yo.TOP_LEFT):new va(n.left+I/3,n.top+B/3),this.topRightBorderDoubleOuterBox=A>0||i>0?Ta(n.left+m,n.top+B/3,o-v/3,a-B/3,Yo.TOP_RIGHT):new va(n.left+n.width-v/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Ta(n.left+y,n.top+w,c-v/3,u-E/3,Yo.BOTTOM_RIGHT):new va(n.left+n.width-v/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=d>0||f>0?Ta(n.left+I/3,n.top+C,d-I/3,f-E/3,Yo.BOTTOM_LEFT):new va(n.left+I/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=A>0||i>0?Ta(n.left+2*I/3,n.top+2*B/3,A-2*I/3,i-2*B/3,Yo.TOP_LEFT):new va(n.left+2*I/3,n.top+2*B/3),this.topRightBorderDoubleInnerBox=A>0||i>0?Ta(n.left+m,n.top+2*B/3,o-2*v/3,a-2*B/3,Yo.TOP_RIGHT):new va(n.left+n.width-2*v/3,n.top+2*B/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Ta(n.left+y,n.top+w,c-2*v/3,u-2*E/3,Yo.BOTTOM_RIGHT):new va(n.left+n.width-2*v/3,n.top+n.height-2*E/3),this.bottomLeftBorderDoubleInnerBox=d>0||f>0?Ta(n.left+2*I/3,n.top+C,d-2*I/3,f-2*E/3,Yo.BOTTOM_LEFT):new va(n.left+2*I/3,n.top+n.height-2*E/3),this.topLeftBorderStroke=A>0||i>0?Ta(n.left+I/2,n.top+B/2,A-I/2,i-B/2,Yo.TOP_LEFT):new va(n.left+I/2,n.top+B/2),this.topRightBorderStroke=A>0||i>0?Ta(n.left+m,n.top+B/2,o-v/2,a-B/2,Yo.TOP_RIGHT):new va(n.left+n.width-v/2,n.top+B/2),this.bottomRightBorderStroke=c>0||u>0?Ta(n.left+y,n.top+w,c-v/2,u-E/2,Yo.BOTTOM_RIGHT):new va(n.left+n.width-v/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=d>0||f>0?Ta(n.left+I/2,n.top+C,d-I/2,f-E/2,Yo.BOTTOM_LEFT):new va(n.left+I/2,n.top+n.height-E/2),this.topLeftBorderBox=A>0||i>0?Ta(n.left,n.top,A,i,Yo.TOP_LEFT):new va(n.left,n.top),this.topRightBorderBox=o>0||a>0?Ta(n.left+m,n.top,o,a,Yo.TOP_RIGHT):new va(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Ta(n.left+y,n.top+w,c,u,Yo.BOTTOM_RIGHT):new va(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||f>0?Ta(n.left,n.top+C,d,f,Yo.BOTTOM_LEFT):new va(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||i>0?Ta(n.left+I,n.top+B,Math.max(0,A-I),Math.max(0,i-B),Yo.TOP_LEFT):new va(n.left+I,n.top+B),this.topRightPaddingBox=o>0||a>0?Ta(n.left+Math.min(m,n.width-v),n.top+B,m>n.width+v?0:Math.max(0,o-v),Math.max(0,a-B),Yo.TOP_RIGHT):new va(n.left+n.width-v,n.top+B),this.bottomRightPaddingBox=c>0||u>0?Ta(n.left+Math.min(y,n.width-I),n.top+Math.min(w,n.height-E),Math.max(0,c-v),Math.max(0,u-E),Yo.BOTTOM_RIGHT):new va(n.left+n.width-v,n.top+n.height-E),this.bottomLeftPaddingBox=d>0||f>0?Ta(n.left+I,n.top+Math.min(C,n.height-E),Math.max(0,d-I),Math.max(0,f-E),Yo.BOTTOM_LEFT):new va(n.left+I,n.top+n.height-E),this.topLeftContentBox=A>0||i>0?Ta(n.left+I+_,n.top+B+b,Math.max(0,A-(I+_)),Math.max(0,i-(B+b)),Yo.TOP_LEFT):new va(n.left+I+_,n.top+B+b),this.topRightContentBox=o>0||a>0?Ta(n.left+Math.min(m,n.width+I+_),n.top+B+b,m>n.width+I+_?0:o-I+_,a-(B+b),Yo.TOP_RIGHT):new va(n.left+n.width-(v+S),n.top+B+b),this.bottomRightContentBox=c>0||u>0?Ta(n.left+Math.min(y,n.width-(I+_)),n.top+Math.min(w,n.height+B+b),Math.max(0,c-(v+S)),u-(E+T),Yo.BOTTOM_RIGHT):new va(n.left+n.width-(v+S),n.top+n.height-(E+T)),this.bottomLeftContentBox=d>0||f>0?Ta(n.left+I+_,n.top+C,Math.max(0,d-(I+_)),f-(E+T),Yo.BOTTOM_LEFT):new va(n.left+I+_,n.top+n.height-(E+T))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Yo||(Yo={}));var Ta=function(e,t,n,r,A){var i=(Math.sqrt(2)-1)/3*4,s=n*i,o=r*i,a=e+n,l=t+r;switch(A){case Yo.TOP_LEFT:return new Ia(new va(e,l),new va(e,l-o),new va(a-s,t),new va(a,t));case Yo.TOP_RIGHT:return new Ia(new va(e,t),new va(e+s,t),new va(a,l-o),new va(a,l));case Yo.BOTTOM_RIGHT:return new Ia(new va(a,t),new va(a,t+o),new va(e+s,l),new va(e,l));case Yo.BOTTOM_LEFT:default:return new Ia(new va(a,l),new va(a-s,l),new va(e,t+o),new va(e,t))}},_a=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fa=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Na=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ua=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Da=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Qa=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),xa=function(e){return 0===e.type},Ra=function(e){return 1===e.type},Ma=function(e){return 2===e.type},Oa=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},La=function(e,t,n,r,A){return e.map((function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+A);case 3:return e.add(t,n+A)}return e}))},ka=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Pa=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Sa(this.container),this.container.styles.opacity<1&&this.effects.push(new Qa(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new Ua(n,r,A))}if(0!==this.container.styles.overflowX){var i=_a(this.curves),s=Na(this.curves);Oa(i,s)?this.effects.push(new Da(i,6)):(this.effects.push(new Da(i,2)),this.effects.push(new Da(s,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var A=n.effects.filter((function(e){return!Ra(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,A),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=_a(n.curves),s=Na(n.curves);Oa(i,s)||r.unshift(new Da(s,6))}}else r.unshift.apply(r,A);n=n.parent}return r.filter((function(t){return Ai(t.target,e)}))},e}(),Ha=function(e,t,n,r){e.container.elements.forEach((function(A){var i=Ai(A.flags,4),s=Ai(A.flags,2),o=new Pa(A,e);Ai(A.styles.display,2048)&&r.push(o);var a=Ai(A.flags,8)?[]:r;if(i||s){var l=i||A.styles.isPositioned()?n:t,c=new ka(o);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var u=A.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else A.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Ha(o,c,i?c:n,a)}else A.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Ha(o,t,n,a);Ai(A.flags,8)&&ja(A,a)}))},ja=function(e,t){for(var n=e instanceof js?e.start:1,r=e instanceof js&&e.reversed,A=0;A<t.length;A++){var i=t[A];i.container instanceof Hs&&"number"===typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=zo(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Va=function(e){var t=new Pa(e,null),n=new ka(t),r=[];return Ha(t,n,n,r),ja(t.container,r),n},Ka=function(e,t){switch(t){case 0:return Ya(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ya(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ya(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Ya(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ga=function(e,t){switch(t){case 0:return Ya(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ya(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ya(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Ya(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},za=function(e,t){switch(t){case 0:return Ya(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ya(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ya(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Ya(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wa=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Xa(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Xa(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Xa(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Xa=function(e,t){var n=[];return ba(e)?n.push(e.subdivide(.5,!1)):n.push(e),ba(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ya=function(e,t,n,r){var A=[];return ba(e)?A.push(e.subdivide(.5,!1)):A.push(e),ba(n)?A.push(n.subdivide(.5,!0)):A.push(n),ba(r)?A.push(r.subdivide(.5,!0).reverse()):A.push(r),ba(t)?A.push(t.subdivide(.5,!1).reverse()):A.push(t),A},qa=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},$a=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),A=Wn(t.paddingRight,n.width),i=Wn(t.paddingTop,n.width),s=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+A),-(t.borderTopWidth+t.borderBottomWidth+i+s))},Ja=function(e,t){return 0===e?t.bounds:2===e?$a(t):qa(t)},Za=function(e,t){return 0===e?t.bounds:2===e?$a(t):qa(t)},el=function(e,t,n){var r=Ja(Al(e.styles.backgroundOrigin,t),e),A=Za(Al(e.styles.backgroundClip,t),e),i=rl(Al(e.styles.backgroundSize,t),n,r),s=i[0],o=i[1],a=zn(Al(e.styles.backgroundPosition,t),r.width-s,r.height-o);return[il(Al(e.styles.backgroundRepeat,t),a,i,r,A),Math.round(r.left+a[0]),Math.round(r.top+a[1]),s,o]},tl=function(e){return Qn(e)&&e.value===Mr.AUTO},nl=function(e){return"number"===typeof e},rl=function(e,t,n){var r=t[0],A=t[1],i=t[2],s=e[0],o=e[1];if(!s)return[0,0];if(Hn(s)&&o&&Hn(o))return[Wn(s,n.width),Wn(o,n.height)];var a=nl(i);if(Qn(s)&&(s.value===Mr.CONTAIN||s.value===Mr.COVER))return nl(i)?n.width/n.height<i!==(s.value===Mr.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var l=nl(r),c=nl(A),u=l||c;if(tl(s)&&(!o||tl(o)))return l&&c?[r,A]:a||u?u&&a?[l?r:A*i,c?A:r/i]:[l?r:n.width,c?A:n.height]:[n.width,n.height];if(a){var h=0,d=0;return Hn(s)?h=Wn(s,n.width):Hn(o)&&(d=Wn(o,n.height)),tl(s)?h=d*i:o&&!tl(o)||(d=h/i),[h,d]}var f=null,g=null;if(Hn(s)?f=Wn(s,n.width):o&&Hn(o)&&(g=Wn(o,n.height)),null===f||o&&!tl(o)||(g=l&&c?f/r*A:n.height),null!==g&&tl(s)&&(f=l&&c?g/A*r:n.width),null!==f&&null!==g)return[f,g];throw new Error("Unable to calculate background-size for element")},Al=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},il=function(e,t,n,r,A){var i=t[0],s=t[1],o=n[0],a=n[1];switch(e){case 2:return[new va(Math.round(r.left),Math.round(r.top+s)),new va(Math.round(r.left+r.width),Math.round(r.top+s)),new va(Math.round(r.left+r.width),Math.round(a+r.top+s)),new va(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new va(Math.round(r.left+i),Math.round(r.top)),new va(Math.round(r.left+i+o),Math.round(r.top)),new va(Math.round(r.left+i+o),Math.round(r.height+r.top)),new va(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new va(Math.round(r.left+i),Math.round(r.top+s)),new va(Math.round(r.left+i+o),Math.round(r.top+s)),new va(Math.round(r.left+i+o),Math.round(r.top+s+a)),new va(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new va(Math.round(A.left),Math.round(A.top)),new va(Math.round(A.left+A.width),Math.round(A.top)),new va(Math.round(A.left+A.width),Math.round(A.height+A.top)),new va(Math.round(A.left),Math.round(A.height+A.top))]}},sl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ol="Hidden Text",al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=sl,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(ol)),n.appendChild(A),n.appendChild(r);var s=r.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(ol)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:s,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,ul=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new al(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Ma(e)&&(this.ctx.globalAlpha=e.opacity),xa(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ra(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return Ai(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fs(e.text).reduce((function(t,A){return r.ctx.fillText(A,t,e.bounds.top+n),t+r.ctx.measureText(A).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=pl(e.fontFamily).join(", "),r=Un(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,s,o,a,l,c,u=this;return A(this,(function(A){return n=this.createFontStyle(t),r=n[0],i=n[1],s=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(i,s),a=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=Ar(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,a);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=Ar(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,a)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=Ar(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=Ar(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=$a(e),A=Na(t);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,i,o,a,l,c,u,h,d,f,g,p,m,w,y,C,B;return A(this,(function(A){switch(A.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,i=t.styles,o=0,a=t.textNodes,A.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Ls))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=A.sent(),this.renderReplacedElement(t,r,w),[3,8];case 7:return A.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof ks&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ps))return[3,12];A.label=9;case 9:return A.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=A.sent(),this.renderReplacedElement(t,r,w),[3,12];case 11:return A.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=A.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),A.label=14;case 14:if(t instanceof $s&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Ws?t.checked&&(this.ctx.save(),this.path([new va(t.bounds.left+.39363*u,t.bounds.top+.79*u),new va(t.bounds.left+.16*u,t.bounds.top+.5549*u),new va(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new va(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new va(t.bounds.left+.72983*u,t.bounds.top+.23*u),new va(t.bounds.left+.84*u,t.bounds.top+.34085*u),new va(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=Ar(qs),this.ctx.fill(),this.ctx.restore()):t.type===Xs&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ar(qs),this.ctx.fill(),this.ctx.restore())),hl(t)&&t.value.length){switch(h=this.createFontStyle(i),C=h[0],d=h[1],f=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=Ar(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fl(t.styles.textAlign),B=$a(t),g=0,t.styles.textAlign){case 1:g+=B.width/2;break;case 2:g+=B.width}p=B.add(g,0,0,-B.height/2+1),this.ctx.save(),this.path([new va(B.left,B.top),new va(B.left+B.width,B.top),new va(B.left+B.width,B.top+B.height),new va(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new bs(t.value,p),i.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,A.label=15;case 15:return A.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=A.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return A.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=Ar(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new s(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,BA(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new bs(e.listValue,B),i.letterSpacing,BA(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),A.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s,o,a,l,c,u,h,d,f,g,p;return A(this,(function(A){switch(A.label){case 0:return Ai(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:A.sent(),t=0,n=e.negativeZIndex,A.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:A.sent(),A.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:A.sent(),r=0,i=e.nonInlineLevel,A.label=7;case 7:return r<i.length?(p=i[r],[4,this.renderNode(p)]):[3,10];case 8:A.sent(),A.label=9;case 9:return r++,[3,7];case 10:s=0,o=e.nonPositionedFloats,A.label=11;case 11:return s<o.length?(p=o[s],[4,this.renderStack(p)]):[3,14];case 12:A.sent(),A.label=13;case 13:return s++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,A.label=15;case 15:return a<l.length?(p=l[a],[4,this.renderStack(p)]):[3,18];case 16:A.sent(),A.label=17;case 17:return a++,[3,15];case 18:c=0,u=e.inlineLevel,A.label=19;case 19:return c<u.length?(p=u[c],[4,this.renderNode(p)]):[3,22];case 20:A.sent(),A.label=21;case 21:return c++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return h<d.length?(p=d[h],[4,this.renderStack(p)]):[3,26];case 24:A.sent(),A.label=25;case 25:return h++,[3,23];case 26:f=0,g=e.positiveZIndex,A.label=27;case 27:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,30];case 28:A.sent(),A.label=29;case 29:return f++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=ba(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),ba(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var A=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return A.width=Math.max(1,t),A.height=Math.max(1,n),A.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),A},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s,o;return A(this,(function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,s,o,a,l,c,u,h,d,f,g,p,m,w,y,C,B,v,E,I,b,S,T,_,F,N,U,D,Q,x,R;return A(this,(function(A){switch(A.label){case 0:if(0!==n.type)return[3,5];i=void 0,s=n.url,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,r.context.cache.match(s)];case 2:return i=A.sent(),[3,4];case 3:return A.sent(),r.context.logger.error("Error loading background-image "+s),[3,4];case 4:return i&&(o=el(e,t,[i.width,i.height,i.width/i.height]),C=o[0],S=o[1],T=o[2],E=o[3],I=o[4],w=r.ctx.createPattern(r.resizeImage(i,E,I),"repeat"),r.renderRepeat(C,w,S,T)),[3,6];case 5:Dr(n)?(a=el(e,t,[null,null,null]),C=a[0],S=a[1],T=a[2],E=a[3],I=a[4],l=wr(n.angle,E,I),c=l[0],u=l[1],h=l[2],d=l[3],f=l[4],(g=document.createElement("canvas")).width=E,g.height=I,p=g.getContext("2d"),m=p.createLinearGradient(u,d,h,f),pr(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,Ar(e.color))})),p.fillStyle=m,p.fillRect(0,0,E,I),E>0&&I>0&&(w=r.ctx.createPattern(g,"repeat"),r.renderRepeat(C,w,S,T))):Qr(n)&&(y=el(e,t,[null,null,null]),C=y[0],B=y[1],v=y[2],E=y[3],I=y[4],b=0===n.position.length?[Kn]:n.position,S=Wn(b[0],E),T=Wn(b[b.length-1],I),_=Br(n,S,T,E,I),F=_[0],N=_[1],F>0&&N>0&&(U=r.ctx.createRadialGradient(B+S,v+T,0,B+S,v+T,F),pr(n.stops,2*F).forEach((function(e){return U.addColorStop(e.stop,Ar(e.color))})),r.path(C),r.ctx.fillStyle=U,F!==N?(D=e.bounds.left+.5*e.bounds.width,Q=e.bounds.top+.5*e.bounds.height,R=1/(x=N/F),r.ctx.save(),r.ctx.translate(D,Q),r.ctx.transform(1,0,0,x,0,0),r.ctx.translate(-D,-Q),r.ctx.fillRect(B,R*(v-Q)+Q,E,I*R),r.ctx.restore()):r.ctx.fill())),A.label=6;case 6:return t--,[2]}}))},r=this,i=0,s=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<s.length?(o=s[i],[5,n(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return A(this,(function(r){return this.path(Ka(n,t)),this.ctx.fillStyle=Ar(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r,s;return A(this,(function(A){switch(A.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return A.sent(),[2];case 2:return r=Ga(i,n),this.path(r),this.ctx.fillStyle=Ar(e),this.ctx.fill(),s=za(i,n),this.path(s),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s,o,a,l,c=this;return A(this,(function(A){switch(A.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=dl(Al(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=Ar(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=_a(e.curves),r=t.inset?0:cl,A=La(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(A)):(c.mask(n),c.ctx.clip(),c.path(A)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=Ar(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?Ar(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),A.label=2;case 2:s=0,o=0,a=r,A.label=3;case 3:return o<a.length?0!==(l=a[o]).style&&!rr(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,2)]:[3,11]:[3,13];case 4:return A.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,3)];case 6:return A.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,e.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,e.curves)];case 10:A.sent(),A.label=11;case 11:s++,A.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,i,s){return r(this,void 0,void 0,(function(){var r,o,a,l,c,u,h,d,f,g,p,m,w,y,C,B;return A(this,(function(A){return this.ctx.save(),r=Wa(i,n),o=Ka(i,n),2===s&&(this.path(o),this.ctx.clip()),ba(o[0])?(a=o[0].start.x,l=o[0].start.y):(a=o[0].x,l=o[0].y),ba(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),h=0===n||2===n?Math.abs(a-c):Math.abs(l-u),this.ctx.beginPath(),3===s?this.formatPath(r):this.formatPath(o.slice(0,2)),d=t<3?3*t:2*t,f=t<3?2*t:t,3===s&&(d=t,f=t),g=!0,h<=2*d?g=!1:h<=2*d+f?(d*=p=h/(2*d+f),f*=p):(m=Math.floor((h+f)/(d+f)),w=(h-m*d)/(m-1),f=(y=(h-(m+1)*d)/m)<=0||Math.abs(f-w)<Math.abs(f-y)?w:y),g&&(3===s?this.ctx.setLineDash([0,d+f]):this.ctx.setLineDash([d,f])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=Ar(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(ba(o[0])&&(C=o[3],B=o[0],this.ctx.beginPath(),this.formatPath([new va(C.end.x,C.end.y),new va(B.start.x,B.start.y)]),this.ctx.stroke()),ba(o[1])&&(C=o[1],B=o[2],this.ctx.beginPath(),this.formatPath([new va(C.end.x,C.end.y),new va(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return A(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Va(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(ll),hl=function(e){return e instanceof Zs||e instanceof Js||e instanceof $s&&e.type!==Xs&&e.type!==Ws},dl=function(e,t){switch(e){case 0:return _a(t);case 2:return Fa(t);default:return Na(t)}},fl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},gl=["-apple-system","system-ui"],pl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===gl.indexOf(e)})):e},ml=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return A(this,(function(r){switch(r.label){case 0:return t=vs(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,wl(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(ll),wl=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Cl=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new da(this,t)}return e.instanceCount=1,e}(),Bl=function(e,t){return void 0===t&&(t={}),vl(e,t)};"undefined"!==typeof window&&ha.setContext(window);var vl=function(e,t){return r(void 0,void 0,void 0,(function(){var r,i,l,c,u,h,d,f,g,p,m,w,y,C,B,v,E,I,b,S,T,_,F,N,U,D,Q,x,R,M,O,L,k,P,H,j,V,K;return A(this,(function(A){switch(A.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(_=t.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(N=t.useCORS)&&void 0!==N&&N},c=n({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},l),u={windowWidth:null!==(D=t.windowWidth)&&void 0!==D?D:i.innerWidth,windowHeight:null!==(Q=t.windowHeight)&&void 0!==Q?Q:i.innerHeight,scrollX:null!==(x=t.scrollX)&&void 0!==x?x:i.pageXOffset,scrollY:null!==(R=t.scrollY)&&void 0!==R?R:i.pageYOffset},h=new s(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),d=new Cl(c,h),f=null!==(M=t.foreignObjectRendering)&&void 0!==M&&M,g={allowTaint:null!==(O=t.allowTaint)&&void 0!==O&&O,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),p=new Xo(d,e,g),(m=p.clonedReferenceElement)?[4,p.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=A.sent(),y=mo(m)||go(m)?a(m.ownerDocument):o(d,m),C=y.width,B=y.height,v=y.left,E=y.top,I=El(d,m,t.backgroundColor),b={canvas:t.canvas,backgroundColor:I,scale:null!==(k=null!==(L=t.scale)&&void 0!==L?L:i.devicePixelRatio)&&void 0!==k?k:1,x:(null!==(P=t.x)&&void 0!==P?P:0)+v,y:(null!==(H=t.y)&&void 0!==H?H:0)+E,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(C),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(B)},f?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new ml(d,b).render(m)]):[3,3];case 2:return S=A.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+v+","+E+" with size "+C+"x"+B+" using computed rendering"),d.logger.debug("Starting DOM parsing"),T=Ao(d,m),I===T.styles.backgroundColor&&(T.styles.backgroundColor=hr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),[4,new ul(d,b).render(T)];case 4:S=A.sent(),A.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Xo.destroy(w)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,S]}}))}))},El=function(e,t,n){var r=t.ownerDocument,A=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,i=r.body?ur(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,s="string"===typeof n?ur(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(A)?rr(i)?s:i:A:s};return Bl}()},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function w(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var C=y.prototype=new w;C.constructor=y,g(C,m.prototype),C.isPureReactComponent=!0;var B=Array.isArray,v={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function I(e,t,r,A,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function b(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function F(e,t,A,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a,l,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case h:return F((c=e._init)(e._payload),t,A,i,s)}}if(c)return s=s(e),c=""===i?"."+T(e,0):i,B(s)?(A="",null!=c&&(A=c.replace(S,"$&/")+"/"),F(s,t,A,"",(function(e){return e}))):null!=s&&(b(s)&&(a=s,l=A+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+c,s=I(a.type,l,void 0,0,0,a.props)),t.push(s)),1;c=0;var u,f=""===i?".":i+":";if(B(e))for(var g=0;g<e.length;g++)c+=F(i=e[g],t,A,o=f+T(i,g),s);else if("function"===typeof(g=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=d&&u[d]||u["@@iterator"])?u:null))for(e=g.call(e),g=0;!(i=e.next()).done;)c+=F(i=i.value,t,A,o=f+T(i,g++),s);else if("object"===o){if("function"===typeof e.then)return F(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,A,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],A=0;return F(e,r,"","",(function(e){return t.call(n,e,A++)})),r}function U(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Q(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!b(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=A,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),A=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(A=""+t.key),t)!E.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return I(e.type,A,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,A={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(A[r]=t[r]);var s=arguments.length-2;if(1===s)A.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];A.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===A[r]&&(A[r]=s[r]);return I(e,i,void 0,0,0,A)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=b,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:U}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=v.T,n={};v.T=n;try{var r=e(),A=v.S;null!==A&&A(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(Q,D)}catch(i){D(i)}finally{v.T=t}},t.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},t.use=function(e){return v.H.use(e)},t.useActionState=function(e,t,n){return v.H.useActionState(e,t,n)},t.useCallback=function(e,t){return v.H.useCallback(e,t)},t.useContext=function(e){return v.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return v.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return v.H.useEffect(e,t)},t.useId=function(){return v.H.useId()},t.useImperativeHandle=function(e,t,n){return v.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return v.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return v.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return v.H.useMemo(e,t)},t.useOptimistic=function(e,t){return v.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return v.H.useReducer(e,t,n)},t.useRef=function(e){return v.H.useRef(e)},t.useState=function(e){return v.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return v.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return v.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>A});var r=n(776);class A{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[A,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(A)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const A=this.instances.get(n);return A&&e(A,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(A=t,A===i?void 0:A),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var A;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},662:(e,t,n)=>{"use strict";n.d(t,{j:()=>a,db:()=>o});var r=n(232);(0,r.KO)("firebase","12.3.0","app");var A=n(667),i=n(823);const s=(0,r.Wp)({apiKey:"AIzaSyCkEYlreLoQFqrdN8eKASS20a6DaLpJtYE",authDomain:"lista-de-compras-f67aa.firebaseapp.com",projectId:"lista-de-compras-f67aa",storageBucket:"lista-de-compras-f67aa.appspot.com",messagingSenderId:"276613236544",appId:"1:276613236544:web:b5419812728802e013dca5",measurementId:"G-2HFQ3BGVVF"}),o=(0,A.aU)(s),a=(0,i.xI)(s)},667:(e,t,n)=>{"use strict";n.d(t,{addDoc:()=>ul,collection:()=>ea,deleteDoc:()=>cl,doc:()=>ta,x7:()=>il,getDocs:()=>ol,aU:()=>oa,aQ:()=>hl,orderBy:()=>Xa,query:()=>Va,serverTimestamp:()=>gl,setDoc:()=>al,updateDoc:()=>ll,where:()=>Ga});var r,A,i=n(232),s=n(606),o=n(965),a=n(776),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var A=0;A<16;++A)r[A]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(A=0;A<16;++A)r[A]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],A=e.g[2];let i,s=e.g[3];i=t+(s^n&(A^s))+r[0]+3614090360&4294967295,i=s+(A^(t=n+(i<<7&4294967295|i>>>25))&(n^A))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=A+(n^s&(t^n))+r[2]+606105819&4294967295,i=n+(t^(A=s+(i<<17&4294967295|i>>>15))&(s^t))+r[3]+3250441966&4294967295,i=t+(s^(n=A+(i<<22&4294967295|i>>>10))&(A^s))+r[4]+4118548399&4294967295,i=s+(A^(t=n+(i<<7&4294967295|i>>>25))&(n^A))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=A+(n^s&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(A=s+(i<<17&4294967295|i>>>15))&(s^t))+r[7]+4249261313&4294967295,i=t+(s^(n=A+(i<<22&4294967295|i>>>10))&(A^s))+r[8]+1770035416&4294967295,i=s+(A^(t=n+(i<<7&4294967295|i>>>25))&(n^A))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=A+(n^s&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(A=s+(i<<17&4294967295|i>>>15))&(s^t))+r[11]+2304563134&4294967295,i=t+(s^(n=A+(i<<22&4294967295|i>>>10))&(A^s))+r[12]+1804603682&4294967295,i=s+(A^(t=n+(i<<7&4294967295|i>>>25))&(n^A))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=A+(n^s&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(A=s+(i<<17&4294967295|i>>>15))&(s^t))+r[15]+1236535329&4294967295,i=t+(A^s&((n=A+(i<<22&4294967295|i>>>10))^A))+r[1]+4129170786&4294967295,i=s+(n^A&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=A+(t^n&(s^t))+r[11]+643717713&4294967295,i=n+(s^t&((A=s+(i<<14&4294967295|i>>>18))^s))+r[0]+3921069994&4294967295,i=t+(A^s&((n=A+(i<<20&4294967295|i>>>12))^A))+r[5]+3593408605&4294967295,i=s+(n^A&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=A+(t^n&(s^t))+r[15]+3634488961&4294967295,i=n+(s^t&((A=s+(i<<14&4294967295|i>>>18))^s))+r[4]+3889429448&4294967295,i=t+(A^s&((n=A+(i<<20&4294967295|i>>>12))^A))+r[9]+568446438&4294967295,i=s+(n^A&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=A+(t^n&(s^t))+r[3]+4107603335&4294967295,i=n+(s^t&((A=s+(i<<14&4294967295|i>>>18))^s))+r[8]+1163531501&4294967295,i=t+(A^s&((n=A+(i<<20&4294967295|i>>>12))^A))+r[13]+2850285829&4294967295,i=s+(n^A&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=A+(t^n&(s^t))+r[7]+1735328473&4294967295,i=n+(s^t&((A=s+(i<<14&4294967295|i>>>18))^s))+r[12]+2368359562&4294967295,i=t+((n=A+(i<<20&4294967295|i>>>12))^A^s)+r[5]+4294588738&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^A)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=A+(s^t^n)+r[11]+1839030562&4294967295,i=n+((A=s+(i<<16&4294967295|i>>>16))^s^t)+r[14]+4259657740&4294967295,i=t+((n=A+(i<<23&4294967295|i>>>9))^A^s)+r[1]+2763975236&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^A)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=A+(s^t^n)+r[7]+4139469664&4294967295,i=n+((A=s+(i<<16&4294967295|i>>>16))^s^t)+r[10]+3200236656&4294967295,i=t+((n=A+(i<<23&4294967295|i>>>9))^A^s)+r[13]+681279174&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^A)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=A+(s^t^n)+r[3]+3572445317&4294967295,i=n+((A=s+(i<<16&4294967295|i>>>16))^s^t)+r[6]+76029189&4294967295,i=t+((n=A+(i<<23&4294967295|i>>>9))^A^s)+r[9]+3654602809&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^A)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=A+(s^t^n)+r[15]+530742520&4294967295,i=n+((A=s+(i<<16&4294967295|i>>>16))^s^t)+r[2]+3299628645&4294967295,i=t+(A^((n=A+(i<<23&4294967295|i>>>9))|~s))+r[0]+4096336452&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~A))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=A+(t^(s|~n))+r[14]+2878612391&4294967295,i=n+(s^((A=s+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(A^((n=A+(i<<21&4294967295|i>>>11))|~s))+r[12]+1700485571&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~A))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=A+(t^(s|~n))+r[10]+4293915773&4294967295,i=n+(s^((A=s+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(A^((n=A+(i<<21&4294967295|i>>>11))|~s))+r[8]+1873313359&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~A))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=A+(t^(s|~n))+r[6]+2734768916&4294967295,i=n+(s^((A=s+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(A^((n=A+(i<<21&4294967295|i>>>11))|~s))+r[4]+4149444226&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~A))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=A+(t^(s|~n))+r[2]+718787259&4294967295,i=n+(s^((A=s+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(A+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+A&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;const n=[];let r=!0;for(let A=e.length-1;A>=0;A--){const i=0|e[A];r&&i==t||(n[A]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var A=Array(arguments.length-2),i=2;i<arguments.length;i++)A[i-2]=arguments[i];return t.prototype[n].apply(e,A)}}(t,(function(){this.blockSize=-1})),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,A=this.C;let i=this.h,s=0;for(;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(A[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,A),i=0;break}}else for(;s<t;)if(A[i++]=e[s++],i==this.blockSize){n(this,A),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function o(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],e<0?-1:0)})):new i([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(e<0)return g(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var l=o(0),u=o(1),h=o(16777216);function d(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function g(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function p(e,t){return e.add(g(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function w(e,t){this.g=e,this.h=t}function y(e,t){if(d(t))throw Error("division by zero");if(d(e))return new w(l,l);if(f(e))return t=y(g(e),t),new w(g(t.g),g(t.h));if(f(t))return t=y(e,g(t)),new w(g(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=C(n),r=C(r);var A=B(n,1),i=B(r,1);for(r=B(r,2),n=B(n,2);!d(r);){var s=i.add(r);s.l(e)<=0&&(A=A.add(n),i=s),r=B(r,1),n=B(n,1)}return t=p(e,A.j(t)),new w(A,t)}for(A=l;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),s=(i=a(n)).j(t);f(s)||s.l(e)>0;)s=(i=a(n-=r)).j(t);d(i)&&(i=u),A=A.add(i),e=p(e,s)}return new w(A,e)}function C(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function B(e,t){const n=t>>5;t%=32;const r=e.g.length-n,A=[];for(let i=0;i<r;i++)A[i]=t>0?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new i(A,e.h)}(e=i.prototype).m=function(){if(f(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+g(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const A=y(n,t).g;let i=(((n=p(n,A.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(d(n=A))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=p(this,e))?-1:d(e)?0:1},e.abs=function(){return f(this)?g(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let A=0;A<=t;A++){let t=r+(65535&this.i(A))+(65535&e.i(A)),i=(t>>>16)+(this.i(A)>>>16)+(e.i(A)>>>16);r=i>>>16,t&=65535,i&=65535,n[A]=i<<16|t}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return l;if(f(this))return f(e)?g(this).j(g(e)):g(g(this).j(e));if(f(e))return g(this.j(g(e)));if(this.l(h)<0&&e.l(h)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const A=this.i(r)>>>16,i=65535&this.i(r),s=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=i*o,m(n,2*r+2*t),n[2*r+2*t+1]+=A*o,m(n,2*r+2*t+1),n[2*r+2*t+1]+=i*s,m(n,2*r+2*t+1),n[2*r+2*t+2]+=A*s,m(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new i(n,0)},e.B=function(e){return y(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,A=c.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let A=l;for(let s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+i),n);i<8?(i=a(Math.pow(n,i)),A=A.j(i).add(a(e))):(A=A.j(r),A=A.add(a(e)))}return A},r=c.Integer=i}).apply("undefined"!==typeof l?l:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var u,h,d,f,g,p,m,w,y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},C={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof y&&y];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var A=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in A))break e;A=A[s]}(r=r(i=A[e=e[e.length-1]]))!=i&&null!=r&&t(A,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",(function(e){return e||Symbol("Symbol.dispose")})),r("Array.prototype.values",(function(e){return e||function(){return this[Symbol.iterator]()}})),r("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}}));var A=A||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){return(a=o).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function c(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var A=Array(arguments.length-2),i=2;i<arguments.length;i++)A[i-2]=arguments[i];return t.prototype[n].apply(e,A)}}var B="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function E(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let A=0;A<r;A++)e[n+A]=t[A]}else e.push(t)}}function b(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=U;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let F,N=!1,U=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},D=()=>{const e=Promise.resolve(void 0);F=()=>{e.then(Q)}};function Q(){for(var e;e=S();){try{e.h.call(e.g)}catch(n){b(n)}var t=T;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}N=!1}function x(){this.u=this.u,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e){return/^[\s\xa0]*$/.test(e)}function L(e,t){R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}c(L,R),L.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var k="closure_listenable_"+(1e6*Math.random()|0),P=0;function H(e,t,n,r,A){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=A,this.key=++P,this.da=this.fa=!1}function j(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function K(e){const t={};for(const n in e)t[n]=e[n];return t}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(e,t){let n,r;for(let A=1;A<arguments.length;A++){for(n in r=arguments[A],r)e[n]=r[n];for(let t=0;t<G.length;t++)n=G[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function W(e){this.src=e,this.g={},this.h=0}function X(e,t){const n=t.type;if(n in e.g){var r,A=e.g[n],i=Array.prototype.indexOf.call(A,t,void 0);(r=i>=0)&&Array.prototype.splice.call(A,i,1),r&&(j(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(let A=0;A<e.length;++A){const i=e[A];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return A}return-1}W.prototype.add=function(e,t,n,r,A){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const s=Y(e,t,r,A);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new H(t,this.src,i,!!r,A)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),$={};function J(e,t,n,r,A){if(r&&r.once)return te(e,t,n,r,A);if(Array.isArray(t)){for(let i=0;i<t.length;i++)J(e,t[i],n,r,A);return null}return n=ae(n),e&&e[k]?e.J(t,n,s(r)?!!r.capture:!!r,A):Z(e,t,n,!1,r,A)}function Z(e,t,n,r,A,i){if(!t)throw Error("Invalid event type");const o=s(A)?!!A.capture:!!A;let a=se(e);if(a||(e[q]=a=new W(e)),(n=a.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(A=o),void 0===A&&(A=!1),e.addEventListener(t.toString(),r,A);else if(e.attachEvent)e.attachEvent(Ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function te(e,t,n,r,A){if(Array.isArray(t)){for(let i=0;i<t.length;i++)te(e,t[i],n,r,A);return null}return n=ae(n),e&&e[k]?e.K(t,n,s(r)?!!r.capture:!!r,A):Z(e,t,n,!0,r,A)}function ne(e,t,n,r,A){if(Array.isArray(t))for(var i=0;i<t.length;i++)ne(e,t[i],n,r,A);else r=s(r)?!!r.capture:!!r,n=ae(n),e&&e[k]?(e=e.i,(i=String(t).toString())in e.g&&((n=Y(t=e.g[i],n,r,A))>-1&&(j(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Y(t,n,r,A)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[k])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(X(n,e),0==n.h&&(n.src=null,t[q]=null)):j(e)}}}function Ae(e){return e in $?$[e]:$[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new L(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[q])instanceof W?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function le(){x.call(this),this.i=new W(this),this.M=this,this.G=null}function ce(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var A=t;z(t=new R(r,e),A)}let i,s;if(A=!0,n)for(s=n.length-1;s>=0;s--)i=t.g=n[s],A=ue(i,r,!0,t)&&A;if(i=t.g=e,A=ue(i,r,!0,t)&&A,A=ue(i,r,!1,t)&&A,n)for(s=0;s<n.length;s++)i=t.g=n[s],A=ue(i,r,!1,t)&&A}function ue(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let A=!0;for(let i=0;i<t.length;++i){const s=t[i];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&X(e.i,s),A=!1!==t.call(n,r)&&A}}return A&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=a(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}((()=>{e.g=null,e.i&&(e.i=!1,he(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}c(le,x),le.prototype[k]=!0,le.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},le.prototype.N=function(){if(le.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)j(n[e]);delete e.g[t],e.h--}}this.G=null},le.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},le.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class de extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){x.call(this),this.h=e,this.g={}}c(fe,x);var ge=[];function pe(e){V(e.g,(function(e,t){this.g.hasOwnProperty(t)&&re(e)}),e),e.g={}}fe.prototype.N=function(){fe.Z.N.call(this),pe(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=i.JSON.stringify,we=i.JSON.parse,ye=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ce(){}function Be(){}var ve={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ee(){R.call(this,"d")}function Ie(){R.call(this,"c")}c(Ee,R),c(Ie,R);var be={},Se=null;function Te(){return Se=Se||new le}function _e(e){R.call(this,be.Ia,e)}function Fe(e){const t=Te();ce(t,new _e(t))}function Ne(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Ue(e){const t=Te();ce(t,new Ne(t,e))}function De(e,t){R.call(this,be.Ja,e),this.size=t}function Qe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var A=r[0];if("noop"!=A&&"stop"!=A&&"close"!=A)for(let e=1;e<r.length;e++)r[e]=""}}}return me(i)}catch(i){return t}}(e,n)+(r?" "+r:"")}))}be.Ia="serverreachability",c(_e,R),be.STAT_EVENT="statevent",c(Ne,R),be.Ja="timingevent",c(De,R),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Me,Oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ke(){}function Pe(e){return encodeURIComponent(String(e))}function He(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}c(ke,Ce),ke.prototype.g=function(){return new XMLHttpRequest},Me=new ke;var Ke={},Ge={};function ze(e,t,n){e.M=1,e.A=mt(ht(t)),e.u=n,e.R=!0,We(e,null)}function We(e,t){e.F=Date.now(),qe(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Ut(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ve,e.g=wn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new de(a(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var A="readystatechange";Array.isArray(A)||(A&&(ge[0]=A.toString()),A=ge);for(let i=0;i<A.length;i++){const e=J(n,A[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?K(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Fe(),function(e,t,n,r,A,i){e.info((function(){if(e.g)if(i){var s="",o=i.split("&");for(let e=0;e<o.length;e++){var a=o[e].split("=");if(a.length>1){const e=a[0];a=a[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+a+"&":s+(e+"=redacted&")}}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+A+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.v,e.B,e.l,e.S,e.u)}function Xe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ge:(n=Number(t.substring(n,r)),isNaN(n)?Ke:(r+=1)+n>t.length?Ge:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.T=Date.now()+e.H,$e(e,e.H)}function $e(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Qe(a(e.aa,e),t)}function Je(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||dn(e.j,e)}function et(e){Je(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,pe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||st(n.h,e)))if(!e.L&&st(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var A=r;if(0==A[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}ln(n),Ue(18)}}else n.xa=A[1],0<n.xa-n.K&&A[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Qe(a(n.Va,n),6e3));it(n.h)<=1&&n.ta&&(n.ta=void 0)}else gn(n,11)}else if((e.L||n.g==e)&&hn(n),!O(t))for(A=n.Ba.g.parse(t),t=0;t<A.length;t++){let a=A[t];const c=a[0];if(!(c<=n.K))if(n.K=c,a=a[1],2==n.I)if("c"==a[0]){n.M=a[1],n.ba=a[2];const t=a[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const A=a[4];null!=A&&(n.za=A,n.j.info("SVER="+n.za));const c=a[5];null!=c&&"number"===typeof c&&c>0&&(r=1.5*c,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(ot(i,i.h),i.h=null))}if(r.G){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,pt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=mn(r,r.L?r.ba:null,r.W),s.L){at(r.h,s);var o=s,l=r.O;l&&(o.H=l),o.D&&(Je(o),qe(o)),r.g=s}else an(r);n.i.length>0&&rn(n)}else"stop"!=a[0]&&"close"!=a[0]||gn(n,7);else 3==n.I&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?gn(n,7):en(n):"noop"!=a[0]&&n.l&&n.l.qa(a),n.A=0)}Fe()}catch(c){}}je.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==qt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const a=qt(this.g),l=this.g.ya();this.g.ca();if(!(a<3)&&(3!=a||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||4!=a||7==l||Fe(),Je(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Xe(e))return e.g.la();const t=$t(e.g);if(""===t)return"";let n="";const r=t.length,A=4==qt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(A&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,A,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+A+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.v,this.B,this.l,this.S,a,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,A=this.g;if((r=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,Ue(12),et(this),Ze(this);break e}Re(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Ye(this,n),t==Ge){4==a&&(this.m=4,Ue(14),e=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ke){this.m=4,Ue(15),Re(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Re(this.i,this.l,t,null),tt(this,t)}if(Xe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=a||0!=n.length||this.h.h||(this.m=1,Ue(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cn(o),o.P=!0,Ue(11))}}else Re(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Re(this.i,this.l,n,null),tt(this,n);4==a&&et(this),this.o&&!this.K&&(4==a?dn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&qt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(O(e[r]))continue;var n=He(e[r]);const A=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[A]||[];t[A]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),et(this),Ze(this)}}}catch(ee){}},je.prototype.cancel=function(){this.K=!0,et(this)},je.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.B),2!=this.M&&(Fe(),Ue(17)),et(this),this.m=2,Ze(this)):$e(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function At(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function at(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return E(e.i)}rt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof ut?(this.l=e.l,dt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.u),this.h=e.h,gt(this,Dt(e.i)),this.m=e.m):e&&(t=String(e).match(ct))?(this.l=!1,dt(this,t[1]||"",!0),this.o=wt(t[2]||""),this.g=wt(t[3]||"",!0),ft(this,t[4]),this.h=wt(t[5]||"",!0),gt(this,t[6]||"",!0),this.m=wt(t[7]||"")):(this.l=!1,this.i=new St(null,this.l))}function ht(e){return new ut(e)}function dt(e,t,n){e.j=n?wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function gt(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach((function(e,t){const n=t.toLowerCase();t!=n&&(_t(this,t),Ut(this,n,e))}),e)),e.j=t}(e.i,e.l)):(n||(t=yt(t,It)),e.i=new St(t,e.l))}function pt(e,t,n){e.i.set(t,n)}function mt(e){return pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ct),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ut.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(yt(t,Bt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(yt(t,Bt,!0),"@"),e.push(Pe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(yt(n,"/"==n.charAt(0)?Et:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",yt(n,bt)),e.join("")},ut.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?dt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)ft(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var A=t.h.lastIndexOf("/");-1!=A&&(r=t.h.slice(0,A+1)+r)}if(".."==(A=r)||"."==A)r="";else if(-1!=A.indexOf("./")||-1!=A.indexOf("/.")){r=0==A.lastIndexOf("/",0),A=A.split("/");const e=[];for(let t=0;t<A.length;){const n=A[t++];"."==n?r&&t==A.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==A.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=A}return n?t.h=r:n=""!==e.i.toString(),n?gt(t,Dt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var Bt=/[#\/\?@]/g,vt=/[#\?:]/g,Et=/[#\?]/g,It=/[#\?@]/g,bt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let A,i=null;r>=0?(A=e[n].substring(0,r),i=e[n].substring(r+1)):A=e[n],t(A,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){Tt(e),t=Qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ft(e,t){return Tt(e),t=Qt(e,t),e.g.has(t)}function Nt(e,t){Tt(e);let n=[];if("string"===typeof t)Ft(e,t)&&(n=n.concat(e.g.get(Qt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Ut(e,t,n){_t(e,t),n.length>0&&(e.i=null,e.g.set(Qt(e,t),E(n)),e.h+=n.length)}function Dt(e){const t=new St;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),r(n)}catch(i){}}function Rt(){this.g=new ye}function Mt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Ot(e,t){le.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Lt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function kt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return V(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"===typeof e?null!=n&&Pe(n):pt(e,t,n))}function Vt(e){le.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=St.prototype).add=function(e,t){Tt(this),this.i=null,e=Qt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.set=function(e,t){return Tt(this),this.i=null,Ft(this,e=Qt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=Nt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const A=Pe(n);n=Nt(this,n);for(let t=0;t<n.length;t++){let r=A;""!==n[t]&&(r+="="+Pe(n[t])),e.push(r)}}return this.i=e.join("&")},c(Mt,Ce),Mt.prototype.g=function(){return new Ot(this.i,this.h)},c(Ot,le),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,kt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kt(this):Pt(this),3==this.readyState&&Lt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,kt(this))},e.Na=function(e){this.g&&(this.response=e,kt(this))},e.ga=function(){this.g&&kt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),c(Vt,le);var Kt=/^https?$/i,Gt=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Wt(e),Yt(e)}function Wt(e){e.A||(e.A=!0,ce(e,"complete"),ce(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof A)if(e.v&&4==qt(e))setTimeout(e.Ca.bind(e),0);else if(ce(e,"readystatechange"),4==qt(e)){e.h=!1;try{const A=e.ca();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===A){let t=String(e.D).match(ct)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!Kt.test(t?t.toLowerCase():"")}n=r}if(n)ce(e,"complete"),ce(e,"success");else{e.o=6;try{var s=qt(e)>2?e.g.statusText:""}catch(o){s=""}e.l=s+" ["+e.ca()+"]",Wt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ce(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function qt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Rt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(pt(n,"SID",e.M),pt(n,"RID",t),pt(n,"TYPE","terminate"),sn(e,n),(t=new je(e,e.j,t)).M=2,t.A=mt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=wn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),qe(t)}pn(e)}function tn(e){e.g&&(cn(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(i.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function rn(e){if(!At(e.h)&&!e.m){e.m=!0;var t=e.Ea;F||D(),N||(F(),N=!0),U.add(t,e),e.D=0}}function An(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);pt(r,"SID",e.M),pt(r,"RID",n),pt(r,"AID",e.K),sn(e,r),e.u&&e.o&&jt(r,e.u,e.o),n=new je(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),ot(e.h,n),ze(n,r,t)}function sn(e,t){e.H&&V(e.H,(function(e,n){pt(t,n,e)})),e.l&&V({},(function(e,n){pt(t,n,e)}))}function on(e,t,n){n=Math.min(e.i.length,n);const r=e.l?a(e.l.Ka,e.l,e):null;e:{var A=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=A[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let l=0;l<n;l++){var i=A[l].g;const n=A[l].map;if((i-=t)<0)t=Math.max(0,A[l].g-100),a=!1;else try{i="req"+i+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;s(n)&&(r=me(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(v){throw e.push(i+"type="+encodeURIComponent("_badmap")),v}}catch(v){r&&r(n)}}if(a){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function an(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;F||D(),N||(F(),N=!0),U.add(t,e),e.A=0}}function ln(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Qe(a(e.Da,e),fn(e,e.A)),e.A++,!0)}function cn(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function un(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);pt(t,"RID","rpc"),pt(t,"SID",e.M),pt(t,"AID",e.K),pt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&pt(t,"TO",e.ia),pt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&jt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=mt(ht(t)),n.u=null,n.R=!0,We(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function dn(e,t){var n=null;if(e.g==t){hn(e),cn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.G,at(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var A=e.D;ce(r=Te(),new De(r,n)),rn(e)}else an(e);else if(3==(A=t.m)||0==A&&t.X>0||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Qe(a(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&ln(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),A){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=a(e.bb,e),r=e.Ua;const t=!r;r=new ut(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||dt(r,"https"),mt(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=l(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=l(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else Ue(2);e.I=0,e.l&&e.l.pa(t),pn(e),nn(e)}function pn(e){if(e.I=0,e.ja=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(I(e.ja,t),I(e.ja,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.oa()}}function mn(e,t,n){var r=n instanceof ut?ht(n):new ut(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.u);else{var A=i.location;r=A.protocol,t=t?t+"."+A.hostname:A.hostname,A=+A.port;const e=new ut(null);r&&dt(e,r),t&&(e.g=t),A&&ft(e,A),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&pt(r,n,t),pt(r,"VER",e.ka),sn(e,r),r}function wn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Vt(new Mt({ab:n})):new Vt(e.ma)).Fa(e.L),t}function yn(){}function Cn(){}function Bn(e,t){le.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!O(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new In(this)}function vn(e){Ee.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){Ie.call(this),this.status=1}function In(e){this.g=e}(e=Vt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Me.g(),this.g.onreadystatechange=B(a(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void zt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var A in r)n.set(A,r[A]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),A=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Gt,t,void 0)>=0)||r||A||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){zt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ce(this,"complete"),ce(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),Vt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Xt(this):this.Xa())},e.Xa=function(){Xt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return qt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),we(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Ue(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=mn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const A=new je(this,this.j,e);let i=this.o;if(this.U&&(i?(i=K(i),z(i,this.U)):i=this.U),null!==this.u||this.R||(A.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,A,t),pt(n=ht(this.J),"RID",e),pt(n,"CVER",22),this.G&&pt(n,"X-HTTP-Session-Id",this.G),sn(this,n),i&&(this.R?t="headers="+Pe(Ht(i))+"&"+t:this.u&&jt(n,this.u,i)),ot(this.h,A),this.Ra&&pt(n,"TYPE","init"),this.S?(pt(n,"$req",t),pt(n,"SID","null"),A.U=!0,ze(A,n,null)):ze(A,n,t),this.I=2}}else 3==this.I&&(e?An(this,e):0==this.i.length||At(this.h)||An(this))},e.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Qe(a(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),tn(this),un(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),ln(this),Ue(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=yn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},Cn.prototype.g=function(e,t){return new Bn(e,t)},c(Bn,le),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){en(this.g)},Bn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=me(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},Bn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,Bn.Z.N.call(this)},c(vn,Ee),c(En,Ie),c(In,yn),In.prototype.ra=function(){ce(this.g,"a")},In.prototype.qa=function(e){ce(this.g,new vn(e))},In.prototype.pa=function(e){ce(this.g,new En)},In.prototype.oa=function(){ce(this.g,"b")},Cn.prototype.createWebChannel=Cn.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,w=C.createWebChannelTransport=function(){return new Cn},m=C.getStatEventTarget=function(){return Te()},p=C.Event=be,g=C.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,f=C.ErrorCode=Oe,Le.COMPLETE="complete",d=C.EventType=Le,Be.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",le.prototype.listen=le.prototype.J,h=C.WebChannel=Be,C.FetchXmlHttpFactory=Mt,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,u=C.XhrIo=Vt}).apply("undefined"!==typeof y?y:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const B="@firebase/firestore",v="4.9.2";class E{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let I="12.3.0";const b=new o.Vy("@firebase/firestore");function S(){return b.logLevel}function T(e){if(b.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const A=n.map(N);b.debug(`Firestore (${I}): ${e}`,...A)}}function _(e){if(b.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const A=n.map(N);b.error(`Firestore (${I}): ${e}`,...A)}}function F(e){if(b.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const A=n.map(N);b.warn(`Firestore (${I}): ${e}`,...A)}}function N(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function U(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,D(e,r,n)}function D(e,t,n){let r=`FIRESTORE (${I}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _(r),new Error(r)}function Q(e,t,n,r){let A="Unexpected state";"string"==typeof n?A=n:r=n,e||D(t,A,r)}function x(e,t){return e}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class O{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(E.UNAUTHENTICATED)))}shutdown(){}}class P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class H{constructor(e){this.t=e,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Q(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let A=new O;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new O,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=A;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),A.resolve(),A=new O)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Q("string"==typeof t.accessToken,31837,{l:t}),new L(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Q(null===e||"string"==typeof e,2055,{h:e}),new E(e)}}class j{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new j(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(E.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,i.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Q(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Q("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new K(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class W{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=z(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function X(e,t){return e<t?-1:e>t?1:0}function Y(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),A=t.charAt(r);if(n!==A)return J(n)===J(A)?X(n,A):J(n)?1:-1}return X(e.length,t.length)}const q=55296,$=57343;function J(e){const t=e.charCodeAt(0);return t>=q&&t<=$}function Z(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&U(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&U(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return X(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const A of n){if(A.indexOf("//")>=0)throw new M(R.INVALID_ARGUMENT,`Invalid segment (${A}). Paths must not contain // in them.`);e.push(...A.split("/").filter((e=>e.length>0)))}return new ne(e)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends te{construct(e,t,n){return new Ae(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new Ae([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const A=()=>{if(0===n.length)throw new M(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new M(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(A(),r++)}if(A(),i)throw new M(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ae(t)}static emptyPath(){return new Ae([])}}class ie{constructor(e){this.path=e}static fromPath(e){return new ie(ne.fromString(e))}static fromName(e){return new ie(ne.fromString(e).popFirst(5))}static empty(){return new ie(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new ne(e.slice()))}}function se(e,t,n){if(!n)throw new M(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oe(e){if(!ie.isDocumentKey(e))throw new M(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ae(e){if(ie.isDocumentKey(e))throw new M(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function le(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ce(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":U(12329,{type:typeof e})}function ue(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ce(e);throw new M(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function he(e,t){const n={typeString:e};return t&&(n.value=t),n}function de(e,t){if(!le(e))throw new M(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const A=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(A&&typeof s!==A){n=`JSON field '${r}' must be a ${A}.`;break}if(void 0!==i&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new M(R.INVALID_ARGUMENT,n);return!0}const fe=-62135596800,ge=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(e){return pe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ge);return new pe(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fe)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ge}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(de(e,pe._jsonSchema))return new pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:he("string",pe._jsonSchemaVersion),seconds:he("number"),nanoseconds:he("number")};class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new pe(0,0))}static max(){return new me(new pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const we=-1;class ye{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ye.UNKNOWN_ID=-1;function Ce(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,A=me.fromTimestamp(1e9===r?new pe(n+1,0):new pe(n,r));return new ve(A,ie.empty(),t)}function Be(e){return new ve(e.readTime,e.key,we)}class ve{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ve(me.min(),ie.empty(),we)}static max(){return new ve(me.max(),ie.empty(),we)}}function Ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ie.comparator(e.documentKey,t.documentKey),0!==n?n:X(e.largestBatchId,t.largestBatchId))}const Ie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class be{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Se(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==Ie)throw e;T("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(e){return Te.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,n)=>{t(e)}))}static reject(e){return new Te(((t,n)=>{n(e)}))}static waitFor(e){return new Te(((t,n)=>{let r=0,A=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++A,i&&A===r&&t()}),(e=>n(e)))})),i=!0,A===r&&t()}))}static or(e){let t=Te.resolve(!1);for(const n of e)t=t.next((e=>e?Te.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Te(((n,r)=>{const A=e.length,i=new Array(A);let s=0;for(let o=0;o<A;o++){const a=o;t(e[a]).next((e=>{i[a]=e,++s,s===A&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Te(((n,r)=>{const A=()=>{!0===e()?t().next((()=>{A()}),r):n()};A()}))}}function _e(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fe(e){return"IndexedDbTransactionError"===e.name}class Ne{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ne.ce=-1;const Ue=-1;function De(e){return null==e}function Qe(e){return 0===e&&1/e==-1/0}function xe(e){return"number"==typeof e&&Number.isInteger(e)&&!Qe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Re="\x01";function Me(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Le(t)),t=Oe(e.get(n),t);return Le(t)}function Oe(e,t){let n=t;const r=e.length;for(let A=0;A<r;A++){const t=e.charAt(A);switch(t){case"\0":n+="\x01\x10";break;case Re:n+="\x01\x11";break;default:n+=t}}return n}function Le(e){return e+Re+"\x01"}const ke="remoteDocuments",Pe="owner",He="mutationQueues",je="mutations";const Ve="documentMutations",Ke="remoteDocumentsV14",Ge="remoteDocumentGlobal",ze="targets",We="targetDocuments",Xe="targetGlobal",Ye="collectionParents",qe="clientMetadata",$e="bundles",Je="namedQueries",Ze="indexConfiguration",et="indexState",tt="indexEntries",nt="documentOverlays",rt="globals",At=[He,je,Ve,ke,ze,Pe,Xe,We,qe,Ge,Ye,$e,Je],it=[He,je,Ve,Ke,ze,Pe,Xe,We,qe,Ge,Ye,$e,Je,nt],st=it,ot=[...st,Ze,et,tt];function at(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ct(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ht(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ht(this.root,e,this.comparator,!1)}getReverseIterator(){return new ht(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ht(this.root,e,this.comparator,!0)}}class ht{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let A=1;for(;!e.isEmpty();)if(A=t?n(e.key,t):1,t&&r&&(A*=-1),A<0)e=this.isReverse?e.left:e.right;else{if(0===A){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,n,r,A){this.key=e,this.value=t,this.color=null!=n?n:dt.RED,this.left=null!=r?r:dt.EMPTY,this.right=null!=A?A:dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,A){return new dt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=A?A:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const A=n(e,r.key);return r=A<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===A?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1,dt.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,t,n,r,A){return this}insert(e,t,n){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ft))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pt{constructor(e){this.fields=e,e.sort(Ae.comparator)}static empty(){return new pt([])}unionWith(e){let t=new ft(Ae.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class mt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mt("Invalid base64 string: "+e):e}}(e);return new wt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ct(e){if(Q(!!e,39018),"string"==typeof e){let t=0;const n=yt.exec(e);if(Q(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vt(e){return"string"==typeof e?wt.fromBase64String(e):wt.fromUint8Array(e)}const Et="server_timestamp",It="__type__",bt="__previous_value__",St="__local_write_time__";function Tt(e){const t=(e?.mapValue?.fields||{})[It]?.stringValue;return t===Et}function _t(e){const t=e.mapValue.fields[bt];return Tt(t)?_t(t):t}function Ft(e){const t=Ct(e.mapValue.fields[St].timestampValue);return new pe(t.seconds,t.nanos)}class Nt{constructor(e,t,n,r,A,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=A,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=a,this.isUsingEmulator=l}}const Ut="(default)";class Dt{constructor(e,t){this.projectId=e,this.database=t||Ut}static empty(){return new Dt("","")}get isDefaultDatabase(){return this.database===Ut}isEqual(e){return e instanceof Dt&&e.projectId===this.projectId&&e.database===this.database}}const Qt="__type__",xt="__max__",Rt={mapValue:{fields:{__type__:{stringValue:xt}}}},Mt="__vector__",Ot="value";function Lt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tt(e)?4:tn(e)?9007199254740991:Zt(e)?10:11:U(28295,{value:e})}function kt(e,t){if(e===t)return!0;const n=Lt(e);if(n!==Lt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ft(e).isEqual(Ft(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ct(e.timestampValue),r=Ct(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vt(e.bytesValue).isEqual(vt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bt(e.geoPointValue.latitude)===Bt(t.geoPointValue.latitude)&&Bt(e.geoPointValue.longitude)===Bt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bt(e.integerValue)===Bt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Bt(e.doubleValue),r=Bt(t.doubleValue);return n===r?Qe(n)===Qe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],kt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(at(n)!==at(r))return!1;for(const A in n)if(n.hasOwnProperty(A)&&(void 0===r[A]||!kt(n[A],r[A])))return!1;return!0}(e,t);default:return U(52216,{left:e})}}function Pt(e,t){return void 0!==(e.values||[]).find((e=>kt(e,t)))}function Ht(e,t){if(e===t)return 0;const n=Lt(e),r=Lt(t);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Bt(e.integerValue||e.doubleValue),r=Bt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jt(e.timestampValue,t.timestampValue);case 4:return jt(Ft(e),Ft(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vt(e),r=vt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let A=0;A<n.length&&A<r.length;A++){const e=X(n[A],r[A]);if(0!==e)return e}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=X(Bt(e.latitude),Bt(t.latitude));return 0!==n?n:X(Bt(e.longitude),Bt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vt(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},A=n[Ot]?.arrayValue,i=r[Ot]?.arrayValue,s=X(A?.values?.length||0,i?.values?.length||0);return 0!==s?s:Vt(A,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rt.mapValue&&t===Rt.mapValue)return 0;if(e===Rt.mapValue)return 1;if(t===Rt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),A=t.fields||{},i=Object.keys(A);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Y(r[s],i[s]);if(0!==e)return e;const t=Ht(n[r[s]],A[i[s]]);if(0!==t)return t}return X(r.length,i.length)}(e.mapValue,t.mapValue);default:throw U(23264,{he:n})}}function jt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);const n=Ct(e),r=Ct(t),A=X(n.seconds,r.seconds);return 0!==A?A:X(n.nanos,r.nanos)}function Vt(e,t){const n=e.values||[],r=t.values||[];for(let A=0;A<n.length&&A<r.length;++A){const e=Ht(n[A],r[A]);if(e)return e}return X(n.length,r.length)}function Kt(e){return Gt(e)}function Gt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ct(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ie.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const A of t)r?r=!1:n+=",",n+=`${A}:${Gt(e.fields[A])}`;return n+"}"}(e.mapValue):U(61005,{value:e})}function zt(e){switch(Lt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_t(e);return t?16+zt(t):16;case 5:return 2*e.stringValue.length;case 6:return vt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+zt(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return lt(e.fields,((e,n)=>{t+=e.length+zt(n)})),t}(e.mapValue);default:throw U(13486,{value:e})}}function Wt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xt(e){return!!e&&"integerValue"in e}function Yt(e){return!!e&&"arrayValue"in e}function qt(e){return!!e&&"nullValue"in e}function $t(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jt(e){return!!e&&"mapValue"in e}function Zt(e){const t=(e?.mapValue?.fields||{})[Qt]?.stringValue;return t===Mt}function en(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return lt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=en(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=en(e.arrayValue.values[n]);return t}return{...e}}function tn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xt}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=en(t)}setAll(e){let t=Ae.emptyPath(),n={},r=[];e.forEach(((e,A)=>{if(!t.isImmediateParentOf(A)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=A.popLast()}e?n[A.lastSegment()]=en(e):r.push(A.lastSegment())}));const A=this.getFieldsMap(t);this.applyChanges(A,n,r)}delete(e){const t=this.field(e.popLast());Jt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Jt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lt(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new nn(en(this.value))}}function rn(e){const t=[];return lt(e.fields,((e,n)=>{const r=new Ae([e]);if(Jt(n)){const e=rn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new pt(t)}class An{constructor(e,t,n,r,A,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=A,this.data=i,this.documentState=s}static newInvalidDocument(e){return new An(e,0,me.min(),me.min(),me.min(),nn.empty(),0)}static newFoundDocument(e,t,n,r){return new An(e,1,t,me.min(),n,r,0)}static newNoDocument(e,t){return new An(e,2,t,me.min(),me.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,me.min(),me.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sn{constructor(e,t){this.position=e,this.inclusive=t}}function on(e,t,n){let r=0;for(let A=0;A<e.position.length;A++){const i=t[A],s=e.position[A];if(r=i.field.isKeyField()?ie.comparator(ie.fromName(s.referenceValue),n.key):Ht(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function an(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kt(e.position[n],t.position[n]))return!1;return!0}class ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function cn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class un{}class hn extends un{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cn(e,t,n):"array-contains"===t?new In(e,n):"in"===t?new bn(e,n):"not-in"===t?new Sn(e,n):"array-contains-any"===t?new Tn(e,n):new hn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bn(e,n):new vn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ht(t,this.value)):null!==t&&Lt(this.value)===Lt(t)&&this.matchesComparison(Ht(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends un{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dn(e,t)}matches(e){return fn(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fn(e){return"and"===e.op}function gn(e){return pn(e)&&fn(e)}function pn(e){for(const t of e.filters)if(t instanceof dn)return!1;return!0}function mn(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+Kt(e.value);if(gn(e))return e.filters.map((e=>mn(e))).join(",");{const t=e.filters.map((e=>mn(e))).join(",");return`${e.op}(${t})`}}function wn(e,t){return e instanceof hn?function(e,t){return t instanceof hn&&e.op===t.op&&e.field.isEqual(t.field)&&kt(e.value,t.value)}(e,t):e instanceof dn?function(e,t){return t instanceof dn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wn(n,t.filters[r])),!0)}(e,t):void U(19439)}function yn(e){return e instanceof hn?function(e){return`${e.field.canonicalString()} ${e.op} ${Kt(e.value)}`}(e):e instanceof dn?function(e){return e.op.toString()+" {"+e.getFilters().map(yn).join(" ,")+"}"}(e):"Filter"}class Cn extends hn{constructor(e,t,n){super(e,t,n),this.key=ie.fromName(n.referenceValue)}matches(e){const t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bn extends hn{constructor(e,t){super(e,"in",t),this.keys=En("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vn extends hn{constructor(e,t){super(e,"not-in",t),this.keys=En("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function En(e,t){return(t.arrayValue?.values||[]).map((e=>ie.fromName(e.referenceValue)))}class In extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yt(t)&&Pt(t.arrayValue,this.value)}}class bn extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pt(this.value.arrayValue,t)}}class Sn extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Pt(this.value.arrayValue,t)}}class Tn extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Pt(this.value.arrayValue,e)))}}class _n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=A,this.startAt=i,this.endAt=s,this.Te=null}}function Fn(e){return new _n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Nn(e){const t=x(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>mn(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),De(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Kt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Kt(e))).join(",")),t.Te=e}return t.Te}function Un(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!an(e.startAt,t.startAt)&&an(e.endAt,t.endAt)}function Dn(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Qn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=A,this.limitType=i,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xn(e,t,n,r,A,i,s,o){return new Qn(e,t,n,r,A,i,s,o)}function Rn(e){return new Qn(e)}function Mn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function On(e){return null!==e.collectionGroup}function Ln(e){const t=x(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const A of t.explicitOrderBy)t.Ie.push(A),e.add(A.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ft(Ae.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new ln(r,n))})),e.has(Ae.keyField().canonicalString())||t.Ie.push(new ln(Ae.keyField(),n))}return t.Ie}function kn(e){const t=x(e);return t.Ee||(t.Ee=Pn(t,Ln(e))),t.Ee}function Pn(e,t){if("F"===e.limitType)return Fn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ln(e.field,t)}));const n=e.endAt?new sn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sn(e.startAt.position,e.startAt.inclusive):null;return Fn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hn(e,t){const n=e.filters.concat([t]);return new Qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jn(e,t,n){return new Qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vn(e,t){return Un(kn(e),kn(t))&&e.limitType===t.limitType}function Kn(e){return`${Nn(kn(e))}|lt:${e.limitType}`}function Gn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>yn(e))).join(", ")}]`),De(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Kt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Kt(e))).join(",")),`Target(${t})`}(kn(e))}; limitType=${e.limitType})`}function zn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ie.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ln(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ln(e),t))&&!(e.endAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ln(e),t))}(e,t)}function Wn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xn(e){return(t,n)=>{let r=!1;for(const A of Ln(e)){const e=Yn(A,t,n);if(0!==e)return e;r=r||A.field.isKeyField()}return 0}}function Yn(e,t,n){const r=e.field.isKeyField()?ie.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),A=n.data.field(e);return null!==r&&null!==A?Ht(r,A):U(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:e.dir})}}class qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,A]of n)if(this.equalsFn(r,e))return A}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let A=0;A<r.length;A++)if(this.equalsFn(r[A][0],e))return void(r[A]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lt(this.inner,((t,n)=>{for(const[r,A]of n)e(r,A)}))}isEmpty(){return ct(this.inner)}size(){return this.innerSize}}const $n=new ut(ie.comparator);function Jn(){return $n}const Zn=new ut(ie.comparator);function er(){let e=Zn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const A of n)e=e.insert(A.key,A);return e}function tr(e){let t=Zn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function nr(){return Ar()}function rr(){return Ar()}function Ar(){return new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ir=new ut(ie.comparator),sr=new ft(ie.comparator);function or(){let e=sr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const A of n)e=e.add(A);return e}const ar=new ft(X);function lr(){return ar}function cr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qe(t)?"-0":t}}function ur(e){return{integerValue:""+e}}function hr(e,t){return xe(t)?ur(t):cr(e,t)}class dr{constructor(){this._=void 0}}function fr(e,t,n){return e instanceof mr?function(e,t){const n={fields:{[It]:{stringValue:Et},[St]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Tt(t)&&(t=_t(t)),t&&(n.fields[bt]=t),{mapValue:n}}(n,t):e instanceof wr?yr(e,t):e instanceof Cr?Br(e,t):function(e,t){const n=pr(e,t),r=Er(n)+Er(e.Ae);return Xt(n)&&Xt(e.Ae)?ur(r):cr(e.serializer,r)}(e,t)}function gr(e,t,n){return e instanceof wr?yr(e,t):e instanceof Cr?Br(e,t):n}function pr(e,t){return e instanceof vr?function(e){return Xt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class mr extends dr{}class wr extends dr{constructor(e){super(),this.elements=e}}function yr(e,t){const n=Ir(t);for(const r of e.elements)n.some((e=>kt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cr extends dr{constructor(e){super(),this.elements=e}}function Br(e,t){let n=Ir(t);for(const r of e.elements)n=n.filter((e=>!kt(e,r)));return{arrayValue:{values:n}}}class vr extends dr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Er(e){return Bt(e.integerValue||e.doubleValue)}function Ir(e){return Yt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class br{constructor(e,t){this.field=e,this.transform=t}}class Sr{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _r(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fr{}function Nr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pr(e.key,Tr.none()):new Rr(e.key,e.data,Tr.none());{const n=e.data,r=nn.empty();let A=new ft(Ae.comparator);for(let e of t.fields)if(!A.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),A=A.add(e)}return new Mr(e.key,r,new pt(A.toArray()),Tr.none())}}function Ur(e,t,n){e instanceof Rr?function(e,t,n){const r=e.value.clone(),A=Lr(e.fieldTransforms,t,n.transformResults);r.setAll(A),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mr?function(e,t,n){if(!_r(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lr(e.fieldTransforms,t,n.transformResults),A=t.data;A.setAll(Or(e)),A.setAll(r),t.convertToFoundDocument(n.version,A).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dr(e,t,n,r){return e instanceof Rr?function(e,t,n,r){if(!_r(e.precondition,t))return n;const A=e.value.clone(),i=kr(e.fieldTransforms,r,t);return A.setAll(i),t.convertToFoundDocument(t.version,A).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mr?function(e,t,n,r){if(!_r(e.precondition,t))return n;const A=kr(e.fieldTransforms,r,t),i=t.data;return i.setAll(Or(e)),i.setAll(A),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return _r(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Qr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),A=pr(r.transform,e||null);null!=A&&(null===n&&(n=nn.empty()),n.set(r.field,A))}return n||null}function xr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wr&&t instanceof wr||e instanceof Cr&&t instanceof Cr?Z(e.elements,t.elements,kt):e instanceof vr&&t instanceof vr?kt(e.Ae,t.Ae):e instanceof mr&&t instanceof mr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rr extends Fr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends Fr{constructor(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=A,this.type=1}getFieldMask(){return this.fieldMask}}function Or(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Lr(e,t,n){const r=new Map;Q(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let A=0;A<n.length;A++){const i=e[A],s=i.transform,o=t.data.field(i.field);r.set(i.field,gr(s,o,n[A]))}return r}function kr(e,t,n){const r=new Map;for(const A of e){const e=A.transform,i=n.data.field(A.field);r.set(A.field,fr(e,i,t))}return r}class Pr extends Fr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hr extends Fr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ur(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=rr();return this.mutations.forEach((r=>{const A=e.get(r.key),i=A.overlayedDocument;let s=this.applyToLocalView(i,A.mutatedFields);s=t.has(r.key)?null:s;const o=Nr(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(me.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),or())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,((e,t)=>xr(e,t)))&&Z(this.baseMutations,e.baseMutations,((e,t)=>xr(e,t)))}}class Vr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Q(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ir;const A=e.mutations;for(let i=0;i<A.length;i++)r=r.insert(A[i].key,n[i].version);return new Vr(e,t,n,r)}}class Kr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gr{constructor(e,t){this.count=e,this.unchangedNames=t}}var zr,Wr;function Xr(e){switch(e){case R.OK:return U(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return U(15467,{code:e})}}function Yr(e){if(void 0===e)return _("GRPC error has no .code"),R.UNKNOWN;switch(e){case zr.OK:return R.OK;case zr.CANCELLED:return R.CANCELLED;case zr.UNKNOWN:return R.UNKNOWN;case zr.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case zr.INTERNAL:return R.INTERNAL;case zr.UNAVAILABLE:return R.UNAVAILABLE;case zr.UNAUTHENTICATED:return R.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case zr.NOT_FOUND:return R.NOT_FOUND;case zr.ALREADY_EXISTS:return R.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return R.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case zr.ABORTED:return R.ABORTED;case zr.OUT_OF_RANGE:return R.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return R.UNIMPLEMENTED;case zr.DATA_LOSS:return R.DATA_LOSS;default:return U(39323,{code:e})}}(Wr=zr||(zr={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";let qr=null;function $r(){return new TextEncoder}const Jr=new r([4294967295,4294967295],0);function Zr(e){const t=$r().encode(e),n=new A;return n.update(t),new Uint8Array(n.digest())}function eA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),A=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,A],0),new r([i,s],0)]}class tA{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nA(`Invalid padding: ${t}`);if(n<0)throw new nA(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new nA(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new nA(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let A=e.add(t.multiply(r.fromNumber(n)));return 1===A.compare(Jr)&&(A=new r([A.getBits(0),A.getBits(1)],0)),A.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Zr(e),[n,r]=eA(t);for(let A=0;A<this.hashCount;A++){const e=this.ye(n,r,A);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,A=new Uint8Array(Math.ceil(e/8)),i=new tA(A,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.ge)return;const t=Zr(e),[n,r]=eA(t);for(let A=0;A<this.hashCount;A++){const e=this.ye(n,r,A);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nA extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rA{constructor(e,t,n,r,A){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=A}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,AA.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rA(me.min(),r,new ut(X),Jn(),or())}}class AA{constructor(e,t,n,r,A){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=A}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new AA(n,t,or(),or(),or())}}class iA{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class sA{constructor(e,t){this.targetId=e,this.Ce=t}}class oA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class aA{constructor(){this.ve=0,this.Fe=uA(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=or(),t=or(),n=or();return this.Fe.forEach(((r,A)=>{switch(A){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:U(38017,{changeType:A})}})),new AA(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=uA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Q(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=cA(),this.He=cA(),this.Ye=new ut(X)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:U(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const A=r.target;if(Dn(A))if(0===n){const e=new ie(A.path);this.et(t,e,An.newNoDocument(e,me.min()))}else Q(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),A=n?this.ct(n,e,r):1;if(0!==A){this.it(t);const e=2===A?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}qr?.lt(function(e,t,n,r,A){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},s=t.unchangedNames;return s&&(i.bloomFilter={applied:0===A,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),i}(r,e.Ce,this.Ge.ht(),n,A))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:A=0}=t;let i,s;try{i=vt(n).toUint8Array()}catch(e){if(e instanceof mt)return F("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new tA(i,r,A)}catch(e){return F(e instanceof nA?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const A=this.Ge.ht(),i=`projects/${A.projectId}/databases/${A.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((n,r)=>{const A=this.ot(r);if(A){if(n.current&&Dn(A.target)){const t=new ie(A.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,An.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=or();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));const r=new rA(e,t,this.Ye,this.je,n);return this.je=Jn(),this.Je=cA(),this.He=cA(),this.Ye=new ut(X),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new aA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ft(X),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ft(X),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cA(){return new ut(ie.comparator)}function uA(){return new ut(ie.comparator)}const hA={asc:"ASCENDING",desc:"DESCENDING"},dA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fA={and:"AND",or:"OR"};class gA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pA(e,t){return e.useProto3Json||De(t)?t:{value:t}}function mA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yA(e,t){return mA(e,t.toTimestamp())}function CA(e){return Q(!!e,49232),me.fromTimestamp(function(e){const t=Ct(e);return new pe(t.seconds,t.nanos)}(e))}function BA(e,t){return vA(e,t).canonicalString()}function vA(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function EA(e){const t=ne.fromString(e);return Q(VA(t),10190,{key:t.toString()}),t}function IA(e,t){return BA(e.databaseId,t.path)}function bA(e,t){const n=EA(t);if(n.get(1)!==e.databaseId.projectId)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ie(FA(n))}function SA(e,t){return BA(e.databaseId,t)}function TA(e){const t=EA(e);return 4===t.length?ne.emptyPath():FA(t)}function _A(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function FA(e){return Q(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function NA(e,t,n){return{name:IA(e,t),fields:n.value.mapValue.fields}}function UA(e,t){let n;if(t instanceof Rr)n={update:NA(e,t.key,t.value)};else if(t instanceof Pr)n={delete:IA(e,t.key)};else if(t instanceof Mr)n={update:NA(e,t.key,t.data),updateMask:jA(t.fieldMask)};else{if(!(t instanceof Hr))return U(16599,{Vt:t.type});n={verify:IA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof mr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vr)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw U(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:U(27497)}(e,t.precondition)),n}function DA(e,t){return{documents:[SA(e,t.path)]}}function QA(e,t){const n={structuredQuery:{}},r=t.path;let A;null!==t.collectionGroup?(A=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(A=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SA(e,A);const i=function(e){if(0!==e.length)return HA(dn.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kA(e.field),direction:MA(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=pA(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:A}}function xA(e){let t=TA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let A=null;if(r>0){Q(1===r,65062);const e=n.from[0];e.allDescendants?A=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=RA(e);return t instanceof dn&&gn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ln(PA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,De(t)?null:t}(n.limit));let a=null;n.startAt&&(a=function(e){const t=!!e.before,n=e.values||[];return new sn(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new sn(n,t)}(n.endAt)),xn(t,A,s,i,o,"F",a,l)}function RA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=PA(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=PA(e.unaryFilter.field);return hn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=PA(e.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=PA(e.unaryFilter.field);return hn.create(A,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}}(e):void 0!==e.fieldFilter?function(e){return hn.create(PA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return dn.create(e.compositeFilter.filters.map((e=>RA(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return U(1026)}}(e.compositeFilter.op))}(e):U(30097,{filter:e})}function MA(e){return hA[e]}function OA(e){return dA[e]}function LA(e){return fA[e]}function kA(e){return{fieldPath:e.canonicalString()}}function PA(e){return Ae.fromServerFormat(e.fieldPath)}function HA(e){return e instanceof hn?function(e){if("=="===e.op){if($t(e.value))return{unaryFilter:{field:kA(e.field),op:"IS_NAN"}};if(qt(e.value))return{unaryFilter:{field:kA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($t(e.value))return{unaryFilter:{field:kA(e.field),op:"IS_NOT_NAN"}};if(qt(e.value))return{unaryFilter:{field:kA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kA(e.field),op:OA(e.op),value:e.value}}}(e):e instanceof dn?function(e){const t=e.getFilters().map((e=>HA(e)));return 1===t.length?t[0]:{compositeFilter:{op:LA(e.op),filters:t}}}(e):U(54877,{filter:e})}function jA(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function VA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class KA{constructor(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:me.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:me.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new KA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new KA(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new KA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new KA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GA{constructor(e){this.yt=e}}function zA(e){const t=xA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jn(t,t.limit,"L"):t}class WA{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Bt(e.integerValue));else if("doubleValue"in e){const n=Bt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Qe(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Ct(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(vt(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?tn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Zt(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):U(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=Ot,A=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Bt(A)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ie.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}WA.Kt=new WA;class XA{constructor(){this.Cn=new YA}addToCollectionParentIndex(e,t){return this.Cn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(ve.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(ve.min())}updateCollectionGroup(e,t,n){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class YA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ft(ne.comparator),A=!r.has(n);return this.index[t]=r.add(n),A}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ft(ne.comparator)).toArray()}}new Uint8Array(0);const qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$A=41943040;class JA{static withCacheSize(e){return new JA(e,JA.DEFAULT_COLLECTION_PERCENTILE,JA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}JA.DEFAULT_COLLECTION_PERCENTILE=10,JA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,JA.DEFAULT=new JA($A,JA.DEFAULT_COLLECTION_PERCENTILE,JA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),JA.DISABLED=new JA(-1,0,0);class ZA{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ZA(0)}static cr(){return new ZA(-1)}}const ei="LruGarbageCollector",ti=1048576;function ni(e,t){let[n,r]=e,[A,i]=t;const s=X(n,A);return 0===s?X(r,i):s}class ri{constructor(e){this.Ir=e,this.buffer=new ft(ni),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ni(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ai{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){T(ei,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fe(e)?T(ei,"Ignoring IndexedDB error during garbage collection: ",e):await Se(e)}await this.Vr(3e5)}))}}class ii{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(Ne.ce);const n=new ri(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(qA)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,A,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(A=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),S()<=o.$b.DEBUG&&T("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(s-i)+"ms\n"+`\tRemoved ${A} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:A,documentsRemoved:e}))))}}function si(e,t){return new ii(e,t)}class oi{constructor(){this.changes=new qn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Te.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ai{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class li{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Dr(n.mutation,e,pt.empty(),pe.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,or()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or();const r=nr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=er();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=nr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,or())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let A=Jn();const i=Ar(),s=Ar();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Mr)?A=A.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Dr(s.mutation,t,s.mutation.getFieldMask(),pe.now())):i.set(t.key,pt.empty())})),this.recalculateAndSaveOverlays(e,A).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>s.set(e,new ai(t,i.get(e)??null)))),s)))}recalculateAndSaveOverlays(e,t){const n=Ar();let r=new ut(((e,t)=>e-t)),A=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const A of e)A.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||pt.empty();s=A.applyToLocalView(i,s),n.set(e,s);const o=(r.get(A.batchId)||or()).add(e);r=r.insert(A.batchId,o)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,a=r.value,l=rr();a.forEach((e=>{if(!A.has(e)){const r=Nr(t.get(e),n.get(e));null!==r&&l.set(e,r),A=A.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,l))}return Te.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):On(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((A=>{const i=r-A.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-A.size):Te.resolve(nr());let s=we,o=A;return i.next((t=>Te.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),A.get(t)?Te.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,A))).next((()=>this.computeViews(e,o,t,or()))).next((e=>({batchId:s,changes:tr(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next((e=>{let t=er();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const A=t.collectionGroup;let i=er();return this.indexManager.getCollectionParents(e,A).next((s=>Te.forEach(s,(s=>{const o=function(e,t){return new Qn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(A));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let A;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(A=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,A,r)))).next((e=>{A.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,An.newInvalidDocument(r)))}));let n=er();return e.forEach(((e,r)=>{const i=A.get(e);void 0!==i&&Dr(i.mutation,r,pt.empty(),pe.now()),zn(t,r)&&(n=n.insert(e,r))})),n}))}}class ci{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:CA(e.createTime)}}(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:zA(e.bundledQuery),readTime:CA(e.readTime)}}(t)),Te.resolve()}}class ui{constructor(){this.overlays=new ut(ie.comparator),this.qr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nr();return Te.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Te.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),Te.resolve()}getOverlaysForCollection(e,t,n){const r=nr(),A=t.length+1,i=new ie(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===A&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Te.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let A=new ut(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=A.get(e.largestBatchId);null===t&&(t=nr(),A=A.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=nr(),o=A.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Te.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));let A=this.qr.get(t);void 0===A&&(A=or(),this.qr.set(t,A)),this.qr.set(t,A.add(n.key))}}class hi{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class di{constructor(){this.Qr=new ft(fi.$r),this.Ur=new ft(fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new fi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new fi(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){const t=new ie(new ne([])),n=new fi(t,e),r=new fi(t,e+1),A=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),A.push(e.key)})),A}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ie(new ne([])),n=new fi(t,e),r=new fi(t,e+1);let A=or();return this.Ur.forEachInRange([n,r],(e=>{A=A.add(e.key)})),A}containsKey(e){const t=new fi(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ie.comparator(e.key,t.key)||X(e.Yr,t.Yr)}static Kr(e,t){return X(e.Yr,t.Yr)||ie.comparator(e.key,t.key)}}class gi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ft(fi.$r)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const A=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new jr(A,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new fi(s.key,A)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Te.resolve(i)}lookupMutationBatch(e,t){return Te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),A=r<0?0:r;return Te.resolve(this.mutationQueue.length>A?this.mutationQueue[A]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?Ue:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fi(t,0),r=new fi(t,Number.POSITIVE_INFINITY),A=[];return this.Zr.forEachInRange([n,r],(e=>{const t=this.Xr(e.Yr);A.push(t)})),Te.resolve(A)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(X);return t.forEach((e=>{const t=new fi(e,0),r=new fi(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),Te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let A=n;ie.isDocumentKey(A)||(A=A.child(""));const i=new fi(new ie(A),0);let s=new ft(X);return this.Zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)}),i),Te.resolve(this.ti(s))}ti(e){const t=[];return e.forEach((e=>{const n=this.Xr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Q(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Te.forEach(t.mutations,(r=>{const A=new fi(r.key,t.batchId);return n=n.delete(A),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new fi(t,0),r=this.Zr.firstAfterOrEqual(n);return Te.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pi{constructor(e){this.ri=e,this.docs=new ut(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),A=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-A,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Te.resolve(n?n.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let n=Jn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():An.newInvalidDocument(e))})),Te.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let A=Jn();const i=t.path,s=new ie(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Ee(Be(s),n)<=0||(r.has(s.key)||zn(t,s))&&(A=A.insert(s.key,s.mutableCopy()))}return Te.resolve(A)}getAllFromCollectionGroup(e,t,n,r){U(9500)}ii(e,t){return Te.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new mi(this)}getSize(e){return Te.resolve(this.size)}}class mi extends oi{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class wi{constructor(e){this.persistence=e,this.si=new qn((e=>Nn(e)),Un),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new di,this.targetCount=0,this.ai=ZA.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ZA(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Pr(t),Te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,n){let r=0;const A=[];return this.si.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),A.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Te.waitFor(A).next((()=>r))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Te.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Te.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,A=[];return r&&t.forEach((t=>{A.push(r.markPotentiallyOrphaned(e,t))})),Te.waitFor(A)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Te.resolve(n)}containsKey(e,t){return Te.resolve(this._i.containsKey(t))}}class yi{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ne(0),this.li=!1,this.li=!0,this.hi=new hi,this.referenceDelegate=e(this),this.Pi=new wi(this),this.indexManager=new XA,this.remoteDocumentCache=function(e){return new pi(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new GA(t),this.Ii=new ci(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ui,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new gi(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new Ci(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return Te.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class Ci extends be{constructor(e){super(),this.currentSequenceNumber=e}}class Bi{constructor(e){this.persistence=e,this.Ri=new di,this.Vi=null}static mi(e){return new Bi(e)}get fi(){if(this.Vi)return this.Vi;throw U(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Te.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(n=>{const r=ie.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vi{constructor(e,t){this.persistence=e,this.pi=new qn((e=>Me(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=si(this,t)}static mi(e,t){return new vi(e,t)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return Te.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?Te.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),A=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,A.removeEntry(r,me.min()))})))).next((()=>A.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zt(e.data.value)),t}br(e,t,n){return Te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Te.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ei{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=or(),r=or();for(const A of t.docChanges)switch(A.type){case 0:n=n.add(A.doc.key);break;case 1:r=r.add(A.doc.key)}return new Ei(e,t.fromCache,n,r)}}class Ii{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bi{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,a.nr)()?8:_e((0,a.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const A={result:null};return this.ys(e,t).next((e=>{A.result=e})).next((()=>{if(!A.result)return this.ws(e,t,r,n).next((e=>{A.result=e}))})).next((()=>{if(A.result)return;const n=new Ii;return this.Ss(e,t,n).next((r=>{if(A.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>A.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(S()<=o.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Gn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(S()<=o.$b.DEBUG&&T("QueryEngine","Query:",Gn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(S()<=o.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Gn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(t))):Te.resolve())}ys(e,t){if(Mn(t))return Te.resolve(null);let n=kn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=jn(t,null,"F"),n=kn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const A=or(...r);return this.ps.getDocuments(e,A).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.Ds(t,r);return this.Cs(t,i,A,n.readTime)?this.ys(e,jn(t,null,"F")):this.vs(e,i,t,n)}))))})))))}ws(e,t,n,r){return Mn(t)||r.isEqual(me.min())?Te.resolve(null):this.ps.getDocuments(e,n).next((A=>{const i=this.Ds(t,A);return this.Cs(t,i,n,r)?Te.resolve(null):(S()<=o.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),this.vs(e,i,t,Ce(r,we)).next((e=>e)))}))}Ds(e,t){let n=new ft(Xn(e));return t.forEach(((t,r)=>{zn(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const A="F"===e.limitType?t.last():t.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(r)>0)}Ss(e,t,n){return S()<=o.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.ps.getDocumentsMatchingQuery(e,t,ve.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Si="LocalStore",Ti=3e8;class _i{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ut(X),this.xs=new qn((e=>Nn(e)),Un),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new li(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Fi(e,t,n,r){return new _i(e,t,n,r)}async function Ni(e,t){const n=x(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((A=>(r=A,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const A=[],i=[];let s=or();for(const e of r){A.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ls:e,removedBatchIds:A,addedBatchIds:i})))}))}))}function Ui(e){const t=x(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Di(e,t,n){let r=or(),A=or();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jn();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(A=A.add(n)),i.isNoDocument()&&i.version.isEqual(me.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):T(Si,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{ks:r,qs:A}}))}function Qi(e,t){const n=x(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ue),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function xi(e,t){const n=x(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Pi.getTargetData(e,t).next((A=>A?(r=A,Te.resolve(r)):n.Pi.allocateTargetId(e).next((A=>(r=new KA(t,A,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function Ri(e,t,n){const r=x(e),A=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,A)))}catch(e){if(!Fe(e))throw e;T(Si,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(A.target)}function Mi(e,t,n){const r=x(e);let A=me.min(),i=or();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=x(e),A=r.xs.get(n);return void 0!==A?Te.resolve(r.Ms.get(A)):r.Pi.getTargetData(t,n)}(r,e,kn(t)).next((t=>{if(t)return A=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?A:me.min(),n?i:or()))).next((e=>(Oi(r,Wn(t),e),{documents:e,Qs:i})))))}function Oi(e,t,n){let r=e.Os.get(t)||me.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}class Li{constructor(){this.activeTargetIds=lr()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ki{constructor(){this.Mo=new Li,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Li,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pi{Oo(e){}shutdown(){}}const Hi="ConnectivityMonitor";class ji{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){T(Hi,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){T(Hi,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vi=null;function Ki(){return null===Vi?Vi=268435456+Math.round(2147483648*Math.random()):Vi++,"0x"+Vi.toString(16)}const Gi="RestConnection",zi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wi{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Ut?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,A){const i=Ki(),s=this.zo(e,t.toUriEncodedString());T(Gi,`Sending RPC '${e}' ${i}:`,s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,A);const{host:l}=new URL(s),c=(0,a.zJ)(l);return this.Jo(e,s,o,n,c).then((t=>(T(Gi,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw F(Gi,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",n),t}))}Ho(e,t,n,r,A,i){return this.Go(e,t,n,r,A)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){const n=zi[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Xi{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Yi="WebChannelConnection";class qi extends Wi{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,A){const i=Ki();return new Promise(((A,s)=>{const o=new u;o.setWithCredentials(!0),o.listenOnce(d.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const t=o.getResponseJson();T(Yi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),A(t);break;case f.TIMEOUT:T(Yi,`RPC '${e}' ${i} timed out`),s(new M(R.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=o.getStatus();if(T(Yi,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(t)>=0?t:R.UNKNOWN}(t.status);s(new M(e,t.message))}else s(new M(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new M(R.UNAVAILABLE,"Connection failed."));break;default:U(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{T(Yi,`RPC '${e}' ${i} completed.`)}}));const a=JSON.stringify(r);T(Yi,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",a,n,15)}))}T_(e,t,n){const r=Ki(),A=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=w(),s=m(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(o.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=A.join("");T(Yi,`Creating RPC '${e}' stream ${r}: ${l}`,o);const c=i.createWebChannel(l,o);this.I_(c);let u=!1,d=!1;const f=new Xi({Yo:t=>{d?T(Yi,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(u||(T(Yi,`Opening RPC '${e}' stream ${r} transport.`),c.open(),u=!0),T(Yi,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Zo:()=>c.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(c,h.EventType.OPEN,(()=>{d||(T(Yi,`RPC '${e}' stream ${r} transport opened.`),f.o_())})),y(c,h.EventType.CLOSE,(()=>{d||(d=!0,T(Yi,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(c))})),y(c,h.EventType.ERROR,(t=>{d||(d=!0,F(Yi,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new M(R.UNAVAILABLE,"The operation could not be completed")))})),y(c,h.EventType.MESSAGE,(t=>{if(!d){const n=t.data[0];Q(!!n,16349);const A=n,i=A?.error||A[0]?.error;if(i){T(Yi,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=zr[e];if(void 0!==t)return Yr(t)}(t),A=i.message;void 0===n&&(n=R.INTERNAL,A="Unknown error status: "+t+" with message "+i.message),d=!0,f.a_(new M(n,A)),c.close()}else T(Yi,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}})),y(s,p.STAT_EVENT,(t=>{t.stat===g.PROXY?T(Yi,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===g.NOPROXY&&T(Yi,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.__()}),0),f}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function $i(){return"undefined"!=typeof document?document:null}function Ji(e){return new gA(e,!0)}class Zi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=A,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const es="PersistentStream";class ts{constructor(e,t,n,r,A,i,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=A,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zi(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)}),(t=>{e((()=>{const e=new M(R.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.F_?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return T(es,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(T(es,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ns extends ts{constructor(e,t,n,r,A,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=A}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:U(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),A=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Q(void 0===t||"string"==typeof t,58123),wt.fromBase64String(t||"")):(Q(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),wt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?R.UNKNOWN:Yr(e.code);return new M(t,e.message||"")}(s);n=new oA(r,A,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const A=bA(e,r.document.name),i=CA(r.document.updateTime),s=r.document.createTime?CA(r.document.createTime):me.min(),o=new nn({mapValue:{fields:r.document.fields}}),a=An.newFoundDocument(A,i,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new iA(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const A=bA(e,r.document),i=r.readTime?CA(r.readTime):me.min(),s=An.newNoDocument(A,i),o=r.removedTargetIds||[];n=new iA([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const A=bA(e,r.document),i=r.removedTargetIds||[];n=new iA([],i,A,null)}else{if(!("filter"in t))return U(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:A}=e,i=new Gr(r,A),s=e.targetId;n=new sA(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return me.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?me.min():t.readTime?CA(t.readTime):me.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=_A(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Dn(r)?{documents:DA(e,r)}:{query:QA(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wA(e,t.resumeToken);const r=pA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(me.min())>0){n.readTime=mA(e,t.snapshotVersion.toTimestamp());const r=pA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=_A(this.serializer),t.removeTarget=e,this.q_(t)}}class rs extends ts{constructor(e,t,n,r,A,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=A}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Q(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Q(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Q(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Q(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?CA(e.updateTime):CA(t);return n.isEqual(me.min())&&(n=CA(t)),new Sr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=CA(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_A(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>UA(this.serializer,e)))};this.q_(t)}}class As{}class is extends As{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((A=>{let[i,s]=A;return this.connection.Go(e,vA(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(R.UNKNOWN,e.toString())}))}Ho(e,t,n,r,A){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Ho(e,vA(t,n),r,s,o,A)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(R.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ss{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_(t),this.aa=!1):T("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const os="RemoteStore";class as{constructor(e,t,n,r,A){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=A,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{ms(this)&&(T(os,"Restarting streams for network reachability change."),await async function(e){const t=x(e);t.Ea.add(4),await cs(t),t.Ra.set("Unknown"),t.Ea.delete(4),await ls(t)}(this))}))})),this.Ra=new ss(n,r)}}async function ls(e){if(ms(e))for(const t of e.da)await t(!0)}async function cs(e){for(const t of e.da)await t(!1)}function us(e,t){const n=x(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ps(n)?gs(n):Ms(n).O_()&&ds(n,t))}function hs(e,t){const n=x(e),r=Ms(n);n.Ia.delete(t),r.O_()&&fs(n,t),0===n.Ia.size&&(r.O_()?r.L_():ms(n)&&n.Ra.set("Unknown"))}function ds(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(me.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ms(e).Y_(t)}function fs(e,t){e.Va.Ue(t),Ms(e).Z_(t)}function gs(e){e.Va=new lA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ms(e).start(),e.Ra.ua()}function ps(e){return ms(e)&&!Ms(e).x_()&&e.Ia.size>0}function ms(e){return 0===x(e).Ea.size}function ws(e){e.Va=void 0}async function ys(e){e.Ra.set("Online")}async function Cs(e){e.Ia.forEach(((t,n)=>{ds(e,t)}))}async function Bs(e,t){ws(e),ps(e)?(e.Ra.ha(t),gs(e)):e.Ra.set("Unknown")}async function vs(e,t,n){if(e.Ra.set("Online"),t instanceof oA&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){T(os,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Es(e,n)}else if(t instanceof iA?e.Va.Ze(t):t instanceof sA?e.Va.st(t):e.Va.tt(t),!n.isEqual(me.min()))try{const t=await Ui(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const A=e.Ia.get(r);A&&e.Ia.set(r,A.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(wt.EMPTY_BYTE_STRING,r.snapshotVersion)),fs(e,t);const A=new KA(r.target,t,n,r.sequenceNumber);ds(e,A)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T(os,"Failed to raise snapshot:",t),await Es(e,t)}}async function Es(e,t,n){if(!Fe(t))throw t;e.Ea.add(1),await cs(e),e.Ra.set("Offline"),n||(n=()=>Ui(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{T(os,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ls(e)}))}function Is(e,t){return t().catch((n=>Es(e,n,t)))}async function bs(e){const t=x(e),n=Os(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ue;for(;Ss(t);)try{const e=await Qi(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ts(t,e)}catch(e){await Es(t,e)}_s(t)&&Fs(t)}function Ss(e){return ms(e)&&e.Ta.length<10}function Ts(e,t){e.Ta.push(t);const n=Os(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _s(e){return ms(e)&&!Os(e).x_()&&e.Ta.length>0}function Fs(e){Os(e).start()}async function Ns(e){Os(e).ra()}async function Us(e){const t=Os(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ds(e,t,n){const r=e.Ta.shift(),A=Vr.from(r,t,n);await Is(e,(()=>e.remoteSyncer.applySuccessfulWrite(A))),await bs(e)}async function Qs(e,t){t&&Os(e).X_&&await async function(e,t){if(function(e){return Xr(e)&&e!==R.ABORTED}(t.code)){const n=e.Ta.shift();Os(e).B_(),await Is(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await bs(e)}}(e,t),_s(e)&&Fs(e)}async function xs(e,t){const n=x(e);n.asyncQueue.verifyOperationInProgress(),T(os,"RemoteStore received new credentials");const r=ms(n);n.Ea.add(3),await cs(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ls(n)}async function Rs(e,t){const n=x(e);t?(n.Ea.delete(2),await ls(n)):t||(n.Ea.add(2),await cs(n),n.Ra.set("Unknown"))}function Ms(e){return e.ma||(e.ma=function(e,t,n){const r=x(e);return r.sa(),new ns(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ys.bind(null,e),t_:Cs.bind(null,e),r_:Bs.bind(null,e),H_:vs.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),ps(e)?gs(e):e.Ra.set("Unknown")):(await e.ma.stop(),ws(e))}))),e.ma}function Os(e){return e.fa||(e.fa=function(e,t,n){const r=x(e);return r.sa(),new rs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ns.bind(null,e),r_:Qs.bind(null,e),ta:Us.bind(null,e),na:Ds.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await bs(e)):(await e.fa.stop(),e.Ta.length>0&&(T(os,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ls{constructor(e,t,n,r,A){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=A,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,A){const i=Date.now()+n,s=new Ls(e,t,i,r,A);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ks(e,t){if(_("AsyncQueue",`${t}: ${e}`),Fe(e))return new M(R.UNAVAILABLE,`${t}: ${e}`);throw e}class Ps{static emptySet(e){return new Ps(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ie.comparator(t.key,n.key):(e,t)=>ie.comparator(e.key,t.key),this.keyedMap=er(),this.sortedSet=new ut(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ps))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ps;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Hs{constructor(){this.ga=new ut(ie.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):U(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class js{constructor(e,t,n,r,A,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=A,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=a}static fromInitialDocuments(e,t,n,r,A){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new js(e,t,Ps.emptySet(t),i,n,r,!0,!1,A)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Vs{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ks{constructor(){this.queries=Gs(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=x(e),r=n.queries;n.queries=Gs(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new M(R.ABORTED,"Firestore shutting down"))}}function Gs(){return new qn((e=>Kn(e)),Vn)}async function zs(e,t){const n=x(e);let r=3;const A=t.query;let i=n.queries.get(A);i?!i.ba()&&t.Da()&&(r=2):(i=new Vs,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(A,!0);break;case 1:i.wa=await n.onListen(A,!1);break;case 2:await n.onFirstRemoteStoreListen(A)}}catch(e){const n=ks(e,`Initialization of query '${Gn(t.query)}' failed`);return void t.onError(n)}n.queries.set(A,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&qs(n)}async function Ws(e,t){const n=x(e),r=t.query;let A=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?A=t.Da()?0:1:!i.ba()&&t.Da()&&(A=2))}switch(A){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xs(e,t){const n=x(e);let r=!1;for(const A of t){const e=A.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(A)&&(r=!0);t.wa=A}}r&&qs(n)}function Ys(e,t,n){const r=x(e),A=r.queries.get(t);if(A)for(const i of A.Sa)i.onError(n);r.queries.delete(t)}function qs(e){e.Ca.forEach((e=>{e.next()}))}var $s,Js;(Js=$s||($s={})).Ma="default",Js.Cache="cache";class Zs{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new js(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$s.Cache}}class eo{constructor(e){this.key=e}}class to{constructor(e){this.key=e}}class no{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=or(),this.mutatedKeys=or(),this.eu=Xn(e),this.tu=new Ps(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Hs,r=t?t.tu:this.tu;let A=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,a="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=zn(this.query,t)?t:null,u=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?u!==h&&(n.track({type:3,doc:c}),d=!0):this.su(l,c)||(n.track({type:2,doc:c}),d=!0,(o&&this.eu(c,o)>0||a&&this.eu(c,a)<0)&&(s=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(o||a)&&(s=!0)),d&&(c?(i=i.add(c),A=h?A.add(e):A.delete(e)):(i=i.delete(e),A=A.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),A=A.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:A}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const A=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r=r??!1;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,a=o!==this.Za;return this.Za=o,0!==i.length||a?{snapshot:new js(this.query,e.tu,A,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hs,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=or(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));const t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new to(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new eo(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=or();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const ro="SyncEngine";class Ao{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class io{constructor(e){this.key=e,this.hu=!1}}class so{constructor(e,t,n,r,A,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=A,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new qn((e=>Kn(e)),Vn),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ie.comparator),this.Au=new Map,this.Ru=new di,this.Vu={},this.mu=new Map,this.fu=ZA.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function oo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Fo(e);let A;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),A=i.view.lu()):A=await lo(r,t,n,!0),A}async function ao(e,t){const n=Fo(e);await lo(n,t,!0,!1)}async function lo(e,t,n,r){const A=await xi(e.localStore,kn(t)),i=A.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await co(e,t,i,"current"===s,A.resumeToken)),e.isPrimaryClient&&n&&us(e.remoteStore,A),o}async function co(e,t,n,r,A){e.pu=(t,n,r)=>async function(e,t,n,r){let A=t.view.ru(n);A.Cs&&(A=await Mi(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ru(n,A)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(A,e.isPrimaryClient,i,s);return Eo(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await Mi(e.localStore,t,!0),s=new no(t,i.Qs),o=s.ru(i.documents),a=AA.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,A),l=s.applyChanges(o,e.isPrimaryClient,a);Eo(e,n,l.au);const c=new Ao(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function uo(e,t,n){const r=x(e),A=r.Tu.get(t),i=r.Iu.get(A.targetId);if(i.length>1)return r.Iu.set(A.targetId,i.filter((e=>!Vn(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(A.targetId),r.sharedClientState.isActiveQueryTarget(A.targetId)||await Ri(r.localStore,A.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(A.targetId),n&&hs(r.remoteStore,A.targetId),Bo(r,A.targetId)})).catch(Se)):(Bo(r,A.targetId),await Ri(r.localStore,A.targetId,!0))}async function ho(e,t){const n=x(e),r=n.Tu.get(t),A=n.Iu.get(r.targetId);n.isPrimaryClient&&1===A.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hs(n.remoteStore,r.targetId))}async function fo(e,t){const n=x(e);try{const e=await function(e,t){const n=x(e),r=t.snapshotVersion;let A=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});A=n.Ms;const s=[];t.targetChanges.forEach(((i,o)=>{const a=A.get(o);if(!a)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o))));let l=a.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(wt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):i.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(i.resumeToken,r)),A=A.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Ti||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,l,i)&&s.push(n.Pi.updateTargetData(e,l))}));let o=Jn(),a=or();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Di(e,i,t.documentUpdates).next((e=>{o=e.ks,a=e.qs}))),!r.isEqual(me.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Te.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,a))).next((()=>o))})).then((e=>(n.Ms=A,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Au.get(t);r&&(Q(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Q(r.hu,14607):e.removedDocuments.size>0&&(Q(r.hu,42227),r.hu=!1))})),await So(n,e,t)}catch(e){await Se(e)}}function go(e,t,n){const r=x(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach(((n,r)=>{const A=r.view.va(t);A.snapshot&&e.push(A.snapshot)})),function(e,t){const n=x(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const A of n.Sa)A.va(t)&&(r=!0)})),r&&qs(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function po(e,t,n){const r=x(e);r.sharedClientState.updateQueryState(t,"rejected",n);const A=r.Au.get(t),i=A&&A.key;if(i){let e=new ut(ie.comparator);e=e.insert(i,An.newNoDocument(i,me.min()));const n=or().add(i),A=new rA(me.min(),new Map,new ut(X),e,n);await fo(r,A),r.du=r.du.remove(i),r.Au.delete(t),bo(r)}else await Ri(r.localStore,t,!1).then((()=>Bo(r,t,n))).catch(Se)}async function mo(e,t){const n=x(e),r=t.batch.batchId;try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),A=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const A=n.batch,i=A.keys();let s=Te.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Q(null!==i,48541),t.version.compareTo(i)<0&&(A.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,A)))}(n,e,t,A).next((()=>A.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=or();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Co(n,r,null),yo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await So(n,e)}catch(e){await Se(e)}}async function wo(e,t,n){const r=x(e);try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Q(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Co(r,t,n),yo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await So(r,e)}catch(n){await Se(n)}}function yo(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function Co(e,t,n){const r=x(e);let A=r.Vu[r.currentUser.toKey()];if(A){const e=A.get(t);e&&(n?e.reject(n):e.resolve(),A=A.remove(t)),r.Vu[r.currentUser.toKey()]=A}}function Bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||vo(e,t)}))}function vo(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(hs(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),bo(e))}function Eo(e,t,n){for(const r of n)r instanceof eo?(e.Ru.addReference(r.key,t),Io(e,r)):r instanceof to?(T(ro,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||vo(e,r.key)):U(19791,{wu:r})}function Io(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(T(ro,"New document in limbo: "+n),e.Eu.add(r),bo(e))}function bo(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ie(ne.fromString(t)),r=e.fu.next();e.Au.set(r,new io(n)),e.du=e.du.insert(n,r),us(e.remoteStore,new KA(kn(Rn(n.path)),r,"TargetPurposeLimboResolution",Ne.ce))}}async function So(e,t,n){const r=x(e),A=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,o)=>{s.push(r.pu(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){A.push(e);const t=Ei.As(o.targetId,e);i.push(t)}})))})),await Promise.all(s),r.Pu.H_(A),await async function(e,t){const n=x(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Te.forEach(t,(t=>Te.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Te.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fe(e))throw e;T(Si,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,A=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,A)}}}(r.localStore,i))}async function To(e,t){const n=x(e);if(!n.currentUser.isEqual(t)){T(ro,"User change. New user:",t.toKey());const e=await Ni(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new M(R.CANCELLED,t))}))})),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await So(n,e.Ls)}}function _o(e,t){const n=x(e),r=n.Au.get(t);if(r&&r.hu)return or().add(r.key);{let e=or();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Fo(e){const t=x(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_o.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=po.bind(null,t),t.Pu.H_=Xs.bind(null,t.eventManager),t.Pu.yu=Ys.bind(null,t.eventManager),t}function No(e){const t=x(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wo.bind(null,t),t}class Uo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ji(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Fi(this.persistence,new bi,e.initialUser,this.serializer)}Cu(e){return new yi(Bi.mi,this.serializer)}Du(e){return new ki}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uo.provider={build:()=>new Uo};class Do extends Uo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Q(this.persistence.referenceDelegate instanceof vi,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ai(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?JA.withCacheSize(this.cacheSizeBytes):JA.DEFAULT;return new yi((e=>vi.mi(e,t)),this.serializer)}}class Qo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>go(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=To.bind(null,this.syncEngine),await Rs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ks}createDatastore(e){const t=Ji(e.databaseInfo.databaseId),n=function(e){return new qi(e)}(e.databaseInfo);return function(e,t,n,r){return new is(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,A){return new as(e,t,n,r,A)}(this.localStore,this.datastore,e.asyncQueue,(e=>go(this.syncEngine,e,0)),ji.v()?new ji:new Pi)}createSyncEngine(e,t){return function(e,t,n,r,A,i,s){const o=new so(e,t,n,r,A,i);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=x(e);T(os,"RemoteStore shutting down."),t.Ea.add(5),await cs(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qo.provider={build:()=>new Qo};class xo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ro="FirestoreClient";class Mo{constructor(e,t,n,r,A){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=W.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=A,this.authCredentials.start(n,(async e=>{T(Ro,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(T(Ro,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ks(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Oo(e,t){e.asyncQueue.verifyOperationInProgress(),T(Ro,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ni(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Lo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ko(e);T(Ro,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>xs(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>xs(t.remoteStore,n))),e._onlineComponents=t}async function ko(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Ro,"Using user provided OfflineComponentProvider");try{await Oo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;F("Error using user provided cache. Falling back to memory cache: "+n),await Oo(e,new Uo)}}else T(Ro,"Using default OfflineComponentProvider"),await Oo(e,new Do(void 0));return e._offlineComponents}async function Po(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Ro,"Using user provided OnlineComponentProvider"),await Lo(e,e._uninitializedComponentsProvider._online)):(T(Ro,"Using default OnlineComponentProvider"),await Lo(e,new Qo))),e._onlineComponents}function Ho(e){return Po(e).then((e=>e.syncEngine))}async function jo(e){const t=await Po(e),n=t.eventManager;return n.onListen=oo.bind(null,t.syncEngine),n.onUnlisten=uo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ao.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ho.bind(null,t.syncEngine),n}function Vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new O;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,A){const i=new xo({next:o=>{i.Nu(),t.enqueueAndForget((()=>Ws(e,s)));const a=o.docs.has(n);!a&&o.fromCache?A.reject(new M(R.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?A.reject(new M(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(o)},error:e=>A.reject(e)}),s=new Zs(Rn(n.path),i,{includeMetadataChanges:!0,qa:!0});return zs(e,s)}(await jo(e),e.asyncQueue,t,n,r))),r.promise}function Ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new O;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,A){const i=new xo({next:n=>{i.Nu(),t.enqueueAndForget((()=>Ws(e,s))),n.fromCache&&"server"===r.source?A.reject(new M(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(n)},error:e=>A.reject(e)}),s=new Zs(n,i,{includeMetadataChanges:!0,qa:!0});return zs(e,s)}(await jo(e),e.asyncQueue,t,n,r))),r.promise}function Go(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zo=new Map,Wo="firestore.googleapis.com",Xo=!0;class Yo{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new M(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wo,this.ssl=Xo}else this.host=e.host,this.ssl=e.ssl??Xo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=$A;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ti)throw new M(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new M(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Go(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new k;switch(e.type){case"firstParty":return new V(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zo.get(e);t&&(T("ComponentProvider","Removing Datastore"),zo.delete(e),t.terminate())}(this),Promise.resolve()}}class $o{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class Jo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jo(this.firestore,e,this._key)}toJSON(){return{type:Jo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(de(t,Jo._jsonSchema))return new Jo(e,n||null,new ie(ne.fromString(t.referencePath)))}}Jo._jsonSchemaVersion="firestore/documentReference/1.0",Jo._jsonSchema={type:he("string",Jo._jsonSchemaVersion),referencePath:he("string")};class Zo extends $o{constructor(e,t,n){super(e,t,Rn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jo(this.firestore,null,new ie(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function ea(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),A=2;A<n;A++)r[A-2]=arguments[A];if(e=(0,a.Ku)(e),se("collection","path",t),e instanceof qo){const n=ne.fromString(t,...r);return ae(n),new Zo(e,null,n)}{if(!(e instanceof Jo||e instanceof Zo))throw new M(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return ae(n),new Zo(e.firestore,null,n)}}function ta(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),A=2;A<n;A++)r[A-2]=arguments[A];if(e=(0,a.Ku)(e),1===arguments.length&&(t=W.newId()),se("doc","path",t),e instanceof qo){const n=ne.fromString(t,...r);return oe(n),new Jo(e,null,new ie(n))}{if(!(e instanceof Jo||e instanceof Zo))throw new M(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return oe(n),new Jo(e.firestore,e instanceof Zo?e.converter:null,new ie(n))}}const na="AsyncQueue";class ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zi(this,"async_queue_retry"),this._c=()=>{const e=$i();e&&T(na,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=$i();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$i();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new O;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fe(e))throw e;T(na,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,_("INTERNAL UNHANDLED ERROR: ",Aa(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ls.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&U(47125,{Pc:Aa(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aa(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function ia(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class sa extends qo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ra,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ra(e),this._firestoreClient=void 0,await e}}}function oa(e,t){const n="object"==typeof e?e:(0,i.Sx)(),r="string"==typeof e?e:t||Ut,A=(0,i.j6)(n,"firestore").getImmediate({identifier:r});if(!A._initialized){const e=(0,a.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ue(e,qo);const A=(0,a.zJ)(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;A&&((0,a.gE)(`https://${o}`),(0,a.P1)("Firestore",!0)),i.host!==Wo&&i.host!==o&&F("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:A,emulatorOptions:r};if(!(0,a.bD)(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=E.MOCK_USER;else{t=(0,a.Fy)(r.mockUserToken,e._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new M(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(A)}e._authCredentials=new P(new L(t,n))}}(A,...e)}return A}function aa(e){if(e._terminated)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||la(e),e._firestoreClient}function la(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new Nt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Go(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Mo(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(wt.fromBase64String(e))}catch(e){throw new M(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ca(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ca._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(de(e,ca._jsonSchema))return ca.fromBase64String(e.bytes)}}ca._jsonSchemaVersion="firestore/bytes/1.0",ca._jsonSchema={type:he("string",ca._jsonSchemaVersion),bytes:he("string")};class ua{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new M(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ha{constructor(e){this._methodName=e}}class da{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(e){if(de(e,da._jsonSchema))return new da(e.latitude,e.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:he("string",da._jsonSchemaVersion),latitude:he("number"),longitude:he("number")};class fa{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(de(e,fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((e=>"number"==typeof e)))return new fa(e.vectorValues);throw new M(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:he("string",fa._jsonSchemaVersion),vectorValues:he("object")};const ga=/^__.*__$/;class pa{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rr(e,this.data,t,this.fieldTransforms)}}class ma{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wa(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ac:e})}}class ya{constructor(e,t,n,r,A,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===A&&this.Rc(),this.fieldTransforms=A||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ya({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ra(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(wa(this.Ac)&&ga.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ca{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ji(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ya({Ac:e,methodName:t,Dc:n,path:Ae.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ba(e){const t=e._freezeSettings(),n=Ji(e._databaseId);return new Ca(e._databaseId,!!t.ignoreUndefinedProperties,n)}function va(e,t,n,r,A){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,A);Ua("Data must be an object, but it was:",s,r);const o=Fa(r,s);let a,l;if(i.merge)a=new pt(s.fieldMask),l=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const A=Da(t,r,n);if(!s.contains(A))throw new M(R.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ma(e,A)||e.push(A)}a=new pt(e),l=s.fieldTransforms.filter((e=>a.covers(e.field)))}else a=null,l=s.fieldTransforms;return new pa(new nn(o),a,l)}class Ea extends ha{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ea}}class Ia extends ha{_toFieldTransform(e){return new br(e.path,new mr)}isEqual(e){return e instanceof Ia}}function ba(e,t,n,r){const A=e.Cc(1,t,n);Ua("Data must be an object, but it was:",A,r);const i=[],s=nn.empty();lt(r,((e,r)=>{const o=xa(t,e,n);r=(0,a.Ku)(r);const l=A.yc(o);if(r instanceof Ea)i.push(o);else{const e=_a(r,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new pt(i);return new ma(s,o,A.fieldTransforms)}function Sa(e,t,n,r,A,i){const s=e.Cc(1,t,n),o=[Da(t,r,n)],l=[A];if(i.length%2!=0)throw new M(R.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<i.length;a+=2)o.push(Da(t,i[a])),l.push(i[a+1]);const c=[],u=nn.empty();for(let d=o.length-1;d>=0;--d)if(!Ma(c,o[d])){const e=o[d];let t=l[d];t=(0,a.Ku)(t);const n=s.yc(e);if(t instanceof Ea)c.push(e);else{const r=_a(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new pt(c);return new ma(u,h,s.fieldTransforms)}function Ta(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _a(n,e.Cc(r?4:3,t))}function _a(e,t){if(Na(e=(0,a.Ku)(e)))return Ua("Unsupported field value:",t,e),Fa(e,t);if(e instanceof ha)return function(e,t){if(!wa(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const A of e){let e=_a(A,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pe.fromDate(e);return{timestampValue:mA(t.serializer,n)}}if(e instanceof pe){const n=new pe(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mA(t.serializer,n)}}if(e instanceof da)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ca)return{bytesValue:wA(t.serializer,e._byteString)};if(e instanceof Jo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:BA(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fa)return function(e,t){return{mapValue:{fields:{[Qt]:{stringValue:Mt},[Ot]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return cr(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${ce(e)}`)}(e,t)}function Fa(e,t){const n={};return ct(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lt(e,((e,r)=>{const A=_a(r,t.mc(e));null!=A&&(n[e]=A)})),{mapValue:{fields:n}}}function Na(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pe||e instanceof da||e instanceof ca||e instanceof Jo||e instanceof ha||e instanceof fa)}function Ua(e,t,n){if(!Na(n)||!le(n)){const r=ce(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Da(e,t,n){if((t=(0,a.Ku)(t))instanceof ua)return t._internalPath;if("string"==typeof t)return xa(e,t);throw Ra("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qa=new RegExp("[~\\*/\\[\\]]");function xa(e,t,n){if(t.search(Qa)>=0)throw Ra(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ua(...t.split("."))._internalPath}catch(r){throw Ra(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ra(e,t,n,r,A){const i=r&&!r.isEmpty(),s=void 0!==A;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(i||s)&&(a+=" (found",i&&(a+=` in field ${r}`),s&&(a+=` in document ${A}`),a+=")"),new M(R.INVALID_ARGUMENT,o+e+a)}function Ma(e,t){return e.some((e=>e.isEqual(t)))}class Oa{constructor(e,t,n,r,A){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=A}get id(){return this._key.path.lastSegment()}get ref(){return new Jo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new La(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ka("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class La extends Oa{data(){return super.data()}}function ka(e,t){return"string"==typeof t?xa(e,t):t instanceof ua?t._internalPath:t._delegate._internalPath}function Pa(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ha{}class ja extends Ha{}function Va(e,t){let n=[];for(var r=arguments.length,A=new Array(r>2?r-2:0),i=2;i<r;i++)A[i-2]=arguments[i];t instanceof Ha&&n.push(t),n=n.concat(A),function(e){const t=e.filter((e=>e instanceof za)).length,n=e.filter((e=>e instanceof Ka)).length;if(t>1||t>0&&n>0)throw new M(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Ka extends ja{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ka(e,t,n)}_apply(e){const t=this._parse(e);return $a(e._query,t),new $o(e.firestore,e.converter,Hn(e._query,t))}_parse(e){const t=Ba(e.firestore),n=function(e,t,n,r,A,i,s){let o;if(A.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new M(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){qa(s,i);const t=[];for(const n of s)t.push(Ya(r,e,n));o={arrayValue:{values:t}}}else o=Ya(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||qa(s,i),o=Ta(n,t,s,"in"===i||"not-in"===i);return hn.create(A,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ga(e,t,n){const r=t,A=ka("where",e);return Ka._create(A,r,n)}class za extends Ha{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new za(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const A of r)$a(n,A),n=Hn(n,A)}(e._query,t),new $o(e.firestore,e.converter,Hn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wa extends ja{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wa(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new M(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ln(t,n)}(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Qn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xa(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ka("orderBy",e);return Wa._create(n,t)}function Ya(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!On(t)&&-1!==n.indexOf("/"))throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!ie.isDocumentKey(r))throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wt(e,new ie(r))}if(n instanceof Jo)return Wt(e,n._key);throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ce(n)}.`)}function qa(e,t){if(!Array.isArray(e)||0===e.length)throw new M(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $a(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new M(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ja{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Lt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lt(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){const t=e.fields?.[Ot].arrayValue?.values?.map((e=>Bt(e.doubleValue)));return new fa(t)}convertGeoPoint(e){return new da(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_t(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ft(e));default:return null}}convertTimestamp(e){const t=Ct(e);return new pe(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);Q(VA(n),9688,{name:e});const r=new Dt(n.get(1),n.get(3)),A=new ie(n.popFirst(5));return r.isEqual(t)||_(`Document ${A} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),A}}function Za(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tl extends Oa{constructor(e,t,n,r,A,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=A}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ka("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=tl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}tl._jsonSchemaVersion="firestore/documentSnapshot/1.0",tl._jsonSchema={type:he("string",tl._jsonSchemaVersion),bundleSource:he("string","DocumentSnapshot"),bundleName:he("string"),bundle:he("string")};class nl extends tl{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class rl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new el(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new nl(this._firestore,this._userDataWriter,n.key,n,new el(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new nl(e._firestore,e._userDataWriter,n.doc.key,n.doc,new el(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new nl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new el(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let A=-1,i=-1;return 0!==t.type&&(A=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Al(t.type),doc:r,oldIndex:A,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Al(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:e})}}function il(e){e=ue(e,Jo);const t=ue(e.firestore,sa);return Vo(aa(t),e._key).then((n=>fl(t,e,n)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:he("string",rl._jsonSchemaVersion),bundleSource:he("string","QuerySnapshot"),bundleName:he("string"),bundle:he("string")};class sl extends Ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jo(this.firestore,null,t)}}function ol(e){e=ue(e,$o);const t=ue(e.firestore,sa),n=aa(t),r=new sl(t);return Pa(e._query),Ko(n,e._query).then((n=>new rl(t,r,e,n)))}function al(e,t,n){e=ue(e,Jo);const r=ue(e.firestore,sa),A=Za(e.converter,t,n);return dl(r,[va(Ba(r),"setDoc",e._key,A,null!==e.converter,n).toMutation(e._key,Tr.none())])}function ll(e,t,n){e=ue(e,Jo);const r=ue(e.firestore,sa),A=Ba(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=(0,a.Ku)(t))||t instanceof ua?Sa(A,"updateDoc",e._key,t,n,o):ba(A,"updateDoc",e._key,t),dl(r,[i.toMutation(e._key,Tr.exists(!0))])}function cl(e){return dl(ue(e.firestore,sa),[new Pr(e._key,Tr.none())])}function ul(e,t){const n=ue(e.firestore,sa),r=ta(e),A=Za(e.converter,t);return dl(n,[va(Ba(e.firestore),"addDoc",r._key,A,null!==e.converter,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function hl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=(0,a.Ku)(e);let A={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||ia(n[i])||(A=n[i++]);const s={includeMetadataChanges:A.includeMetadataChanges,source:A.source};if(ia(n[i])){const e=n[i];n[i]=e.next?.bind(e),n[i+1]=e.error?.bind(e),n[i+2]=e.complete?.bind(e)}let o,l,c;if(e instanceof Jo)l=ue(e.firestore,sa),c=Rn(e._key.path),o={next:t=>{n[i]&&n[i](fl(l,e,t))},error:n[i+1],complete:n[i+2]};else{const t=ue(e,$o);l=ue(t.firestore,sa),c=t._query;const r=new sl(l);o={next:e=>{n[i]&&n[i](new rl(l,r,t,e))},error:n[i+1],complete:n[i+2]},Pa(e._query)}return function(e,t,n,r){const A=new xo(r),i=new Zs(t,A,n);return e.asyncQueue.enqueueAndForget((async()=>zs(await jo(e),i))),()=>{A.Nu(),e.asyncQueue.enqueueAndForget((async()=>Ws(await jo(e),i)))}}(aa(l),c,s,o)}function dl(e,t){return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=No(e);try{const e=await function(e,t){const n=x(e),r=pe.now(),A=t.reduce(((e,t)=>e.add(t.key)),or());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Jn(),a=or();return n.Ns.getEntries(e,A).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(a=a.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((A=>{i=A;const s=[];for(const e of t){const t=Qr(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Mr(e.key,t,rn(t.value.mapValue),Tr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,a);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:tr(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ut(X)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await So(r,e.changes),await bs(r.remoteStore)}catch(e){const t=ks(e,"Failed to persist write");n.reject(t)}}(await Ho(e),t,n))),n.promise}(aa(e),t)}function fl(e,t,n){const r=n.docs.get(t._key),A=new sl(e);return new tl(e,A,t._key,r,new el(n.hasPendingWrites,n.fromCache),t.converter)}function gl(){return new Ia("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){I=e}(i.MF),(0,i.om)(new s.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:A}=n;const i=e.getProvider("app").getImmediate(),s=new sa(new H(e.getProvider("auth-internal")),new G(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dt(e.options.projectId,t)}(i,r),i);return A={useFetchStreams:t,...A},s._setSettings(A),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(B,v,e),(0,i.KO)(B,v,"esm2020")}()},672:(e,t,n)=>{"use strict";var r=n(43);function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(A(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(A(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=a.T,n=s.p;try{if(a.T=null,s.p=2,e)return e()}finally{a.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),A="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:A,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:A,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},t.useFormStatus=function(){return a.H.useHostTransitionStatus()},t.version="19.0.0"},776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>f,FA:()=>Q,g:()=>D,u:()=>o,Uj:()=>s,Fy:()=>m,tD:()=>H,bD:()=>M,hp:()=>P,T9:()=>h,Tj:()=>c,yU:()=>u,XA:()=>d,mS:()=>a,Ku:()=>K,ZQ:()=>B,sr:()=>b,zJ:()=>g,c1:()=>I,Im:()=>R,lT:()=>T,zW:()=>N,jZ:()=>v,lV:()=>S,nr:()=>_,Ov:()=>F,gE:()=>p,Am:()=>L,I9:()=>k,P1:()=>C,eX:()=>U});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let A=e.charCodeAt(r);A<128?t[n++]=A:A<2048?(t[n++]=A>>6|192,t[n++]=63&A|128):55296===(64512&A)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(A=65536+((1023&A)<<10)+(1023&e.charCodeAt(++r)),t[n++]=A>>18|240,t[n++]=A>>12&63|128,t[n++]=A>>6&63|128,t[n++]=63&A|128):(t[n++]=A>>12|224,t[n++]=A>>6&63|128,t[n++]=63&A|128)}return t},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let A=0;A<e.length;A+=3){const t=e[A],i=A+1<e.length,s=i?e[A+1]:0,o=A+2<e.length,a=o?e[A+2]:0,l=t>>2,c=(3&t)<<4|s>>4;let u=(15&s)<<2|a>>6,h=63&a;o||(h=64,i||(u=64)),r.push(n[l],n[c],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const A=e[n++];if(A<128)t[r++]=String.fromCharCode(A);else if(A>191&&A<224){const i=e[n++];t[r++]=String.fromCharCode((31&A)<<6|63&i)}else if(A>239&&A<365){const i=((7&A)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&A)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let A=0;A<e.length;){const t=n[e.charAt(A++)],s=A<e.length?n[e.charAt(A)]:0;++A;const o=A<e.length?n[e.charAt(A)]:64;++A;const a=A<e.length?n[e.charAt(A)]:64;if(++A,null==t||null==s||null==o||null==a)throw new i;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return A.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return A.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const l=()=>{try{return a().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCkEYlreLoQFqrdN8eKASS20a6DaLpJtYE",REACT_APP_FIREBASE_APP_ID:"1:276613236544:web:b5419812728802e013dca5",REACT_APP_FIREBASE_AUTH_DOMAIN:"lista-de-compras-f67aa.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-2HFQ3BGVVF",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"276613236544",REACT_APP_FIREBASE_PROJECT_ID:"lista-de-compras-f67aa",REACT_APP_FIREBASE_STORAGE_BUCKET:"lista-de-compras-f67aa.appspot.com",REACT_APP_GOOGLE_CLIENT_ID:"276613236544-o2vmj2qckr31oqiiivg8bh1rggbji194.apps.googleusercontent.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},c=e=>l()?.emulatorHosts?.[e],u=e=>{const t=c(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>l()?.config,d=e=>l()?.[`_${e}`];class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p(e){return(await fetch(e,{credentials:"include"})).ok}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,A=e.sub||e.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}},...e};return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(i)),""].join(".")}const w={};let y=!1;function C(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||w[e]===t||w[e]||y)return;function n(e){return`__firebase__banner__${e}`}w[e]=t;const r="__firebase__banner",A=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(w))w[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{y=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),a=document.getElementById(o)||document.createElement("a"),l=n("preprendIcon"),c=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(a,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,l),t.append(c,s,a,n),document.body.appendChild(t)}A?(s.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function E(){const e=l()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function I(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=B();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return!E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){return!E()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}function U(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(r);A.onsuccess=()=>{A.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},A.onupgradeneeded=()=>{n=!1},A.onerror=()=>{t(A.error?.message||"")}}catch(n){t(n)}}))}class D extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],A=r?function(e,t){return e.replace(x,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${A} (${n}).`;return new D(n,i,t)}}const x=/\{\$([^}]+)}/g;function R(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const A of n){if(!r.includes(A))return!1;const n=e[A],i=t[A];if(O(n)&&O(i)){if(!M(n,i))return!1}else if(n!==i)return!1}for(const A of r)if(!n.includes(A))return!1;return!0}function O(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function k(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function H(e,t){const n=new j(e,t);return n.subscribe.bind(n)}class j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),A}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function V(){}function K(e){return e&&e._delegate?e._delegate:e}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function A(e,t,r){var A=null;if(void 0!==r&&(A=""+r),void 0!==t.key&&(A=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:A,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=A,t.jsxs=A},823:(e,t,n)=>{"use strict";n.d(t,{HF:()=>Ye,xI:()=>Qn,hg:()=>at,x9:()=>ot,df:()=>Wt,CI:()=>lt});var r=n(232),A=n(776),i=n(965),s=n(606);function o(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a=o,l=new A.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),c=new i.Vy("@firebase/auth");function u(e){if(c.logLevel<=i.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];c.error(`Auth (${r.MF}): ${e}`,...n)}}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw m(e,...n)}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e,...n)}function f(e,t,n){const r={...a(),[t]:n};return new A.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return f(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&h(e,"argument-error"),f(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return l.create(e,...n)}function w(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),A=2;A<n;A++)r[A-2]=arguments[A];throw m(t,...r)}}function y(e){const t="INTERNAL ASSERTION FAILED: "+e;throw u(t),new Error(t)}function C(e,t){e||y(t)}function B(){return"undefined"!==typeof self&&self.location?.href||""}function v(){return"http:"===E()||"https:"===E()}function E(){return"undefined"!==typeof self&&self.location?.protocol||null}class I{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,A.jZ)()||(0,A.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(v()||(0,A.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function b(e,t){C(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F=new I(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function U(e,t,n,r){return D(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=(0,A.Am)({key:e.config.apiKey,...s}).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:a,...i};return(0,A.c1)()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,A.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),S.fetch()(await x(e,e.config.apiHost,n,o),l)}))}async function D(e,t,n){e._canInitEmulator=!1;const r={...T,...t};try{const t=new M(e),A=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await A.json();if("needConfirmation"in i)throw O(e,"account-exists-with-different-credential",i);if(A.ok&&!("errorMessage"in i))return i;{const t=A.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw O(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw O(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw O(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw f(e,o,s);h(e,o)}}catch(i){if(i instanceof A.g)throw i;h(e,"network-request-failed",{message:String(i)})}}async function Q(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await U(e,t,n,r,A);return"mfaPendingCredential"in i&&h(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function x(e,t,n,r){const A=`${t}${n}?${r}`,i=e,s=i.config.emulator?b(e.config,A):`${e.config.apiScheme}://${A}`;if(_.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function R(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(d(this.auth,"network-request-failed"))),F.get())}))}}function O(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const A=d(e,t,r);return A.customData._tokenResponse=n,A}function L(e){return void 0!==e&&void 0!==e.enterprise}class k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return R(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function P(e,t){return U(e,"GET","/v2/recaptchaConfig",N(e,t))}async function H(e,t){return U(e,"POST","/v1/accounts:lookup",t)}function j(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function K(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return u("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,A.u)(n);return e?JSON.parse(e):(u("Failed to decode base64 JWT payload"),null)}catch(i){return u("Caught error parsing JWT payload as JSON",i?.toString()),null}}function G(e){const t=K(e);return w(t,"internal-error"),w("undefined"!==typeof t.exp,"internal-error"),w("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function z(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof A.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class W{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=j(this.lastLoginAt),this.creationTime=j(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){const t=e.auth,n=await e.getIdToken(),r=await z(e,H(t,{idToken:n}));w(r?.users.length,t,"internal-error");const A=r.users[0];e._notifyReloadListener(A);const i=A.providerUserInfo?.length?q(A.providerUserInfo):[],s=(o=e.providerData,a=i,[...o.filter((e=>!a.some((t=>t.providerId===e.providerId)))),...a]);var o,a;const l=e.isAnonymous,c=!(e.email&&A.passwordHash)&&!s?.length,u=!!l&&c,h={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:s,metadata:new X(A.createdAt,A.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function q(e){return e.map((e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w("undefined"!==typeof e.idToken,"internal-error"),w("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):G(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){w(0!==e.length,"internal-error");const t=G(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(w(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await D(e,{},(async()=>{const n=(0,A.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await x(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,A.zJ)(e.emulatorConfig.host)&&(a.credentials="include"),S.fetch()(s,a)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:A}=t,i=new $;return n&&(w("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(w("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),A&&(w("number"===typeof A,"internal-error",{appName:e}),i.expirationTime=A),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return y("not implemented")}}function J(e,t){w("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...A}=e;this.providerId="firebase",this.proactiveRefresh=new W(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new X(A.createdAt||void 0,A.lastLoginAt||void 0)}async getIdToken(e){const t=await z(this,this.stsTokenManager.getToken(this.auth,e));return w(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,A.Ku)(e),r=await n.getIdToken(t),i=K(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:j(V(i.auth_time)),issuedAtTime:j(V(i.iat)),expirationTime:j(V(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=(0,A.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>({...e}))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await z(this,async function(e,t){return U(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>({...e}))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,A=t.phoneNumber??void 0,i=t.photoURL??void 0,s=t.tenantId??void 0,o=t._redirectEventId??void 0,a=t.createdAt??void 0,l=t.lastLoginAt??void 0,{uid:c,emailVerified:u,isAnonymous:h,providerData:d,stsTokenManager:f}=t;w(c&&f,e,"internal-error");const g=$.fromJSON(this.name,f);w("string"===typeof c,e,"internal-error"),J(n,e.name),J(r,e.name),w("boolean"===typeof u,e,"internal-error"),w("boolean"===typeof h,e,"internal-error"),J(A,e.name),J(i,e.name),J(s,e.name),J(o,e.name),J(a,e.name),J(l,e.name);const p=new Z({uid:c,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:A,tenantId:s,stsTokenManager:g,createdAt:a,lastLoginAt:l});return d&&Array.isArray(d)&&(p.providerData=d.map((e=>({...e})))),o&&(p._redirectEventId=o),p}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new $;r.updateFromServerResponse(t);const A=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(A),A}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];w(void 0!==r.localId,"internal-error");const A=void 0!==r.providerUserInfo?q(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!A?.length,s=new $;s.updateFromIdToken(n);const o=new Z({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),a={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:A,metadata:new X(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!A?.length};return Object.assign(o,a),o}}const ee=new Map;function te(e){C(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function Ae(e,t,n){return`firebase:${e}:${t}:${n}`}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:A}=this.auth;this.fullUserKey=Ae(this.userKey,r.apiKey,A),this.fullPersistenceKey=Ae("persistence",r.apiKey,A),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await H(this.auth,{idToken:e}).catch((()=>{}));return t?Z._fromGetAccountInfoResponse(this.auth,t,e):null}return Z._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(te(re),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let A=r[0]||te(re);const i=Ae(n,e.config.apiKey,e.name);let s=null;for(const a of t)try{const t=await a._get(i);if(t){let n;if("string"===typeof t){const r=await H(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Z._fromGetAccountInfoResponse(e,r,t)}else n=Z._fromJSON(e,t);a!==A&&(s=n),A=a;break}}catch{}const o=r.filter((e=>e._shouldAllowMigration));return A._shouldAllowMigration&&o.length?(A=o[0],s&&await A._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==A)try{await e._remove(i)}catch{}}))),new ie(A,e,n)):new ie(A,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(de(t))return"Webos";if(ae(t))return"Safari";if((t.includes("chrome/")||le(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/firefox\//i.test(e)}function ae(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/blackberry/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)();return fe(e)||ue(e)||de(e)||he(e)||/windows phone/i.test(e)||ce(e)}function pe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se((0,A.ZQ)());break;case"Worker":t=`${se((0,A.ZQ)())}-${e}`;break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${r.MF}/${i}`}class me{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(A){r(A)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}class we{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,A){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=A))}}class ye{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.beforeStateQueue=new me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue((async()=>{if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(n){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,A=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,r=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==r||!i?.user||(n=i.user,A=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(A)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=t,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(i)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,A.Ku)(e):null;return t&&w(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(te(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return U(e,"GET","/v2/passwordPolicy",N(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new we(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new A.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return U(e,"POST","/v2/accounts:revokeToken",N(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;w(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue((async()=>{})),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const A="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(w(s,this,"internal-error"),s.then((()=>{i||A(this.currentUser)})),"function"===typeof t){const A=e.addObserver(t,n,r);return()=>{i=!0,A()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(c.logLevel<=i.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];c.warn(`Auth (${r.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ce(e){return(0,A.Ku)(e)}class Be{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,A.tD)((e=>this.observer=e))}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ve={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ee(e){return ve.loadJS(e)}function Ie(e){return`__${e}${Math.floor(1e6*Math.random())}`}class be{constructor(){this.enterprise=new Se}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Se{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Te="NO_RECAPTCHA";class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=Ce(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const A=window.grecaptcha;L(A)?A.enterprise.ready((()=>{A.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Te)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new be).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{P(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new k(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((A=>{if(!t&&L(window.grecaptcha))n(A,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ve.recaptchaEnterpriseScript;0!==t.length&&(t+=A),Ee(t).then((()=>{n(A,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new _e(e);let s;if(A)s=Te;else try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ne(e,t,n,r,A){if("EMAIL_PASSWORD_PROVIDER"===A){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const A=await Fe(e,t,n,"getOobCode"===n);return r(e,A)}return r(e,t).catch((async A=>{if("auth/missing-recaptcha-token"===A.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await Fe(e,t,n,"getOobCode"===n);return r(e,A)}return Promise.reject(A)}))}if("PHONE_PROVIDER"===A){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const A=await Fe(e,t,n);return r(e,A).catch((async A=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===A.code||"auth/invalid-app-credential"===A.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const A=await Fe(e,t,n,!1,!0);return r(e,A)}return Promise.reject(A)}))}{const A=await Fe(e,t,n,!1,!0);return r(e,A)}}return Promise.reject(A+" provider is not supported.")}async function Ue(e){const t=Ce(e),n=await P(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new k(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _e(t).verify()}}function De(e,t,n){const r=Ce(e);w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Qe(t),{host:o,port:a}=function(e){const t=Qe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(r);if(A){const e=A[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t),l=null===a?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return w(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void w((0,A.bD)(c,r.config.emulator)&&(0,A.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,A.zJ)(o)?((0,A.gE)(`${s}//${o}${l}`),(0,A.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function Me(e,t){return U(e,"POST","/v1/accounts:signUp",t)}async function Oe(e,t){return Q(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}class Le extends Re{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Le(e,t,"password")}static _fromEmailAndCode(e,t){return new Le(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ne(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Q(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Me,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Q(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ke(e,t){return Q(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class Pe extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...A}=t;if(!n||!r)return null;const i=new Pe(n,r);return i.idToken=A.idToken||void 0,i.accessToken=A.accessToken||void 0,i.secret=A.secret,i.nonce=A.nonce,i.pendingToken=A.pendingToken||null,i}_getIdTokenResponse(e){return ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ke(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,A.Am)(t)}return e}}async function He(e,t){return U(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}const je={USER_NOT_FOUND:"user-not-found"};class Ve extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ve({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ve({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Q(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Q(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw O(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Q(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,{...t,operation:"REAUTH"}),je)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:A}=e;return n||t||r||A?new Ve({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:A}):null}}class Ke{constructor(e){const t=(0,A.I9)((0,A.hp)(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);w(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=(0,A.I9)((0,A.hp)(e)).link,n=t?(0,A.I9)((0,A.hp)(t)).deep_link_id:null,r=(0,A.I9)((0,A.hp)(e)).deep_link_id;return(r?(0,A.I9)((0,A.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ke(t)}catch{return null}}}class Ge{constructor(){this.providerId=Ge.PROVIDER_ID}static credential(e,t){return Le._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return w(n,"argument-error"),Le._fromEmailAndCode(e,n.code,n.tenantId)}}Ge.PROVIDER_ID="password",Ge.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ge.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class We extends ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xe extends We{constructor(){super("facebook.com")}static credential(e){return Pe._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xe.credential(t.oauthAccessToken)}catch{return null}}}Xe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xe.PROVIDER_ID="facebook.com";class Ye extends We{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pe._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ye.credential(n,r)}catch{return null}}}Ye.GOOGLE_SIGN_IN_METHOD="google.com",Ye.PROVIDER_ID="google.com";class qe extends We{constructor(){super("github.com")}static credential(e){return Pe._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qe.credential(t.oauthAccessToken)}catch{return null}}}qe.GITHUB_SIGN_IN_METHOD="github.com",qe.PROVIDER_ID="github.com";class $e extends We{constructor(){super("twitter.com")}static credential(e,t){return Pe._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $e.credential(n,r)}catch{return null}}}$e.TWITTER_SIGN_IN_METHOD="twitter.com",$e.PROVIDER_ID="twitter.com";class Je{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const A=await Z._fromIdTokenResponse(e,n,r),i=Ze(n);return new Je({user:A,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ze(n);return new Je({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ze(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class et extends A.g{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,et.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new et(e,t,n,r)}}function tt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw et._fromErrorAndOperation(e,n,t,r);throw n}))}async function nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Je._forOperation(e,"link",r)}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:A}=e;if((0,r.xZ)(A.app))return Promise.reject(g(A));const i="reauthenticate";try{const r=await z(e,tt(A,i,t,e),n);w(r.idToken,A,"internal-error");const s=K(r.idToken);w(s,A,"internal-error");const{sub:o}=s;return w(e.uid===o,A,"user-mismatch"),Je._forOperation(e,i,r)}catch(s){throw"auth/user-not-found"===s?.code&&h(A,"user-mismatch"),s}}async function At(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const A="signIn",i=await tt(e,A,t),s=await Je._fromIdTokenResponse(e,A,i);return n||await e._updateCurrentUser(s.user),s}async function it(e,t){return At(Ce(e),t)}async function st(e){const t=Ce(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ot(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):it((0,A.Ku)(e),Ge.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&st(e),t}))}function at(e,t,n,r){return(0,A.Ku)(e).onAuthStateChanged(t,n,r)}function lt(e){return(0,A.Ku)(e).signOut()}function ct(e,t){return U(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}new WeakMap;const ut="__sak";class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ut,"1"),this.storage.removeItem(ut),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dt extends ht{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,A.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dt.type="LOCAL";const ft=dt;function gt(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function pt(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class mt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=pt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return gt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=pt(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=pt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=gt(n);const A=setInterval((()=>{const e=gt(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(A)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}mt.type="COOKIE";class wt extends ht{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wt.type="SESSION";const yt=wt;class Ct{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ct(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:A}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,A))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ct.receivers=[];class vt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let A,i;return new Promise(((s,o)=>{const a=Bt("",20);r.port1.start();const l=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===a)switch(t.data.status){case"ack":clearTimeout(l),A=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(A),s(t.data.response);break;default:clearTimeout(l),clearTimeout(A),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:a,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Et(){return window}function It(){return"undefined"!==typeof Et().WorkerGlobalScope&&"function"===typeof Et().importScripts}const bt="firebaseLocalStorageDb",St="firebaseLocalStorage",Tt="fbase_key";class _t{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ft(e,t){return e.transaction([St],t?"readwrite":"readonly").objectStore(St)}function Nt(){const e=indexedDB.open(bt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(St,{keyPath:Tt})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(St)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bt);return new _t(e).toPromise()}(),t(await Nt()))}))}))}async function Ut(e,t,n){const r=Ft(e,!0).put({[Tt]:t,value:n});return new _t(r).toPromise()}function Dt(e,t){const n=Ft(e,!0).delete(t);return new _t(n).toPromise()}class Qt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Nt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return It()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ct._getInstance(It()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new vt(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nt();return await Ut(e,ut,"1"),await Dt(e,ut),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ut(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ft(e,!1).get(t),r=await new _t(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Dt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ft(e,!1).getAll();return new _t(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:A}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(A)&&(this.notifyListeners(r,A),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qt.type="LOCAL";const xt=Qt;function Rt(e,t){return U(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}Ie("rcb"),new I(3e4,6e4);const Mt="recaptcha";async function Ot(e,t,n){if(!e._getRecaptchaConfig())try{await Ue(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){w("enroll"===t.type,e,"internal-error");const A={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ne(e,A,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Te){w(n?.type===Mt,e,"argument-error");return ct(e,await Lt(e,t,n))}return ct(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{w("signin"===t.type,e,"internal-error");const A=r.multiFactorHint?.uid||r.multiFactorUid;w(A,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:A,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ne(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Te){w(n?.type===Mt,e,"argument-error");return Rt(e,await Lt(e,t,n))}return Rt(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},A=Ne(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Te){w(n?.type===Mt,e,"argument-error");return He(e,await Lt(e,t,n))}return He(e,t)}),"PHONE_PROVIDER");return(await A.catch((e=>Promise.reject(e)))).sessionInfo}}finally{n?._reset()}}async function Lt(e,t,n){w(n.type===Mt,e,"argument-error");const r=await n.verify();w("string"===typeof r,e,"argument-error");const A={...t};if("phoneEnrollmentInfo"in A){const e=A.phoneEnrollmentInfo.phoneNumber,t=A.phoneEnrollmentInfo.captchaResponse,n=A.phoneEnrollmentInfo.clientType,i=A.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(A,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),A}if("phoneSignInInfo"in A){const e=A.phoneSignInInfo.captchaResponse,t=A.phoneSignInInfo.clientType,n=A.phoneSignInInfo.recaptchaVersion;return Object.assign(A,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),A}return Object.assign(A,{recaptchaToken:r}),A}class kt{constructor(e){this.providerId=kt.PROVIDER_ID,this.auth=Ce(e)}verifyPhoneNumber(e,t){return Ot(this.auth,e,(0,A.Ku)(t))}static credential(e,t){return Ve._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kt.credentialFromTaggedObject(t)}static credentialFromError(e){return kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ve._fromTokenResponse(n,r):null}}function Pt(e,t){return t?te(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kt.PROVIDER_ID="phone",kt.PHONE_SIGN_IN_METHOD="phone";class Ht extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ke(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jt(e){return At(e.auth,new Ht(e),e.bypassAuthState)}function Vt(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),rt(n,new Ht(e),e.bypassAuthState)}async function Kt(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),nt(n,new Ht(e),e.bypassAuthState)}class Gt{constructor(e,t,n,r){let A=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:A,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:A||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(a){this.reject(a)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jt;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return Vt;default:h(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zt=new I(2e3,1e4);async function Wt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(d(e,"operation-not-supported-in-this-environment"));const A=Ce(e);p(e,t,ze);const i=Pt(A,n);return new Xt(A,"signInViaPopup",t,i).executeNotNull()}class Xt extends Gt{constructor(e,t,n,r,A){super(e,t,r,A),this.provider=n,this.authWindow=null,this.pollId=null,Xt.currentPopupAction&&Xt.currentPopupAction.cancel(),Xt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return w(e,this.auth,"internal-error"),e}async onExecution(){C(1===this.filter.length,"Popup operations only handle one event");const e=Bt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(d(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(d(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xt.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(d(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,zt.get())};e()}}Xt.currentPopupAction=null;const Yt=new Map;class qt extends Gt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Yt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Zt(t),r=Jt(e);if(!await r._isAvailable())return!1;const A="true"===await r._get(n);return await r._remove(n),A}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Yt.set(this.auth._key(),e)}return this.bypassAuthState||Yt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function $t(e,t){Yt.set(e._key(),t)}function Jt(e){return te(e._redirectPersistence)}function Zt(e){return Ae("pendingRedirect",e.config.apiKey,e.name)}async function en(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const A=Ce(e),i=Pt(A,t),s=new qt(A,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await A._persistUserIfCurrent(o.user),await A._setRedirectUser(null,t)),o}class tn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!rn(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(d(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nn(e))}saveEventToCache(e){this.cachedEventUids.add(nn(e)),this.lastProcessedEventTime=Date.now()}}function nn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function rn(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const An=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sn=/^https?/;async function on(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return U(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(an(n))return}catch{}h(e,"unauthorized-domain")}function an(e){const t=B(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const A=new URL(e);return""===A.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&A.hostname===r}if(!sn.test(n))return!1;if(An.test(e))return r===e;const A=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(r)}const ln=new I(3e4,6e4);function cn(){const e=Et().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function un(e){return new Promise(((t,n)=>{function r(){cn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cn(),n(d(e,"network-request-failed"))},timeout:ln.get()})}if(Et().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Et().gapi?.load){const t=Ie("iframefcb");return Et()[t]=()=>{gapi.load?r():n(d(e,"network-request-failed"))},Ee(`${ve.gapiScript}?onload=${t}`).catch((e=>n(e)))}r()}})).catch((e=>{throw hn=null,e}))}let hn=null;const dn=new I(5e3,15e3),fn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pn(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?b(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:r.MF},s=gn.get(e.config.apiHost);s&&(i.eid=s);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${(0,A.Am)(i).slice(1)}`}async function mn(e){const t=await function(e){return hn=hn||un(e),hn}(e),n=Et().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:pn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const A=d(e,"network-request-failed"),i=Et().setTimeout((()=>{r(A)}),dn.get());function s(){Et().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(A)}))}))))}const wn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Cn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...wn,width:r.toString(),height:i.toString(),top:s,left:o},c=(0,A.ZQ)().toLowerCase();n&&(a=le(c)?"_blank":n),oe(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.ZQ)())&&!!window.navigator?.standalone}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new yn(null);const h=window.open(t||"",a,u);w(h,e,"popup-blocked");try{h.focus()}catch(d){}return new yn(h)}const Bn="__/auth/handler",vn="emulator/auth/handler",En=encodeURIComponent("fac");async function In(e,t,n,i,s,o){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:r.MF,eventId:s};if(t instanceof ze){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,A.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof We){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const r of Object.keys(l))void 0===l[r]&&delete l[r];const c=await e._getAppCheckToken(),u=c?`#${En}=${encodeURIComponent(c)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Bn}`;return b(t,vn)}(e)}?${(0,A.Am)(l).slice(1)}${u}`}const bn="webStorageSupport";const Sn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yt,this._completeRedirectFn=en,this._overrideRedirectResult=$t}async _openPopup(e,t,n,r){C(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Cn(e,await In(e,t,n,B(),r),Bt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Et().location.href=e}(await In(e,t,n,B(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await mn(e),n=new tn(e);return t.register("authEvent",(t=>{w(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bn,{type:bn},(n=>{const r=n?.[0]?.[bn];void 0!==r&&t(!!r),h(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=on(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||ae()||fe()}};var Tn="@firebase/auth",_n="1.11.0";class Fn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e(t?.stsTokenManager.accessToken||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nn=(0,A.XA)("authIdTokenMaxAge")||300;let Un=null;const Dn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nn)return;const A=n?.token;Un!==A&&(Un=A,await fetch(e,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))};function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,A.bD)(r,t??{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Sn,persistence:[xt,ft,yt]}),i=(0,A.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=Dn(e.toString());!function(e,t,n){(0,A.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,A.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const s=(0,A.Tj)("auth");return s&&De(n,`http://${s}`),n}var xn;ve={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=d("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},xn="Browser",(0,r.om)(new s.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),A=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;w(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:s,authDomain:o,clientPlatform:xn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pe(xn)},l=new ye(r,A,i,a);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(te);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new s.uA("auth-internal",(e=>(e=>new Fn(e))(Ce(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Tn,_n,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xn)),(0,r.KO)(Tn,_n,"esm2020")},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,A=e[r];if(!(0<i(A,t)))break e;e[r]=t,e[n]=A,n=r}}function r(e){return 0===e.length?null:e[0]}function A(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,A=e.length,s=A>>>1;r<s;){var o=2*(r+1)-1,a=e[o],l=o+1,c=e[l];if(0>i(a,n))l<A&&0>i(c,a)?(e[r]=c,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(l<A&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,g=!1,p=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=r(c);null!==t;){if(null===t.callback)A(c);else{if(!(t.startTime<=e))break;A(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function B(e){if(p=!1,C(e),!g)if(null!==r(l))g=!0,U();else{var t=r(c);null!==t&&D(B,t.startTime-e)}}var v,E=!1,I=-1,b=5,S=-1;function T(){return!(t.unstable_now()-S<b)}function _(){if(E){var e=t.unstable_now();S=e;var n=!0;try{e:{g=!1,p&&(p=!1,w(I),I=-1),f=!0;var i=d;try{t:{for(C(e),h=r(l);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,d=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,C(e),n=!0;break t}h===r(l)&&A(l),C(e)}else A(l);h=r(l)}if(null!==h)n=!0;else{var a=r(c);null!==a&&D(B,a.startTime-e),n=!1}}break e}finally{h=null,d=i,f=!1}n=void 0}}finally{n?v():E=!1}}}if("function"===typeof y)v=function(){y(_)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,N=F.port2;F.port1.onmessage=_,v=function(){N.postMessage(null)}}else v=function(){m(_,0)};function U(){E||(E=!0,v())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,U())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,A,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:A,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(p?(w(I),I=-1):p=!0,D(B,i-s))):(e.sortIndex=o,n(l,e),g||f||(g=!0,U())),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>A,Vy:()=>l});const r=[];var A;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(A||(A={}));const i={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},s=A.INFO,o={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},a=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var A=arguments.length,i=new Array(A>2?A-2:0),s=2;s<A;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=a,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in A))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...t),this._logHandler(this,A.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...t),this._logHandler(this,A.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.INFO,...t),this._logHandler(this,A.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.WARN,...t),this._logHandler(this,A.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...t),this._logHandler(this,A.ERROR,...t)}}}},t={};function n(r){var A=t[r];if(void 0!==A)return A.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".8bb9739f.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="sistemadevendas1.0:";n.l=(r,A,i,s)=>{if(e[r])e[r].push(A);else{var o,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[A];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var A=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),A&&A.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var A=n.o(e,t)?e[t]:void 0;if(0!==A)if(A)r.push(A[2]);else{var i=new Promise(((n,r)=>A=e[t]=[n,r]));r.push(A[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(A=e[t])&&(e[t]=void 0),A)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,A[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var A,i,s=r[0],o=r[1],a=r[2],l=0;if(s.some((t=>0!==e[t]))){for(A in o)n.o(o,A)&&(n.m[A]=o[A]);if(a)a(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunksistemadevendas1_0=self.webpackChunksistemadevendas1_0||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r="popstate";function A(){return u((function(e,t){let{pathname:n,search:r,hash:A}=e.location;return a("",{pathname:n,search:r,hash:A},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:l(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?c(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function c(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function u(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=A,l=i.history,c="POP",u=null,d=f();function f(){return(l.state||{idx:null}).idx}function g(){c="POP";let e=f(),t=null==e?null:e-d;d=e,u&&u({action:c,location:m.location,delta:t})}function p(e){return h(e)}null==d&&(d=0,l.replaceState({...l.state,idx:d},""));let m={get action(){return c},get location(){return e(i,l)},listen(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(r,g),u=e,()=>{i.removeEventListener(r,g),u=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=a(m.location,e,t);n&&n(r,e),d=f()+1;let A=o(r,d),h=m.createHref(r);try{l.pushState(A,"",h)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;i.location.assign(h)}s&&u&&u({action:c,location:m.location,delta:1})},replace:function(e,t){c="REPLACE";let r=a(m.location,e,t);n&&n(r,e),d=f();let A=o(r,d),i=m.createHref(r);l.replaceState(A,"",i),s&&u&&u({action:c,location:m.location,delta:0})},go:e=>l.go(e)};return m}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:l(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function d(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function f(e,t,n,r){let A=F(("string"===typeof t?c(t):t).pathname||"/",n);if(null==A)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=_(A);s=b(i[o],e,r)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",A=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;i(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=x([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),g(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:I(c,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of p(e.path))s(e,t,!0,n);else s(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,A=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return A?[i,""]:[i];let s=p(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),A&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var m=/^:[\w-]+$/,w=3,y=2,C=1,B=10,v=-2,E=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=v),t&&(r+=y),n.filter((e=>!E(e))).reduce(((e,t)=>e+(m.test(t)?w:""===t?C:B)),r)}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,A={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],a=o===r.length-1,l="/"===i?t:t.slice(i.length)||"/",c=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l),u=e.route;if(!c&&a&&n&&!r[r.length-1].route.index&&(c=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(A,c.params),s.push({params:A,pathname:x([i,c.pathname]),pathnameBase:R(x([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=x([i,c.pathnameBase]))}return s}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T(e.path,e.caseSensitive,e.end),A=t.match(n);if(!A)return null;let i=A[0],s=i.replace(/(.)\/+$/,"$1"),o=A.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:A}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[n];return e[r]=A&&!a?void 0:(a||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],A="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"))).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),A+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?A+="\\/*$":""!==e&&"/"!==e&&(A+="(?:(?=\\/|$))"),[new RegExp(A,t?void 0:"i"),r]}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e){let t=U(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Q(e,t,n){let r,A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=c(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),N("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),N("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),N("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!A&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:A=""}="string"===typeof e?c(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:M(r),hash:O(A)}}(r,s),u=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var x=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var k=["POST","PUT","PATCH","DELETE"],P=(new Set(k),["GET",...k]);new Set(P),Symbol("ResetLoaderData");var H=e.createContext(null);H.displayName="DataRouter";var j=e.createContext(null);j.displayName="DataRouterState";var V=e.createContext(!1);var K=e.createContext({isTransitioning:!1});K.displayName="ViewTransition";var G=e.createContext(new Map);G.displayName="Fetchers";var z=e.createContext(null);z.displayName="Await";var W=e.createContext(null);W.displayName="Navigation";var X=e.createContext(null);X.displayName="Location";var Y=e.createContext({outlet:null,matches:[],isDataRoute:!1});Y.displayName="Route";var q=e.createContext(null);q.displayName="RouteError";function $(){return null!=e.useContext(X)}function J(){return i($(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(X).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(t){e.useContext(W).static||e.useLayoutEffect(t)}function te(){let{isDataRoute:t}=e.useContext(Y);return t?function(){let{router:t}=ce("useNavigate"),n=he("useNavigate"),r=e.useRef(!1);ee((()=>{r.current=!0}));let A=e.useCallback((async function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Z),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...A}))}),[t,n]);return A}():function(){i($(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(H),{basename:n,navigator:r}=e.useContext(W),{matches:A}=e.useContext(Y),{pathname:o}=J(),a=JSON.stringify(D(A)),l=e.useRef(!1);ee((()=>{l.current=!0}));let c=e.useCallback((function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(l.current,Z),!l.current)return;if("number"===typeof e)return void r.go(e);let i=Q(e,JSON.parse(a),o,"path"===A.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:x([n,i.pathname])),(A.replace?r.replace:r.push)(i,A.state,A)}),[n,r,a,o,t]);return c}()}e.createContext(null);function ne(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Y),{pathname:A}=J(),i=JSON.stringify(D(r));return e.useMemo((()=>Q(t,JSON.parse(i),A,"path"===n)),[t,i,A,n])}function re(t,n,r,A,o){i($(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(W),{matches:l}=e.useContext(Y),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",p=u&&u.route;{let e=p&&p.path||"";ge(f,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let m,w=J();if(n){let e="string"===typeof n?c(n):n;i("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),m=e}else m=w;let y=m.pathname||"/",C=y;if("/"!==g){let e=g.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let B=d(t,{pathname:C});s(p||null!=B,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),s(null==B||void 0!==B[B.length-1].route.element||void 0!==B[B.length-1].route.Component||void 0!==B[B.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=ae(B&&B.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:x([g,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:x([g,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])}))),l,r,A,o);return n&&v?e.createElement(X.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function Ae(){let t=de(),n=L(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,A="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:A},s={padding:"2px 4px",backgroundColor:A},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,o)}var ie=e.createElement(Ae,null),se=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(Y.Provider,{value:this.props.routeContext},e.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(t){let{routeContext:n,match:r,children:A}=t,i=e.useContext(H);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Y.Provider,{value:n},A)}function ae(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let s=t,o=r?.errors;if(null!=o){let e=s.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,A=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||A){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight(((t,i,c)=>{let u,h=!1,d=null,f=null;r&&(u=o&&i.route.id?o[i.route.id]:void 0,d=i.route.errorElement||ie,a&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,c+1)),p=()=>{let n;return n=u?d:h?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(oe,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?e.createElement(se,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:A}):p()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(t){let n=e.useContext(H);return i(n,le(t)),n}function ue(t){let n=e.useContext(j);return i(n,le(t)),n}function he(t){let n=function(t){let n=e.useContext(Y);return i(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function de(){let t=e.useContext(q),n=ue("useRouteError"),r=he("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function ge(e,t,n){t||fe[e]||(fe[e]=!0,s(!1,n))}var pe={};function me(e,t){e||pe[t]||(pe[t]=!0,console.warn(t))}e.memo((function(e){let{routes:t,future:n,state:r,unstable_onError:A}=e;return re(t,void 0,r,A,n)}));function we(t){let{to:n,replace:r,state:A,relative:o}=t;i($(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=e.useContext(W);s(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=e.useContext(Y),{pathname:c}=J(),u=te(),h=Q(n,D(l),c,"path"===o),d=JSON.stringify(h);return e.useEffect((()=>{u(JSON.parse(d),{replace:r,state:A,relative:o})}),[u,d,o,r,A]),null}function ye(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ce(t){let{basename:n="/",children:r=null,location:A,navigationType:o="POP",navigator:a,static:l=!1}=t;i(!$(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:u,navigator:a,static:l,future:{}})),[u,a,l]);"string"===typeof A&&(A=c(A));let{pathname:d="/",search:f="",hash:g="",state:p=null,key:m="default"}=A,w=e.useMemo((()=>{let e=F(d,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:p,key:m},navigationType:o}}),[u,d,f,g,p,m,o]);return s(null!=w,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==w?null:e.createElement(W.Provider,{value:h},e.createElement(X.Provider,{children:r,value:w}))}function Be(e){let{children:t,location:n}=e;return re(ve(t),n)}e.Component;function ve(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,A)=>{if(!e.isValidElement(t))return;let s=[...n,A];if(t.type===e.Fragment)return void r.push.apply(r,ve(t.props.children,s));i(t.type===ye,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ve(t.props.children,s)),r.push(o)})),r}var Ee="get",Ie="application/x-www-form-urlencoded";function be(e){return null!=e&&"string"===typeof e.tagName}var Se=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _e(e){return null==e||Te.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ie}"`),null)}function Fe(e,t){let n,r,A,i,s;if(be(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?F(s,t):null,n=e.getAttribute("method")||Ee,A=_e(e.getAttribute("enctype"))||Ie,i=new FormData(e)}else if(function(e){return be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?F(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ee,A=_e(e.getAttribute("formenctype"))||_e(s.getAttribute("enctype"))||Ie,i=new FormData(s,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ee,r=null,A=Ie,s=e}var o;return i&&"text/plain"===A&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:A,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ne(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ue(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===F(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function De(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Qe(e){return null!=e&&"string"===typeof e.page}function xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Re(e,t,n,r,A,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let a=r.routes[t.route.id];if(!a||!a.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Me(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let A=[r.module];return r.clientActionModule&&(A=A.concat(r.clientActionModule)),r.clientLoaderModule&&(A=A.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(A=A.concat(r.hydrateFallbackModule)),r.imports&&(A=A.concat(r.imports)),A})).flat(1),[...new Set(r)];var r}function Oe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,A)=>{if(t&&!Qe(A)&&"script"===A.as&&A.href&&r.has(A.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(A));return n.has(i)||(n.add(i),e.push({key:i,link:A})),e}),[])}function Le(e,t){return"lazy"===e.mode&&!0===t}function ke(){let t=e.useContext(H);return Ne(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pe(){let t=e.useContext(j);return Ne(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var He=e.createContext(void 0);function je(){let t=e.useContext(He);return Ne(t,"You must render this element inside a <HydratedRouter> element"),t}function Ve(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Xe)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}He.displayName="FrameworkContext";function Ge(t){let{page:n,...r}=t,{router:A}=ke(),i=e.useMemo((()=>d(A.routes,n,A.basename)),[A.routes,n,A.basename]);return i?e.createElement(We,{page:n,matches:i,...r}):null}function ze(t){let{manifest:n,routeModules:r}=je(),[A,i]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Oe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await De(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(xe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||i(t)})),()=>{e=!0}}),[t,n,r]),A}function We(t){let{page:n,matches:r,...A}=t,i=J(),{manifest:s,routeModules:o}=je(),{basename:a}=ke(),{loaderData:l,matches:c}=Pe(),u=e.useMemo((()=>Re(n,r,c,s,i,"data")),[n,r,c,s,i]),h=e.useMemo((()=>Re(n,r,c,s,i,"assets")),[n,r,c,s,i]),d=e.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in l&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let A=Ue(n,a,"data");return t&&e.size>0&&A.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[A.pathname+A.search]}),[a,l,i,s,u,r,n,o]),f=e.useMemo((()=>Me(h,s)),[h,s]),g=ze(h);return e.createElement(e.Fragment,null,d.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...A}))),f.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...A}))),g.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,nonce:A.nonce,...r})})))}var Xe=!1;function Ye(t){let{manifest:n,serverHandoffString:r,isSpaMode:A,renderMeta:i,routeDiscovery:s,ssr:o}=je(),{router:a,static:l,staticContext:c}=ke(),{matches:u}=Pe(),h=e.useContext(V),f=Le(s,o);i&&(i.didRenderScripts=!0);let g=Ke(u,null,A);e.useEffect((()=>{0}),[]);let p=e.useMemo((()=>{if(h)return null;let A=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(n.url)}`};\n${g.map(((e,t)=>{let r=`route${t}`,A=n.routes[e.route.id];Ne(A,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:a,module:l}=A,c=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...a?[{module:a,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,A=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach((e=>{let n=d(t.routes,e,t.basename);n&&n.forEach((e=>A.add(e.route.id)))}));let o=[...A].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(n,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${g.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:A},type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0}))}),[]),m=Xe||h?[]:(n.entry.imports.concat(Me(g,n,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let y="object"===typeof n.sri?n.sri:{};return me(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Xe||h?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,f?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:y[n],suppressHydrationWarning:!0}))),p)}function qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}e.Component;function $e(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let A,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(L(n))return e.createElement(Je,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Je,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},A.stack),i)}function Je(t){let{title:n,renderScripts:r,isOutsideRemixApp:A,children:i}=t,{routeModules:s}=je();return s.root?.Layout&&!A?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Ye,null):null)))}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ze&&(window.__reactRouterVersion="7.9.3")}catch(Sr){}function et(t){let{basename:n,children:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=A({window:i,v5Compat:!0}));let o=s.current,[a,l]=e.useState({action:o.action,location:o.location}),c=e.useCallback((t=>{e.startTransition((()=>l(t)))}),[l]);return e.useLayoutEffect((()=>o.listen(c)),[o,c]),e.createElement(Ce,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=e.forwardRef((function(t,n){let r,{onClick:A,discover:o="render",prefetch:a="none",relative:c,reloadDocument:u,replace:h,state:d,target:f,to:g,preventScrollReset:p,viewTransition:m,...w}=t,{basename:y}=e.useContext(W),C="string"===typeof g&&tt.test(g),B=!1;if("string"===typeof g&&C&&(r=g,Ze))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=F(t.pathname,y);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:B=!0}catch(Sr){s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i($(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:A}=e.useContext(W),{hash:s,pathname:o,search:a}=ne(t,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:x([r,o])),A.createHref({pathname:l,search:a,hash:s})}(g,{relative:c}),[E,I,b]=function(t,n){let r=e.useContext(He),[A,i]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=n,d=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return d.current&&e.observe(d.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(A){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[A]);let f=()=>{i(!0)},g=()=>{i(!1),o(!1)};return r?"intent"!==t?[s,d,{}]:[s,d,{onFocus:Ve(a,f),onBlur:Ve(l,g),onMouseEnter:Ve(c,f),onMouseLeave:Ve(u,g),onTouchStart:Ve(h,f)}]:[!1,d,{}]}(a,w),S=function(t){let{target:n,replace:r,state:A,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=te(),c=J(),u=ne(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:l(c)===l(u);a(t,{replace:n,state:A,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,a,u,r,A,n,t,i,s,o])}(g,{replace:h,state:d,target:f,preventScrollReset:p,relative:c,viewTransition:m});let T=e.createElement("a",{...w,...b,href:r||v,onClick:B||u?A:function(e){A&&A(e),e.defaultPrevented||S(e)},ref:qe(n,I),target:f,"data-discover":C||"render"!==o?void 0:"true"});return E&&!C?e.createElement(e.Fragment,null,T,e.createElement(Ge,{page:v})):T}));nt.displayName="Link";var rt=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:A=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u,...h}=t,d=ne(l,{relative:h.relative}),f=J(),g=e.useContext(j),{navigator:p,basename:m}=e.useContext(W),w=null!=g&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(K);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:A}=st("useViewTransitionState"),s=ne(t,{relative:n});if(!r.isTransitioning)return!1;let o=F(r.currentLocation.pathname,A)||r.currentLocation.pathname,a=F(r.nextLocation.pathname,A)||r.nextLocation.pathname;return null!=S(s.pathname,a)||null!=S(s.pathname,o)}(d)&&!0===c,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,C=f.pathname,B=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;A||(C=C.toLowerCase(),B=B?B.toLowerCase():null,y=y.toLowerCase()),B&&m&&(B=F(B,m)||B);const v="/"!==y&&y.endsWith("/")?y.length-1:y.length;let E,I=C===y||!o&&C.startsWith(y)&&"/"===C.charAt(v),b=null!=B&&(B===y||!o&&B.startsWith(y)&&"/"===B.charAt(y.length)),T={isActive:I,isPending:b,isTransitioning:w},_=I?r:void 0;E="function"===typeof s?s(T):[s,I?"active":null,b?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof a?a(T):a;return e.createElement(nt,{...h,"aria-current":_,className:E,ref:n,style:N,to:l,viewTransition:c},"function"===typeof u?u(T):u)}));rt.displayName="NavLink";var At=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:A,navigate:s,reloadDocument:o,replace:a,state:c,method:u=Ee,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:p,...m}=t,w=lt(),y=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(W),A=e.useContext(Y);i(A,"useFormAction must be used inside a RouteContext");let[s]=A.matches.slice(-1),o={...ne(t||".",{relative:n})},a=J();if(null==t){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:x([r,o.pathname]));return l(o)}(h,{relative:f}),C="get"===u.toLowerCase()?"get":"post",B="string"===typeof h&&tt.test(h);return e.createElement("form",{ref:n,method:C,action:y,onSubmit:o?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;w(t||e.currentTarget,{fetcherKey:A,method:n,navigate:s,replace:a,state:c,relative:f,preventScrollReset:g,viewTransition:p})},...m,"data-discover":B||"render"!==r?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function st(t){let n=e.useContext(H);return i(n,it(t)),n}At.displayName="Form";var ot=0,at=()=>`__${String(++ot)}__`;function lt(){let{router:t}=st("useSubmit"),{basename:n}=e.useContext(W),r=he("useRouteId");return e.useCallback((async function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:a,body:l}=Fe(e,n);if(!1===A.navigate){let e=A.fetcherKey||at();await t.fetch(e,r,A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:l,formMethod:A.method||s,formEncType:A.encType||o,flushSync:A.flushSync})}else await t.navigate(A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:l,formMethod:A.method||s,formEncType:A.encType||o,replace:A.replace,state:A.state,fromRouteId:r,flushSync:A.flushSync,viewTransition:A.viewTransition})}),[t,n,r])}var ct=n(823),ut=n(662),ht=n(667),dt=n(579);const ft=t=>{let{onClose:n}=t;const[r,A]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)({}),[u,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)([]);(0,e.useEffect)((()=>{g()}),[]),(0,e.useEffect)((()=>{i.length>0&&p()}),[i]);const g=async()=>{try{const e=(await(0,ht.getDocs)((0,ht.collection)(ut.db,"users"))).docs.map((e=>{var t;return{id:e.id,...e.data(),displayName:e.data().name||(null===(t=e.data().email)||void 0===t?void 0:t.split("@")[0])}}));A(e)}catch(e){console.error("Erro ao carregar usu\xe1rios:",e)}},p=async()=>{h(!0);try{const e=new Date,t=[];for(let r=6;r>=0;r--){const n=new Date(e);n.setDate(n.getDate()-r),t.push({date:n.toISOString().split("T")[0],dayName:n.toLocaleDateString("pt-BR",{weekday:"short"})})}const n={};for(const r of i){const e=[];for(const n of t){const[t,A,i]=n.date.split("-"),s=(0,ht.collection)(ut.db,`Vendas/${t}/${A}/${i}`),o=(0,ht.query)(s,(0,ht.where)("vendedor","==",r.displayName)),a=await(0,ht.getDocs)(o),l=a.docs.reduce(((e,t)=>e+(t.data().valorTotal||0)),0);e.push({date:n.date,dayName:n.dayName,total:l,count:a.docs.length})}n[r.displayName]=e}c(n),f(t)}catch(e){console.error("Erro ao carregar compara\xe7\xe3o:",e)}finally{h(!1)}},m=r.filter((e=>e.displayName.toLowerCase().includes(o.toLowerCase())&&!i.find((t=>t.id===e.id)))),w=["#4CAF50","#2196F3","#FF9800","#E91E63","#9C27B0","#00BCD4"],y=e=>(l[e]||[]).reduce(((e,t)=>e+t.total),0),C=e=>(l[e]||[]).reduce(((e,t)=>e+t.count),0);return(0,dt.jsx)("div",{className:"comparison-overlay",children:(0,dt.jsxs)("div",{className:"comparison-modal",children:[(0,dt.jsxs)("div",{className:"comparison-header",children:[(0,dt.jsx)("h2",{children:"\ud83d\udcca Comparar Vendedores"}),(0,dt.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),(0,dt.jsxs)("div",{className:"comparison-content",children:[(0,dt.jsxs)("div",{className:"user-selector",children:[(0,dt.jsx)("h3",{children:"Selecione os vendedores para comparar:"}),(0,dt.jsxs)("div",{className:"selected-users",children:[i.map(((e,t)=>(0,dt.jsxs)("div",{className:"selected-user-tag",style:{borderColor:w[t]},children:[(0,dt.jsx)("span",{className:"user-color",style:{backgroundColor:w[t]}}),(0,dt.jsx)("span",{children:e.displayName}),(0,dt.jsx)("button",{onClick:()=>{return t=e.id,void s(i.filter((e=>e.id!==t)));var t},children:"\u2715"})]},e.id))),i.length<6&&(0,dt.jsxs)("div",{className:"add-user-btn-container",children:[(0,dt.jsx)("input",{type:"text",placeholder:"Digite o nome...",value:o,onChange:e=>a(e.target.value),className:"user-search-input"}),(0,dt.jsx)("button",{className:"add-user-btn",children:"\u2795"})]})]}),o&&m.length>0&&(0,dt.jsx)("div",{className:"user-suggestions",children:m.slice(0,5).map((e=>(0,dt.jsx)("div",{className:"user-suggestion",onClick:()=>(e=>{i.find((t=>t.id===e.id))||(s([...i,e]),a(""))})(e),children:e.displayName},e.id)))})]}),i.length>0&&(0,dt.jsx)(dt.Fragment,{children:u?(0,dt.jsx)("div",{className:"loading",children:"Carregando dados..."}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("div",{className:"metrics-summary",children:i.map(((e,t)=>(0,dt.jsxs)("div",{className:"user-metric",style:{borderLeftColor:w[t]},children:[(0,dt.jsx)("h4",{children:e.displayName}),(0,dt.jsxs)("div",{className:"metric-value",children:["R$ ",y(e.displayName).toFixed(2)]}),(0,dt.jsxs)("div",{className:"metric-label",children:[C(e.displayName)," vendas"]})]},e.id)))}),(0,dt.jsxs)("div",{className:"chart-container",children:[(0,dt.jsx)("h3",{children:"Vendas por Dia da Semana"}),(0,dt.jsx)("div",{className:"bar-chart",children:d.map(((e,t)=>(0,dt.jsxs)("div",{className:"chart-day",children:[(0,dt.jsx)("div",{className:"chart-bars",children:i.map(((e,n)=>{const r=(l[e.displayName]||[])[t]||{total:0},A=(()=>{let e=0;return Object.values(l).forEach((t=>{t.forEach((t=>{t.total>e&&(e=t.total)}))})),e})(),i=A>0?r.total/A*100:0;return(0,dt.jsx)("div",{className:"chart-bar",style:{height:`${i}%`,backgroundColor:w[n],minHeight:r.total>0?"5px":"0"},title:`${e.displayName}: R$ ${r.total.toFixed(2)}`,children:r.total>0&&(0,dt.jsxs)("span",{className:"bar-value",children:["R$ ",r.total.toFixed(0)]})},n)}))}),(0,dt.jsx)("div",{className:"chart-label",children:e.dayName})]},t)))})]}),(0,dt.jsxs)("div",{className:"detailed-table",children:[(0,dt.jsx)("h3",{children:"Detalhamento por Dia"}),(0,dt.jsxs)("table",{children:[(0,dt.jsx)("thead",{children:(0,dt.jsxs)("tr",{children:[(0,dt.jsx)("th",{children:"Dia"}),i.map(((e,t)=>(0,dt.jsx)("th",{style:{color:w[t]},children:e.displayName},e.id)))]})}),(0,dt.jsxs)("tbody",{children:[d.map(((e,t)=>(0,dt.jsxs)("tr",{children:[(0,dt.jsx)("td",{children:(0,dt.jsx)("strong",{children:e.dayName})}),i.map((e=>{const n=(l[e.displayName]||[])[t]||{total:0,count:0};return(0,dt.jsxs)("td",{children:["R$ ",n.total.toFixed(2),(0,dt.jsx)("br",{}),(0,dt.jsxs)("small",{children:["(",n.count," vendas)"]})]},e.id)}))]},t))),(0,dt.jsxs)("tr",{className:"total-row",children:[(0,dt.jsx)("td",{children:(0,dt.jsx)("strong",{children:"TOTAL"})}),i.map((e=>(0,dt.jsxs)("td",{children:[(0,dt.jsxs)("strong",{children:["R$ ",y(e.displayName).toFixed(2)]}),(0,dt.jsx)("br",{}),(0,dt.jsxs)("small",{children:["(",C(e.displayName)," vendas)"]})]},e.id)))]})]})]})]})]})}),0===i.length&&(0,dt.jsx)("div",{className:"empty-state",children:(0,dt.jsx)("p",{children:"\ud83d\udc46 Selecione pelo menos um vendedor para come\xe7ar a compara\xe7\xe3o"})})]})]})})},gt=()=>{const[t,n]=(0,e.useState)({totalSales:0,totalRevenue:0,totalItems:0,recentSales:[],dailyCashFlow:0,monthlyCashFlow:0,todaySales:0,monthSales:0,weeklyData:[],topProducts:[],projectedRevenue:0,growthRate:0}),[r,A]=(0,e.useState)(!0),[i,s]=(0,e.useState)("today"),[o,a]=(0,e.useState)("usuario"),[l,c]=(0,e.useState)("user"),[u,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{d(),f()}),[o]);const d=async()=>{const e=ut.j.currentUser;if(e)try{const t=(0,ht.query)((0,ht.collection)(ut.db,"users"),(0,ht.where)("email","==",e.email)),n=await(0,ht.getDocs)(t);if(!n.empty){const e=n.docs[0].data();c(e.role||"user")}}catch(t){console.error("Erro ao carregar role:",t)}},f=async()=>{try{A(!0);const e=new Date,t=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();let s=0,a=0,l=0,c=0,u=0,h=0;const d=[],f=[],g={},p=(0,ht.collection)(ut.db,"Vendas"),m=await(0,ht.getDocs)(p),w=ut.j.currentUser,y=w?w.displayName||w.email:null,C=[];m.forEach((e=>{const t=e.data();if("usuario"===o&&t.vendedor!==y)return;let n;try{var r;n=null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():t.createdAt?new Date(t.createdAt):new Date}catch{n=new Date}C.push({id:e.id,...t,date:n})}));for(let n=6;n>=0;n--){const e=new Date;e.setDate(e.getDate()-n);const t=e.toDateString(),r=C.filter((e=>e.date.toDateString()===t));let A=0;r.forEach((e=>{const t=e.valorTotal||0;A+=t,e.itens&&e.itens.forEach((e=>{const t=e.nome||"Produto";g[t]=(g[t]||0)+e.quantidade})),0===n&&(u++,l+=t),d.length<5&&d.push({...e,date:e.date.toLocaleDateString("pt-BR")})})),f.push({day:e.toLocaleDateString("pt-BR",{weekday:"short"}),revenue:A,sales:r.length})}C.filter((e=>e.date.getMonth()===r-1&&e.date.getFullYear()===t)).forEach((e=>{const t=e.valorTotal||0;h++,c+=t,s++,a+=t}));const B=Object.entries(g).sort(((e,t)=>{let[,n]=e,[,r]=t;return r-n})).slice(0,5).map((e=>{let[t,n]=e;return{name:t,quantity:n}})),v=c/i*new Date(t,r,0).getDate(),E=f.slice(0,3).reduce(((e,t)=>e+t.revenue),0),I=f.slice(4,7).reduce(((e,t)=>e+t.revenue),0),b=E>0?(I-E)/E*100:0,S=(0,ht.query)((0,ht.collection)(ut.db,"inventory")),T=(await(0,ht.getDocs)(S)).size;n({totalSales:s,totalRevenue:a,totalItems:T,recentSales:d,dailyCashFlow:l,monthlyCashFlow:c,todaySales:u,monthSales:h,weeklyData:f,topProducts:B,projectedRevenue:v,growthRate:b})}catch(e){console.error("Erro ao buscar dados do dashboard:",e)}finally{A(!1)}},g=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);if(r)return(0,dt.jsxs)("div",{className:"dashboard",children:[(0,dt.jsx)("div",{className:"skeleton-header"}),(0,dt.jsxs)("div",{className:"skeleton-cards",children:[(0,dt.jsx)("div",{className:"skeleton-card"}),(0,dt.jsx)("div",{className:"skeleton-card"})]}),(0,dt.jsx)("div",{className:"skeleton-chart"}),(0,dt.jsxs)("div",{className:"skeleton-list",children:[(0,dt.jsx)("div",{className:"skeleton-item"}),(0,dt.jsx)("div",{className:"skeleton-item"}),(0,dt.jsx)("div",{className:"skeleton-item"})]})]});const p=(()=>{switch(i){case"today":default:return{sales:t.todaySales,revenue:t.dailyCashFlow,label:"Hoje"};case"month":return{sales:t.monthSales,revenue:t.monthlyCashFlow,label:"Este M\xeas"}}})();return(0,dt.jsxs)("div",{className:"dashboard",children:[(0,dt.jsxs)("div",{className:"dashboard-header",children:[(0,dt.jsxs)("div",{className:"view-selector",children:[(0,dt.jsx)("button",{className:"usuario"===o?"active":"",onClick:()=>a("usuario"),children:"Usu\xe1rio"}),("admin"===l||"gerente"===l)&&(0,dt.jsx)("button",{className:"global"===o?"active":"",onClick:()=>a("global"),children:"Global"}),"admin"===l&&"global"===o&&(0,dt.jsx)("button",{className:"comparison-btn",onClick:()=>h(!0),children:"\ud83d\udcca Comparar Vendedores"})]}),(0,dt.jsxs)("div",{className:"period-selector",children:[(0,dt.jsx)("button",{className:"today"===i?"active":"",onClick:()=>s("today"),children:"Hoje"}),(0,dt.jsx)("button",{className:"month"===i?"active":"",onClick:()=>s("month"),children:"M\xeas"})]})]}),(0,dt.jsxs)("div",{className:"main-stats",children:[(0,dt.jsxs)("div",{className:"stat-card primary",children:[(0,dt.jsxs)("div",{className:"stat-header",children:[(0,dt.jsx)("span",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,dt.jsxs)("span",{className:"stat-label",children:["Faturamento ",p.label]})]}),(0,dt.jsx)("div",{className:"stat-value",children:g(p.revenue)}),(0,dt.jsxs)("div",{className:"stat-growth positive",children:[(0,dt.jsx)("span",{className:"growth-icon",children:"\ud83d\udcc8"}),(0,dt.jsx)("span",{children:(m=t.growthRate,`${m>=0?"+":""}${m.toFixed(1)}%`)})]})]}),(0,dt.jsxs)("div",{className:"stat-card secondary",children:[(0,dt.jsxs)("div",{className:"stat-header",children:[(0,dt.jsx)("span",{className:"stat-icon",children:"\ud83d\uded2"}),(0,dt.jsxs)("span",{className:"stat-label",children:["Vendas ",p.label]})]}),(0,dt.jsx)("div",{className:"stat-value",children:p.sales}),(0,dt.jsxs)("div",{className:"stat-subtitle",children:["M\xe9dia: ",g(p.sales>0?p.revenue/p.sales:0)]})]})]}),(0,dt.jsxs)("div",{className:"chart-card",children:[(0,dt.jsx)("h3",{children:"\ud83d\udcc8 Vendas dos \xdaltimos 7 Dias"}),(0,dt.jsx)("div",{className:"chart-container",children:(0,dt.jsx)("div",{className:"chart",children:t.weeklyData.map(((e,n)=>{const r=Math.max(...t.weeklyData.map((e=>e.revenue))),A=r>0?e.revenue/r*100:0;return(0,dt.jsxs)("div",{className:"chart-bar",children:[(0,dt.jsx)("div",{className:"bar",style:{height:`${A}%`},title:`${e.day}: ${g(e.revenue)}`}),(0,dt.jsx)("span",{className:"bar-label",children:e.day}),(0,dt.jsx)("span",{className:"bar-value",children:g(e.revenue)})]},n)}))})})]}),(0,dt.jsxs)("div",{className:"metrics-grid",children:[(0,dt.jsxs)("div",{className:"metric-card",children:[(0,dt.jsx)("div",{className:"metric-icon",children:"\ud83c\udfaf"}),(0,dt.jsxs)("div",{className:"metric-info",children:[(0,dt.jsx)("span",{className:"metric-label",children:"Proje\xe7\xe3o Mensal"}),(0,dt.jsx)("span",{className:"metric-value",children:g(t.projectedRevenue)})]})]}),(0,dt.jsxs)("div",{className:"metric-card",children:[(0,dt.jsx)("div",{className:"metric-icon",children:"\ud83d\udce6"}),(0,dt.jsxs)("div",{className:"metric-info",children:[(0,dt.jsx)("span",{className:"metric-label",children:"Produtos"}),(0,dt.jsx)("span",{className:"metric-value",children:t.totalItems})]})]}),(0,dt.jsxs)("div",{className:"metric-card",children:[(0,dt.jsx)("div",{className:"metric-icon",children:"\ud83d\udcca"}),(0,dt.jsxs)("div",{className:"metric-info",children:[(0,dt.jsx)("span",{className:"metric-label",children:"Total Geral"}),(0,dt.jsx)("span",{className:"metric-value",children:g(t.totalRevenue)})]})]})]}),t.topProducts.length>0&&(0,dt.jsxs)("div",{className:"top-products-card",children:[(0,dt.jsx)("h3",{children:"\ud83c\udfc6 Produtos Mais Vendidos"}),(0,dt.jsx)("div",{className:"products-list",children:t.topProducts.map(((e,n)=>(0,dt.jsxs)("div",{className:"product-item",children:[(0,dt.jsxs)("div",{className:"product-rank",children:["#",n+1]}),(0,dt.jsxs)("div",{className:"product-info",children:[(0,dt.jsx)("span",{className:"product-name",children:e.name}),(0,dt.jsxs)("span",{className:"product-quantity",children:[e.quantity," vendidos"]})]}),(0,dt.jsx)("div",{className:"product-bar",children:(0,dt.jsx)("div",{className:"bar-fill",style:{width:e.quantity/t.topProducts[0].quantity*100+"%"}})})]},n)))})]}),(0,dt.jsxs)("div",{className:"recent-sales-card",children:[(0,dt.jsx)("h3",{children:"\ud83d\udd50 Vendas Recentes"}),t.recentSales.length>0?(0,dt.jsx)("div",{className:"sales-list",children:t.recentSales.map((e=>{var t,n;return(0,dt.jsxs)("div",{className:"sale-item",children:[(0,dt.jsxs)("div",{className:"sale-info",children:[(0,dt.jsxs)("span",{className:"sale-id",children:["#",null===(t=e.id)||void 0===t?void 0:t.slice(-6)]}),(0,dt.jsx)("span",{className:"sale-client",children:(null===(n=e.cliente)||void 0===n?void 0:n.name)||"Cliente"}),(0,dt.jsx)("span",{className:"sale-date",children:e.date})]}),(0,dt.jsx)("div",{className:"sale-amount",children:g(e.valorTotal)})]},e.id)}))}):(0,dt.jsxs)("div",{className:"no-data",children:[(0,dt.jsx)("span",{className:"no-data-icon",children:"\ud83d\udced"}),(0,dt.jsx)("p",{children:"Nenhuma venda encontrada"})]})]}),u&&(0,dt.jsx)(ft,{onClose:()=>h(!1)})]});var m},pt=()=>{const[t,n]=(0,e.useState)([]),[r,A]=(0,e.useState)(!0),[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(""),[u,h]=(0,e.useState)("all"),[d,f]=(0,e.useState)(!1),[g,p]=(0,e.useState)({name:"",price:"",quantity:"",category:""});(0,e.useEffect)((()=>{const e=ut.j.currentUser;e&&"01leonardoaraujo@gmail.com"===e.email&&f(!0),m()}),[]);const m=async()=>{try{A(!0);const e=await(0,ht.getDocs)((0,ht.collection)(ut.db,"inventory")),t=[];e.forEach((e=>{t.push({firebaseId:e.id,...e.data()})})),t.sort(((e,t)=>(e.name||"").localeCompare(t.name||""))),console.log("Itens com IDs:",t.map((e=>({firebaseId:e.firebaseId,name:e.name})))),n(t)}catch(e){console.error("Erro ao buscar itens:",e)}finally{A(!1)}},w=e=>0===e?{status:"Esgotado",color:"#ef4444",class:"out"}:e<=5?{status:"Baixo",color:"#f59e0b",class:"low"}:{status:"Dispon\xedvel",color:"#22c55e",class:"ok"},y=t.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase()),n=w(e.quantity);return"all"===u?t:"available"===u?t&&"ok"===n.class:"low"===u?t&&"low"===n.class:"out"===u?t&&"out"===n.class:t}));return r?(0,dt.jsx)("div",{className:"inventory",children:(0,dt.jsxs)("div",{className:"loading",children:[(0,dt.jsx)("div",{className:"spinner"}),(0,dt.jsx)("p",{children:"Carregando..."})]})}):(0,dt.jsxs)("div",{className:"inventory",children:[(0,dt.jsxs)("header",{className:"header",children:[(0,dt.jsx)("div",{className:"search",children:(0,dt.jsx)("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:e=>c(e.target.value)})}),(0,dt.jsxs)("div",{className:"filters",children:[(0,dt.jsxs)("button",{className:"all"===u?"active":"",onClick:()=>h("all"),children:["Todos (",t.length,")"]}),(0,dt.jsxs)("button",{className:"available"===u?"active":"",onClick:()=>h("available"),children:["Disp. (",t.filter((e=>"ok"===w(e.quantity).class)).length,")"]}),(0,dt.jsxs)("button",{className:"low"===u?"active":"",onClick:()=>h("low"),children:["Baixo (",t.filter((e=>"low"===w(e.quantity).class)).length,")"]}),(0,dt.jsxs)("button",{className:"out"===u?"active":"",onClick:()=>h("out"),children:["Esg. (",t.filter((e=>"out"===w(e.quantity).class)).length,")"]})]})]}),(0,dt.jsx)("main",{className:"content",children:y.length>0?(0,dt.jsx)("div",{className:"grid",children:y.map((e=>{const t=w(e.quantity);return(0,dt.jsxs)("div",{className:`card ${t.class}`,children:[(0,dt.jsxs)("div",{className:"card-header",children:[(0,dt.jsx)("div",{className:"quantity",style:{backgroundColor:t.color},children:e.quantity}),(0,dt.jsxs)("div",{className:"header-content",children:[(0,dt.jsx)("h3",{children:e.name}),e.category&&(0,dt.jsx)("div",{className:"category",children:e.category})]})]}),(0,dt.jsx)("div",{className:"card-body",children:(0,dt.jsxs)("div",{className:"price-section",children:[(0,dt.jsx)("span",{className:"price-label",children:"Valor do item:"}),(0,dt.jsx)("span",{className:"price",children:(n=e.salePrice,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n))})]})}),(0,dt.jsxs)("div",{className:"card-actions",children:[(0,dt.jsx)("button",{className:"btn-edit",onClick:()=>d&&(e=>{a(e),p({name:e.name,price:e.salePrice.toString(),quantity:e.quantity.toString(),category:e.category||""}),s(!0)})(e),disabled:!d,style:{opacity:d?1:.5,cursor:d?"pointer":"not-allowed"},children:"\u270e"}),(0,dt.jsx)("button",{className:"btn-delete",onClick:()=>d&&(async e=>{if(window.confirm("Excluir este item?"))try{await(0,ht.deleteDoc)((0,ht.doc)(ut.db,"inventory",e.firebaseId)),m()}catch(t){console.error("Erro ao excluir item:",t),alert("Erro ao excluir: "+t.message)}})(e),disabled:!d,style:{opacity:d?1:.5,cursor:d?"pointer":"not-allowed"},children:"\u2715"})]})]},e.firebaseId);var n}))}):(0,dt.jsxs)("div",{className:"empty",children:[(0,dt.jsx)("div",{className:"empty-icon",children:"\ud83d\udce6"}),(0,dt.jsx)("h3",{children:"Nenhum produto encontrado"}),(0,dt.jsx)("p",{children:"Tente ajustar os filtros ou adicione novos produtos"})]})}),(0,dt.jsx)("button",{className:"fab",onClick:()=>{s(!0),a(null),p({name:"",price:"",quantity:"",category:""})},children:"+"}),i&&(0,dt.jsx)("div",{className:"modal",onClick:()=>s(!1),children:(0,dt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsxs)("div",{className:"modal-header",children:[(0,dt.jsx)("h3",{children:o?"Editar Produto":"Novo Produto"}),(0,dt.jsx)("button",{className:"close",onClick:()=>s(!1),children:"\u2715"})]}),(0,dt.jsxs)("form",{className:"form",onSubmit:async e=>{e.preventDefault();try{const e={name:g.name,salePrice:parseFloat(g.price),quantity:parseInt(g.quantity),category:g.category,updatedAt:new Date};if(o){console.log("Tentando atualizar:",o.firebaseId,o);const t=(0,ht.doc)(ut.db,"inventory",o.firebaseId),n=await(0,ht.getDocs)((0,ht.query)((0,ht.collection)(ut.db,"inventory")));if(!n.docs.find((e=>e.id===o.firebaseId)))return void alert("Documento n\xe3o encontrado no Firebase. ID: "+o.firebaseId);await(0,ht.updateDoc)(t,e),alert("Item atualizado com sucesso!")}else e.createdAt=new Date,await(0,ht.addDoc)((0,ht.collection)(ut.db,"inventory"),e),alert("Item adicionado com sucesso!");p({name:"",price:"",quantity:"",category:""}),s(!1),a(null),m()}catch(t){console.error("Erro ao salvar item:",t),alert("Erro ao salvar: "+t.message)}},children:[(0,dt.jsxs)("div",{className:"field",children:[(0,dt.jsx)("label",{children:"Nome *"}),(0,dt.jsx)("input",{type:"text",value:g.name,onChange:e=>p({...g,name:e.target.value}),required:!0})]}),(0,dt.jsxs)("div",{className:"row",children:[(0,dt.jsxs)("div",{className:"field",children:[(0,dt.jsx)("label",{children:"Pre\xe7o *"}),(0,dt.jsx)("input",{type:"number",step:"0.01",min:"0",value:g.price,onChange:e=>p({...g,price:e.target.value}),required:!0})]}),(0,dt.jsxs)("div",{className:"field",children:[(0,dt.jsx)("label",{children:"Quantidade *"}),(0,dt.jsx)("input",{type:"number",min:"0",value:g.quantity,onChange:e=>p({...g,quantity:e.target.value}),required:!0})]})]}),(0,dt.jsxs)("div",{className:"field",children:[(0,dt.jsx)("label",{children:"Categoria"}),(0,dt.jsx)("input",{type:"text",value:g.category,onChange:e=>p({...g,category:e.target.value})})]}),(0,dt.jsxs)("div",{className:"actions",children:[(0,dt.jsx)("button",{type:"submit",className:"btn-save",children:o?"Atualizar":"Adicionar"}),(0,dt.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>s(!1),children:"Cancelar"})]})]})]})})]})};var mt,wt=Object.defineProperty,yt=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))Ct.call(t,n)&&vt(e,n,t[n]);if(yt)for(var n of yt(t))Bt.call(t,n)&&vt(e,n,t[n]);return e},It=(e,t)=>{var n={};for(var r in e)Ct.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yt)for(var r of yt(e))t.indexOf(r)<0&&Bt.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class t{constructor(e,n,r,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let s=[];for(let t=0;t<this.size;t++)s.push(!1);for(let t=0;t<this.size;t++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(r);if(this.drawCodewords(o),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}A(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const A=e.QrSegment.makeSegments(n);return t.encodeSegments(A,r)}static encodeBinary(n,r){const A=e.QrSegment.makeBytes(n);return t.encodeSegments([A],r)}static encodeSegments(e,r){let i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=a&&a<=l&&l<=t.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");for(i=a;;i++){const n=8*t.getNumDataCodewords(i,r),A=s.getTotalBits(e,i);if(A<=n){o=A;break}if(i>=l)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&o<=8*t.getNumDataCodewords(i,n)&&(r=n);let h=[];for(const t of e){n(t.mode.modeBits,4,h),n(t.numChars,t.mode.numCharCountBits(i),h);for(const e of t.getData())h.push(e)}A(h.length==o);const d=8*t.getNumDataCodewords(i,r);A(h.length<=d),n(0,Math.min(4,d-h.length),h),n(0,(8-h.length%8)%8,h),A(h.length%8==0);for(let t=236;h.length<d;t^=253)n(t,8,h);let f=[];for(;8*f.length<h.length;)f.push(0);return h.forEach(((e,t)=>f[t>>>3]|=e<<7-(7&t))),new t(i,r,f,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const i=21522^(t<<10|n);A(i>>>15==0);for(let A=0;A<=5;A++)this.setFunctionModule(8,A,r(i,A));this.setFunctionModule(8,7,r(i,6)),this.setFunctionModule(8,8,r(i,7)),this.setFunctionModule(7,8,r(i,8));for(let A=9;A<15;A++)this.setFunctionModule(14-A,8,r(i,A));for(let A=0;A<8;A++)this.setFunctionModule(this.size-1-A,8,r(i,A));for(let A=8;A<15;A++)this.setFunctionModule(8,this.size-15+A,r(i,A));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;A(t>>>18==0);for(let n=0;n<18;n++){const e=r(t,n),A=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(A,i,e),this.setFunctionModule(i,A,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const A=Math.max(Math.abs(r),Math.abs(n)),i=e+r,s=t+n;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=A&&4!=A)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],s=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),a=i-o%i,l=Math.floor(o/i);let c=[];const u=t.reedSolomonComputeDivisor(s);for(let A=0,d=0;A<i;A++){let n=e.slice(d,d+l-s+(A<a?0:1));d+=n.length;const r=t.reedSolomonComputeRemainder(n,u);A<a&&n.push(0),c.push(n.concat(r))}let h=[];for(let t=0;t<c[0].length;t++)c.forEach(((e,n)=>{(t!=l-s||n>=a)&&h.push(e[t])}));return A(h.length==o),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let A=0;A<this.size;A++)for(let i=0;i<2;i++){const s=t-i,o=0==(t+1&2)?this.size-1-A:A;!this.isFunction[o][s]&&n<8*e.length&&(this.modules[o][s]=r(e[n>>>3],7-(7&n)),n++)}}A(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let A=0;A<this.size;A++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[A][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[A][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let A=0;A<this.size;A++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][A]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][A],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let A=0;A<this.size-1;A++)for(let n=0;n<this.size-1;n++){const r=this.modules[A][n];r==this.modules[A][n+1]&&r==this.modules[A+1][n]&&r==this.modules[A+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return A(0<=i&&i<=9),e+=i*t.PENALTY_N4,A(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return A(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let A=0;A<e;A++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const A of e){const e=A^r.shift();r.push(0),n.forEach(((n,A)=>r[A]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return A(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];A(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return 0!=(e>>>t&1)}function A(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const i=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let r=[];for(const e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let r=[];for(let e=0;e<t.length;){const A=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+A),10),3*A+1,r),e+=A}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,A=[];for(r=0;r+2<=t.length;r+=2){let i=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));i+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),n(i,11,A)}return r<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,A),new e(e.Mode.ALPHANUMERIC,t.length,A)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,r),n(t,21,r)}return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=i;e.QrSegment=i})(mt||(mt={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(mt||(mt={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(mt||(mt={}));var bt=mt,St={L:bt.QrCode.Ecc.LOW,M:bt.QrCode.Ecc.MEDIUM,Q:bt.QrCode.Ecc.QUARTILE,H:bt.QrCode.Ecc.HIGH},Tt=128,_t="L",Ft="#FFFFFF",Nt="#000000",Ut=!1,Dt=1;function Qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let A=null;e.forEach((function(i,s){if(!i&&null!==A)return n.push(`M${A+t} ${r+t}h${s-A}v1H${A+t}z`),void(A=null);if(s!==e.length-1)i&&null===A&&(A=s);else{if(!i)return;null===A?n.push(`M${s+t},${r+t} h1v1H${s+t}z`):n.push(`M${A+t},${r+t} h${s+1-A}v1H${A+t}z`)}}))})),n.join("")}function xt(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function Rt(t){let{value:n,level:r,minVersion:A,includeMargin:i,marginSize:s,imageSettings:o,size:a,boostLevel:l}=t,c=e.useMemo((()=>{const e=(Array.isArray(n)?n:[n]).reduce(((e,t)=>(e.push(...bt.QrSegment.makeSegments(t)),e)),[]);return bt.QrCode.encodeSegments(e,St[r],A,void 0,void 0,l)}),[n,r,A,l]);const{cells:u,margin:h,numCells:d,calculatedImageSettings:f}=e.useMemo((()=>{let e=c.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(i,s),n=e.length+2*t,r=function(e,t,n,r){if(null==r)return null;const A=e.length+2*n,i=Math.floor(.1*t),s=A/t,o=(r.width||i)*s,a=(r.height||i)*s,l=null==r.x?e.length/2-o/2:r.x*s,c=null==r.y?e.length/2-a/2:r.y*s,u=null==r.opacity?1:r.opacity;let h=null;if(r.excavate){let e=Math.floor(l),t=Math.floor(c);h={x:e,y:t,w:Math.ceil(o+l-e),h:Math.ceil(a+c-t)}}return{x:l,y:c,h:a,w:o,excavation:h,opacity:u,crossOrigin:r.crossOrigin}}(e,a,t,o);return{cells:e,margin:t,numCells:n,calculatedImageSettings:r}}),[c,a,o,i,s]);return{qrcode:c,margin:h,cells:u,numCells:d,calculatedImageSettings:f}}var Mt=function(){try{(new Path2D).addPath(new Path2D)}catch(Sr){return!1}return!0}(),Ot=e.forwardRef((function(t,n){const r=t,{value:A,size:i=Tt,level:s=_t,bgColor:o=Ft,fgColor:a=Nt,includeMargin:l=Ut,minVersion:c=Dt,boostLevel:u,marginSize:h,imageSettings:d}=r,f=It(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=f,p=It(f,["style"]),m=null==d?void 0:d.src,w=e.useRef(null),y=e.useRef(null),C=e.useCallback((e=>{w.current=e,"function"===typeof n?n(e):n&&(n.current=e)}),[n]),[B,v]=e.useState(!1),{margin:E,cells:I,numCells:b,calculatedImageSettings:S}=Rt({value:A,level:s,minVersion:c,boostLevel:u,includeMargin:l,marginSize:h,imageSettings:d,size:i});e.useEffect((()=>{if(null!=w.current){const e=w.current,t=e.getContext("2d");if(!t)return;let n=I;const r=y.current,A=null!=S&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;A&&null!=S.excavation&&(n=xt(I,S.excavation));const s=window.devicePixelRatio||1;e.height=e.width=i*s;const l=i/b*s;t.scale(l,l),t.fillStyle=o,t.fillRect(0,0,b,b),t.fillStyle=a,Mt?t.fill(new Path2D(Qt(n,E))):I.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+E,n+E,1,1)}))})),S&&(t.globalAlpha=S.opacity),A&&t.drawImage(r,S.x+E,S.y+E,S.w,S.h)}})),e.useEffect((()=>{v(!1)}),[m]);const T=Et({height:i,width:i},g);let _=null;return null!=m&&(_=e.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{v(!0)},ref:y,crossOrigin:null==S?void 0:S.crossOrigin})),e.createElement(e.Fragment,null,e.createElement("canvas",Et({style:T,height:i,width:i,ref:C,role:"img"},p)),_)}));Ot.displayName="QRCodeCanvas",e.forwardRef((function(t,n){const r=t,{value:A,size:i=Tt,level:s=_t,bgColor:o=Ft,fgColor:a=Nt,includeMargin:l=Ut,minVersion:c=Dt,boostLevel:u,title:h,marginSize:d,imageSettings:f}=r,g=It(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:m,numCells:w,calculatedImageSettings:y}=Rt({value:A,level:s,minVersion:c,boostLevel:u,includeMargin:l,marginSize:d,imageSettings:f,size:i});let C=m,B=null;null!=f&&null!=y&&(null!=y.excavation&&(C=xt(m,y.excavation)),B=e.createElement("image",{href:f.src,height:y.h,width:y.w,x:y.x+p,y:y.y+p,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const v=Qt(C,p);return e.createElement("svg",Et({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!h&&e.createElement("title",null,h),e.createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),e.createElement("path",{fill:a,d:v,shapeRendering:"crispEdges"}),B)})).displayName="QRCodeSVG";var Lt=n(239),kt=n.n(Lt);class Pt{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.id=e,this.name=t,this.phone=n,this.email=r,this.createdAt=A}static normalizeName(e){return e.toUpperCase().trim()}static async getAll(){try{const{collection:e,getDocs:t,query:r,orderBy:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662)),s=r(e(i,"customers"),A("name"));return(await t(s)).docs.map((e=>({id:e.id,...e.data(),name:e.data().name||e.id})))}catch(e){return console.error("Erro ao buscar clientes:",e),[]}}static async addOrUpdate(e){try{const{doc:t,setDoc:r,serverTimestamp:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662)),s=Pt.normalizeName(e.name),o=t(i,"customers",s),a={name:s,phone:e.phone||"",email:e.email||"",updatedAt:A()};return e.id||(a.createdAt=A()),await r(o,a,{merge:!0}),{id:s,...a}}catch(t){throw console.error("Erro ao salvar cliente:",t),t}}}const Ht=t=>{var r;let{onBack:A}=t;const i=null===(r=J().state)||void 0===r?void 0:r.editSale,[s,o]=(0,e.useState)(1),[a,l]=(0,e.useState)({cliente:{name:"",phone:""},itens:[],doacao:0,valorPago:0,status:"Pendente"}),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,g]=(0,e.useState)([]),[p,m]=(0,e.useState)([]),[w,y]=(0,e.useState)(!1),[C,B]=(0,e.useState)(!1),[v,E]=(0,e.useState)(!1),[I,b]=(0,e.useState)(null),[S,T]=(0,e.useState)(1),[_,F]=(0,e.useState)(!1),[N,U]=(0,e.useState)(""),[D,Q]=(0,e.useState)(0),[x,R]=(0,e.useState)(!1),[M,O]=(0,e.useState)("0,00"),[L,k]=(0,e.useState)([]),[P,H]=(0,e.useState)([]),[j,V]=(0,e.useState)(0),[K,G]=(0,e.useState)({}),[z,W]=(0,e.useState)(!1),[X,Y]=(0,e.useState)([]),[q,$]=(0,e.useState)([]),[Z,ee]=(0,e.useState)([]),[te,ne]=(0,e.useState)(0),[re,Ae]=(0,e.useState)(0),[ie,se]=(0,e.useState)("0,00"),[oe,ae]=(0,e.useState)("0,00"),[le,ce]=(0,e.useState)("dark"===document.documentElement.getAttribute("data-theme")),[ue,he]=(0,e.useState)(""),de=(0,e.useRef)(null),fe=(0,e.useRef)(null);(0,e.useEffect)((()=>{(()=>{const e=ut.j.currentUser;if(e){const t=e.displayName||e.email||"Vendedor";console.log("Vendedor carregado:",t),he(t)}else console.log("Usu\xe1rio n\xe3o autenticado"),he("Vendedor")})()}),[]),(0,e.useEffect)((()=>{if(i){const e=ut.j.currentUser,t=e&&(e.displayName||e.email)||"Vendedor";if(console.log("Carregando venda para edi\xe7\xe3o, ID:",i.id),o(3),E(!0),l({id:i.id,cliente:i.cliente,itens:i.itens.map((e=>({...e,quantidadeSelecionada:e.quantidade,quantidadeDisponivel:e.quantidade+(e.quantidadeSelecionada||0)}))),doacao:i.doacao||0,valorPago:i.valorPago||0,status:i.status||"Pendente",desconto:i.desconto||0}),he(t),i.valorPago){const e=Math.round(100*i.valorPago).toString(),t=pe(e);O(t)}}}),[i]);const ge=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),pe=e=>{if(!e||"0"===e)return"0,00";const t=e.toString().replace(/[^\d]/g,"");if(0===t.length)return"0,00";const n=parseInt(t,10);if(isNaN(n))return"0,00";const r=n%100;return`${Math.floor(n/100)},${r<10?"0"+r:r.toString()}`},me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const n=Date.now(),r={id:n,message:e,type:t};Y((e=>[...e,r])),setTimeout((()=>{Y((e=>e.filter((e=>e.id!==n))))}),5e3)},we=e=>{l((t=>({...t,cliente:{name:e.name||e.nome,phone:e.phone||e.telefone||""}}))),u(""),E(!0),y(!1),G((e=>({...e,cliente:null})))},ye=(0,e.useCallback)((e=>{e&&e.id?e.quantidade<=0?G((e=>({...e,itens:"Item sem estoque dispon\xedvel"}))):(console.log("Selecionando item:",e),b({id:e.id,nome:e.nome,preco:Number(e.preco),quantidadeDisponivel:Number(e.quantidade||e.quantidadeDisponivel||0)}),T(1),F(!1),G((e=>({...e,itens:void 0,item:void 0})))):console.error("Item inv\xe1lido:",e)}),[]),Ce=(e,t)=>{t<1||(console.log("[UPDATE] Atualizando quantidade:",e,t),l((n=>{const r=n.itens.map((n=>n.id===e?{...n,quantidadeSelecionada:t}:n));return{...n,itens:r}})))},Be=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const t=e.itens.reduce(((e,t)=>e+t.preco*t.quantidadeSelecionada),0),n=t-(e.desconto||0);return{valorTotal:t,troco:Math.max(0,e.valorPago-n)}}),[a]),ve=(0,e.useCallback)((e=>{if(console.log("[CALC PROMO] Iniciando c\xe1lculo com",e.length,"itens"),!e||0===e.length)return V(0),H([]),void l((e=>({...e,desconto:0})));if(!L||0===L.length)return console.log("[CALC PROMO] Nenhuma promo\xe7\xe3o dispon\xedvel"),V(0),H([]),void l((e=>({...e,desconto:0})));let t=0;const n=[],r=e.reduce(((e,t)=>e+t.preco*t.quantidadeSelecionada),0);console.log("[CALC PROMO] Subtotal:",r),L.forEach((A=>{if(console.log(`[PROMO] Verificando: ${A.name}`),console.log(`[PROMO] - isActive: ${A.isActive}`),console.log("[PROMO] - criterio:",A.criterio),!A.isActive)return void console.log("[PROMO] - IGNORADA: inativa");if(A.startDate||A.endDate){const e=(new Date).toISOString().split("T")[0];if(A.startDate&&e<A.startDate)return void console.log("[PROMO] - IGNORADA: ainda n\xe3o iniciou");if(A.endDate&&e>A.endDate)return void console.log("[PROMO] - IGNORADA: j\xe1 expirou")}let i=!1,s=0;const o=((e,t)=>{if(!t||0===t.length)return!1;if(!e||0===e.length)return!1;for(let n of e)if("object"===typeof n&&n.type)if("total_quantity"===n.type){const e=t.reduce(((e,t)=>e+(t.quantidadeSelecionada||0)),0);if(console.log(`[PROMO] total_quantity: totalQty=${e}, minQuantity=${n.minQuantity}`),e<n.minQuantity)return!1}else if("product_quantity"===n.type){const e=t.find((e=>e.nome.toLowerCase().includes(n.productName.toLowerCase())));if(console.log(`[PROMO] product_quantity: product=${n.productName}, found=${!!e}, qty=${null===e||void 0===e?void 0:e.quantidadeSelecionada}`),!e||e.quantidadeSelecionada<n.minQuantity)return!1}else if("product_combo"===n.type){const e=t.map((e=>e.nome.trim().toLowerCase())),r=n.products.every((t=>e.some((e=>e.includes(t.trim().toLowerCase())))));if(console.log(`[PROMO] product_combo: required=${n.products}, present=${r}`),!r)return!1}return!0})(A.criterio,e);if(console.log(`[PROMO] - Crit\xe9rios atendidos: ${o}`),o)s="percentage"===A.discountType?r*(A.discount/100):Math.min(A.discount,r),console.log(`[PROMO] - Desconto calculado: ${s}`),i=!0;else if(A.productId){const t=e.find((e=>e.id===A.productId));t&&(s="percentage"===A.discountType?t.preco*t.quantidadeSelecionada*(A.discount/100):Math.min(A.discount,t.preco*t.quantidadeSelecionada),console.log(`[PROMO] - Desconto por produto: ${s}`),i=!0)}i?(A.maxDiscount&&s>A.maxDiscount&&(s=A.maxDiscount),t+=s,n.push({id:A.id,name:A.name,discount:s,type:A.discountType}),console.log(`[PROMO] - APLICADA: ${A.name} com desconto ${s}`)):console.log(`[PROMO] - N\xc3O APLICADA: ${A.name}`)})),console.log("[CALC PROMO] Total de desconto:",t),console.log("[CALC PROMO] Promo\xe7\xf5es aplicadas:",n),V(t),H(n),l((e=>({...e,desconto:t})))}),[L]),Ee=async()=>{if(await(async()=>{const e={};switch(s){case 1:if(a.cliente.name.trim()){const n=Pt.normalizeName(a.cliente.name);if(!Z.find((e=>e.id===n||(e.name||e.nome)===a.cliente.name)))try{const e={id:null,name:a.cliente.name.trim(),phone:a.cliente.phone||""},t=await Pt.addOrUpdate(e);we(t),me("Novo cliente adicionado!","success")}catch(t){console.error("Erro ao adicionar novo cliente:",t),e.cliente="Erro ao adicionar cliente"}}else e.cliente="Nome do cliente \xe9 obrigat\xf3rio";break;case 2:0===a.itens.length&&(e.itens="Adicione pelo menos um item");break;case 3:a.valorPago<0&&(e.pagamento="Valor n\xe3o pode ser negativo")}return G(e),0===Object.keys(e).length})()){const e=Se-(a.desconto||0);3===s&&a.valorPago>e?(o(4),ne(Te),Ae(0),se(pe((100*Te).toString())),ae("0,00")):3===s||4===s?be():o((e=>e+1))}},Ie=()=>{o((e=>Math.max(1,e-1)))},be=async()=>{W(!0);try{const{valorTotal:e,troco:t}=Be(),n=a.id||`V${Date.now()}${Math.random().toString(36).substr(2,5)}`.toUpperCase();console.log("Finalizando venda com ID:",n,"editSale:",!!i);const r=new Date,A=e-(a.desconto||0),s=a.valorPago>=A,c=a.valorPago>0&&a.valorPago<A,u=s?"Pago":c?"Parcial":"Pendente",h=a.itens.every((e=>e.entregue))?"Entregue":"Pendente",d="Entregue"===h?"Entregue":u,f={id:n,vendedor:ue,cliente:a.cliente,itens:a.itens.map((e=>({id:e.id,nome:e.nome,preco:e.preco,quantidade:e.quantidadeSelecionada,pago:e.pago,entregue:e.entregue}))),valorTotal:e,valorPago:a.valorPago,doacao:re,troco:te,desconto:a.desconto||0,status:d,statusPagamento:u,deliveryStatus:h,pago:s,createdAt:i&&i.createdAt||r,updatedAt:r};if(i){const e=(0,ht.query)((0,ht.collection)(ut.db,"Vendas"),(0,ht.where)("id","==",n)),t=await(0,ht.getDocs)(e);if(!t.empty){const e=t.docs[0];await(0,ht.updateDoc)((0,ht.doc)(ut.db,"Vendas",e.id),f)}}else{const e=(0,ht.collection)(ut.db,"Vendas");await(0,ht.addDoc)(e,f)}if(!i)for(const i of a.itens){const e=(0,ht.doc)(ut.db,"inventory",i.id),t=await(0,ht.x7)(e);if(t.exists()){const n=t.data();await(0,ht.updateDoc)(e,{quantity:(n.quantity||n.quantidade||0)-i.quantidadeSelecionada})}}l(i?e=>({...e,status:d}):e=>({...e,id:n,status:d})),o(5),me(i?"Venda atualizada!":"Venda finalizada!","success")}catch(e){console.error("Erro:",e),G({finalizar:"Erro ao finalizar"}),me("Erro ao finalizar","error")}finally{W(!1)}};(0,e.useEffect)((()=>{(async()=>{try{const{Promotion:e}=await Promise.resolve().then(n.bind(n,194)),t=await e.getActive();console.log("Promo\xe7\xf5es ativas carregadas:",t),k(t)}catch(e){console.error("Erro ao carregar promo\xe7\xf5es:",e),k([])}})()}),[]),(0,e.useEffect)((()=>{const e=(0,ht.query)((0,ht.collection)(ut.db,"customers")),t=(0,ht.aQ)(e,(e=>{const t=[];e.forEach((e=>{t.push({id:e.id,...e.data()})})),ee(t)}),(e=>{console.error("Erro ao escutar clientes:",e),me("Erro ao carregar clientes em tempo real","error")}));return()=>t()}),[]),(0,e.useEffect)((()=>{const e=(0,ht.query)((0,ht.collection)(ut.db,"inventory")),t=(0,ht.aQ)(e,(e=>{const t=[];e.forEach((e=>{t.push({id:e.id,...e.data()})})),$(t)}),(e=>{console.error("Erro ao escutar itens:",e),me("Erro ao carregar estoque em tempo real","error")}));return()=>t()}),[]),(0,e.useEffect)((()=>{const e=a.itens.map((e=>`${e.id}:${e.quantidadeSelecionada}`)).join(",");console.log("[EFFECT] Itens mudaram:",e),a.itens.length>0?ve(a.itens):(V(0),H([]),l((e=>({...e,desconto:0}))))}),[a.itens.map((e=>`${e.id}:${e.quantidadeSelecionada}`)).join(","),ve]),(0,e.useEffect)((()=>{const e=setTimeout((()=>{h.length>=1&&(async e=>{if(console.log("Searching items for term:",e),R(!0),e.length<1)return console.log("Search term too short, clearing suggestions"),m([]),void R(!1);try{const t=e.toLowerCase(),n=t.charAt(0).toUpperCase()+t.slice(1),r=[];console.log("Items real-time count:",q.length),q.forEach((e=>{const A=e.name||e.nome,i=Number(e.salePrice||e.preco),s=Number(e.quantity||e.quantidade);!A||isNaN(i)||isNaN(s)||(A.toLowerCase().includes(t)||A.includes(n))&&r.push({id:e.id,nome:A,preco:i,quantidade:s,quantidadeDisponivel:s,...e})})),console.log("Filtered items:",r.length);const A=r.sort(((e,n)=>{const r=e.nome.toLowerCase().startsWith(t),A=n.nome.toLowerCase().startsWith(t);return r&&!A?-1:!r&&A?1:e.nome.localeCompare(n.nome)}));m(A)}catch(t){console.error("Erro ao buscar itens:",t),m([]),G((e=>({...e,itemSearch:"Erro ao buscar itens. Tente novamente."}))),me("Erro ao buscar itens","error")}})(h)}),300);return()=>clearTimeout(e)}),[h]),(0,e.useEffect)((()=>{const e=setTimeout((()=>{c.length>=1&&(e=>{if(console.log("Searching clients for term:",e),e.length<1)return console.log("Search term too short, clearing suggestions"),void g([]);try{const t=e.toLowerCase(),n=t.charAt(0).toUpperCase()+t.slice(1),r=[];console.log("Clients real-time count:",Z.length),Z.forEach((e=>{const A=e.name||e.nome;A&&(A.toLowerCase().includes(t)||A.includes(n))&&r.push({id:e.id,name:A,phone:e.phone||e.telefone||"",...e})})),console.log("Filtered clients:",r.length);const A=r.sort(((e,n)=>{const r=(e.name||e.nome).toLowerCase().startsWith(t),A=(n.name||n.nome).toLowerCase().startsWith(t);return r&&!A?-1:!r&&A?1:(e.name||e.nome).localeCompare(n.name||n.nome)}));g(A)}catch(t){console.error("Erro ao filtrar clientes:",t),g([]),G((e=>({...e,clientSearch:"Erro ao buscar clientes. Tente novamente."}))),me("Erro ao buscar clientes","error")}})(c)}),300);return()=>clearTimeout(e)}),[c]),(0,e.useEffect)((()=>{0!==h.length||I||(F(!1),U(""),Q(0),b(null),R(!1))}),[h,I]),(0,e.useEffect)((()=>{if(0===a.itens.length)return;const e=a.desconto||0,t=[...a.itens].sort(((e,t)=>e.preco*e.quantidadeSelecionada-t.preco*t.quantidadeSelecionada)),n=t.map(((n,r)=>{const A=n.preco*n.quantidadeSelecionada;return r===t.length-1?{...n,valorComDesconto:Math.max(0,A-e)}:{...n,valorComDesconto:A}}));let r=0,A=!1;const i=n.map((e=>{r+=e.valorComDesconto;const t=a.valorPago>=r;return e.pago!==t&&(A=!0),{...e,pago:t}})),s=a.itens.map((e=>i.find((t=>t.id===e.id))||e));A&&l((e=>({...e,itens:s})))}),[a.valorPago,a.itens.length,a.desconto]);const{valorTotal:Se,troco:Te}=Be();return(0,dt.jsxs)("div",{className:"sales-creation",children:[(0,dt.jsx)("div",{className:"sales-header",children:(0,dt.jsx)("div",{className:"step-indicator",children:(0,dt.jsx)("div",{className:`steps-container ${(()=>{const e=Se-(a.desconto||0);return a.valorPago>e?"has-five-steps":""})()}`,children:(()=>{const e=Se-(a.desconto||0),t=a.valorPago>e,n=[{num:1,label:"Cliente",icon:"1"},{num:2,label:"Itens",icon:"2"},{num:3,label:"Pagamento",icon:"3"},...t?[{num:4,label:"Troco",icon:"4"}]:[],{num:t?5:4,label:"Finalizar",icon:t?"5":"4"}];return n.map(((e,t)=>(0,dt.jsxs)("div",{className:"step-wrapper",children:[(0,dt.jsxs)("div",{className:"step-item "+(s>e.num?"completed":s===e.num?"active":"pending"),children:[(0,dt.jsx)("div",{className:"step-circle",children:s>e.num?(0,dt.jsx)("span",{className:"check-icon",children:"\u2713"}):(0,dt.jsx)("span",{className:"step-icon",children:e.icon})}),(0,dt.jsx)("div",{className:"step-info",children:(0,dt.jsx)("span",{className:"step-label",children:e.label})})]}),t<n.length-1&&(0,dt.jsx)("div",{className:"step-connector "+(s>e.num?"completed":"")})]},e.num)))})()})})}),(0,dt.jsxs)("div",{className:"sales-content",children:[1===s&&!i&&(0,dt.jsxs)("div",{className:"step-content",children:[(0,dt.jsx)("h2",{children:"\ud83d\udc64 Identifica\xe7\xe3o do Cliente"}),(0,dt.jsxs)("div",{className:"client-form",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Nome do Cliente *"}),(0,dt.jsxs)("div",{className:"autocomplete-container",children:[(0,dt.jsx)("input",{ref:de,type:"text",value:v?"":c,onChange:e=>{const t=e.target.value.toUpperCase();u(t),l((e=>({...e,cliente:{...e.cliente,name:t}}))),E(!1),y(!0)},onFocus:()=>y(!0),onBlur:()=>setTimeout((()=>y(!1)),200),placeholder:"Digite o nome do cliente...",className:K.cliente?"error":""}),w&&f.length>0&&(0,dt.jsx)("div",{className:"suggestions",children:f.map((e=>(0,dt.jsxs)("div",{className:"suggestion-item",onMouseDown:t=>{t.preventDefault(),we(e)},children:[(0,dt.jsx)("span",{className:"client-name",children:e.name||e.nome}),e.phone&&(0,dt.jsx)("span",{className:"client-phone",children:e.phone})]},e.id)))})]}),K.cliente&&(0,dt.jsx)("span",{className:"error-message",children:K.cliente})]}),v&&a.cliente.name&&(0,dt.jsx)("div",{className:"selected-client",children:(0,dt.jsxs)("div",{className:"client-badge",children:[(0,dt.jsx)("span",{className:"badge-icon",children:"\u2713"}),(0,dt.jsx)("span",{className:"badge-text",children:a.cliente.name})]})}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Telefone do Cliente (Opcional)"}),(0,dt.jsx)("input",{type:"tel",value:a.cliente.phone,onChange:e=>l((t=>({...t,cliente:{...t.cliente,phone:e.target.value}}))),placeholder:"(11) 99999-9999"})]})]})]}),2===s&&(0,dt.jsxs)("div",{className:"step-content",children:[(0,dt.jsx)("h2",{children:"\ud83d\udecd\ufe0f Sele\xe7\xe3o de Itens"}),(0,dt.jsxs)("div",{className:"item-form",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Buscar Item"}),(0,dt.jsxs)("div",{className:"autocomplete-container",children:[(0,dt.jsx)("input",{ref:fe,type:"text",value:h,onChange:e=>{const t=e.target.value;d(t),B(!0)},onFocus:()=>B(!0),onBlur:()=>setTimeout((()=>B(!1)),200),placeholder:"Digite o nome do item...",className:K.itens?"error":""}),C&&p.length>0&&(0,dt.jsx)("div",{className:"suggestions",children:p.map((e=>(0,dt.jsxs)("div",{className:"suggestion-item",onMouseDown:t=>{t.preventDefault(),ye(e),d(""),F(!1),B(!1),m([])},children:[(0,dt.jsx)("span",{className:"item-name",children:e.nome}),(0,dt.jsx)("span",{className:"item-price",children:ge(e.preco)}),(0,dt.jsxs)("span",{className:"item-stock",children:["Estoque: ",e.quantidade]})]},e.id)))})]})]}),I&&(0,dt.jsxs)("div",{className:"temporary-item-panel",children:[(0,dt.jsxs)("div",{className:"temp-item-info",children:[(0,dt.jsx)("h4",{children:I.nome}),(0,dt.jsxs)("div",{className:"temp-price",children:[(0,dt.jsx)("label",{children:"Pre\xe7o Unit\xe1rio:"}),(0,dt.jsx)("span",{className:"price-display",children:ge(I.preco)})]})]}),(0,dt.jsxs)("div",{className:"temp-quantity-controls",children:[(0,dt.jsx)("button",{onClick:()=>T(Math.max(1,S-1)),children:"-"}),(0,dt.jsx)("span",{children:S}),(0,dt.jsx)("button",{onClick:()=>T(S+1),children:"+"})]}),(0,dt.jsx)("button",{className:"add-item-button",onClick:()=>{I?I&&(S<=0||(S>I.quantidadeDisponivel?G((e=>({...e,itens:"Quantidade excede estoque dispon\xedvel"}))):(l((e=>{const t=e.itens.findIndex((e=>e.id===I.id));if(t>=0){const n=[...e.itens],r=n[t].quantidadeSelecionada+S;return r>I.quantidadeDisponivel?(G((e=>({...e,itens:"Quantidade excede estoque dispon\xedvel"}))),e):(n[t]={...n[t],quantidadeSelecionada:r},{...e,itens:n})}return{...e,itens:[...e.itens,{id:I.id,nome:I.nome,preco:I.preco,quantidadeDisponivel:I.quantidadeDisponivel,quantidadeSelecionada:S,pago:!1,entregue:!1}]}})),b(null),F(!1),T(1),U(""),Q(0),d(""),m([]),B(!1),G((e=>({...e,itens:void 0})))))):G((e=>({...e,itens:"Selecione um item da lista"})))},disabled:!I,children:"\u2713 Adicionar Item"}),(0,dt.jsx)("button",{className:"cancel-item-button",onClick:()=>{b(null),F(!1),T(1),U(""),Q(0),d(""),m([]),B(!1)},children:"\u2715 Cancelar"})]}),K.itens&&(0,dt.jsx)("span",{className:"error-message",children:K.itens})]}),a.itens.length>0&&(0,dt.jsxs)("div",{className:"selected-items",children:[(0,dt.jsx)("h3",{children:"Itens Selecionados (Resumo):"}),a.itens.map((e=>(0,dt.jsxs)("div",{className:"item-card",children:[(0,dt.jsx)("h4",{className:"item-title",children:e.nome}),(0,dt.jsxs)("div",{className:"item-details-row",children:[(0,dt.jsx)("span",{"data-label":"Pre\xe7o",children:ge(e.preco)}),(0,dt.jsx)("span",{"data-label":"Qtd",children:e.quantidadeSelecionada}),e.quantidadeDisponivel!==1/0&&(0,dt.jsx)("span",{"data-label":"Estoque",children:e.quantidadeDisponivel})]}),(0,dt.jsx)("div",{className:"item-controls",children:(0,dt.jsxs)("div",{className:"quantity-controls",children:[(0,dt.jsx)("button",{onClick:()=>Ce(e.id,e.quantidadeSelecionada-1),disabled:e.quantidadeSelecionada<=1,children:"-"}),(0,dt.jsx)("span",{className:"quantity-display",children:e.quantidadeSelecionada}),(0,dt.jsx)("button",{onClick:()=>Ce(e.id,e.quantidadeSelecionada+1),disabled:"number"===typeof e.quantidadeDisponivel&&e.quantidadeSelecionada>=e.quantidadeDisponivel,children:"+"})]})}),(0,dt.jsxs)("div",{className:"item-subtotal",children:["Subtotal:"," ",ge(e.preco*e.quantidadeSelecionada)]}),(0,dt.jsx)("button",{className:"remove-item",onClick:()=>{return t=e.id,void l((e=>{const n=e.itens.filter((e=>e.id!==t));return{...e,itens:n}}));var t},children:"\ud83d\uddd1\ufe0f Remover"})]},e.id))),P.length>0&&(0,dt.jsxs)("div",{className:"automatic-discount-card",children:[(0,dt.jsxs)("div",{className:"discount-header",children:[(0,dt.jsx)("span",{className:"discount-icon",children:"\ud83c\udf89"}),(0,dt.jsx)("h4",{children:"Promo\xe7\xf5es Autom\xe1ticas Aplicadas"})]}),(0,dt.jsx)("div",{className:"applied-promotions",children:P.map((e=>{const t=L.find((t=>t.id===e.id));return(0,dt.jsx)("div",{className:"promotion-item",children:(0,dt.jsxs)("div",{className:"promo-info",children:[(0,dt.jsx)("span",{className:"promo-name",children:e.name}),(0,dt.jsxs)("span",{className:"promo-discount",children:["-",ge(e.discount)]}),t&&(0,dt.jsxs)("div",{className:"promo-criteria",children:[t.startDate&&(0,dt.jsxs)("small",{className:"promo-detail",children:["\ud83d\udcc5 V\xe1lida at\xe9:"," ",t.endDate||"sem fim"]}),t.criteria&&t.criteria.length>0&&(0,dt.jsx)("small",{className:"promo-detail",children:"\ud83c\udfaf Crit\xe9rios aplicados"})]})]})},e.id)}))}),(0,dt.jsxs)("div",{className:"discount-total",children:[(0,dt.jsx)("strong",{children:"Total de Desconto:"}),(0,dt.jsxs)("strong",{className:"discount-amount",children:["-",ge(j)]})]})]}),(0,dt.jsxs)("div",{className:"total-resumo",children:[(0,dt.jsxs)("h4",{children:["Valor Total:"," ",ge(Se-j)]}),j>0&&(0,dt.jsxs)("p",{className:"discount-info",children:["(Desconto aplicado: -",ge(j),")"]})]})]})]}),3===s&&(0,dt.jsxs)("div",{className:"step-content",children:[(0,dt.jsx)("h2",{children:"\ud83d\udcb0 Pagamento"}),(0,dt.jsxs)("div",{className:"payment-form",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Valor Total a Pagar"}),(0,dt.jsx)("p",{className:"total-display",children:ge(Se-(a.desconto||0))})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Valor Recebido *"}),(0,dt.jsx)("input",{type:"text",inputMode:"decimal",value:M,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(""===t)return O("0,00"),void l((e=>({...e,valorPago:0})));const n=pe(t);O(n);const r=parseInt(t,10)/100;l((e=>({...e,valorPago:r})))},onFocus:e=>{"0,00"===e.target.value&&O("")},onBlur:e=>{""===e.target.value&&(O("0,00"),l((e=>({...e,valorPago:0}))))},placeholder:"0,00",className:K.pagamento?"error":"",style:{fontSize:"18px",padding:"12px"}}),K.pagamento&&(0,dt.jsx)("span",{className:"error-message",children:K.pagamento})]}),0===a.valorPago&&(0,dt.jsx)("div",{className:"pending-stripe",children:(0,dt.jsx)("p",{children:"\ud83d\udfe1 Venda Pendente - Nenhum pagamento"})}),a.valorPago>0&&a.valorPago<Se-(a.desconto||0)&&(0,dt.jsx)("div",{className:"partial-stripe",children:(0,dt.jsxs)("p",{children:["\ud83d\udfe0 Pagamento Parcial - Falta: ",ge(Se-(a.desconto||0)-a.valorPago)]})}),a.valorPago>=Se-(a.desconto||0)&&(0,dt.jsx)("div",{className:"paid-stripe",children:(0,dt.jsx)("p",{children:"\u2705 Pagamento Completo"})}),Te>0&&(0,dt.jsx)("div",{className:"troco-display",children:(0,dt.jsxs)("h3",{children:["Troco: ",ge(Te)]})}),(0,dt.jsxs)("div",{className:"payment-items",children:[(0,dt.jsx)("h3",{children:"Controle dos Itens"}),(0,dt.jsx)("div",{className:"payment-items-list",children:a.itens.map((e=>(0,dt.jsxs)("div",{className:"payment-item-row",children:[(0,dt.jsxs)("div",{className:"item-basic-info",children:[(0,dt.jsx)("span",{className:"item-name",children:e.nome}),(0,dt.jsxs)("span",{className:"item-quantity",children:["Qtd: ",e.quantidadeSelecionada]}),(0,dt.jsxs)("span",{className:"item-total",children:["Total:"," ",ge(e.preco*e.quantidadeSelecionada)]})]}),(0,dt.jsxs)("div",{className:"item-toggle-group",children:[(0,dt.jsxs)("label",{className:"status-toggle",children:[(0,dt.jsx)("input",{type:"checkbox",checked:e.pago,disabled:!0}),(0,dt.jsx)("span",{className:"toggle-switch"}),(0,dt.jsx)("span",{className:"toggle-label",children:"Pago"})]}),(0,dt.jsxs)("label",{className:"status-toggle",children:[(0,dt.jsx)("input",{type:"checkbox",checked:e.entregue,onChange:()=>{return t=e.id,n="entregue",void l((e=>({...e,itens:e.itens.map((e=>e.id===t?{...e,[n]:!e[n]}:e))})));var t,n}}),(0,dt.jsx)("span",{className:"toggle-switch"}),(0,dt.jsx)("span",{className:"toggle-label",children:"Entregue"})]})]})]},e.id)))})]})]})]}),4===s&&(0,dt.jsxs)("div",{className:"step-content",children:[(0,dt.jsx)("h2",{children:"\ud83d\udcb0 Troco"}),(0,dt.jsxs)("div",{className:"change-form",children:[(0,dt.jsx)("div",{className:"change-amount",children:(0,dt.jsxs)("h3",{children:["Valor do Troco: ",ge(Te)]})}),(0,dt.jsxs)("div",{className:"change-inputs",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Devolver"}),(0,dt.jsx)("input",{type:"text",inputMode:"decimal",value:ie,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(""===t)return se("0,00"),ne(0),Ae(Te),void ae(pe((100*Te).toString()));const n=parseInt(t,10)/100;if(n>Te)return;const r=pe(t);se(r);const A=Te-n;ne(n),Ae(A),ae(pe((100*A).toString()))},onFocus:e=>{"0,00"===e.target.value&&se("")},onBlur:e=>{""===e.target.value&&(se("0,00"),ne(0),Ae(Te),ae(pe((100*Te).toString())))},placeholder:"0,00",style:{fontSize:"18px",padding:"12px"}})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Doar"}),(0,dt.jsx)("input",{type:"text",inputMode:"decimal",value:oe,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(""===t)return ae("0,00"),Ae(0),ne(Te),void se(pe((100*Te).toString()));const n=parseInt(t,10)/100;if(n>Te)return;const r=pe(t);ae(r);const A=Te-n;Ae(n),ne(A),se(pe((100*A).toString()))},onFocus:e=>{"0,00"===e.target.value&&ae("")},onBlur:e=>{""===e.target.value&&(ae("0,00"),Ae(0),ne(Te),se(pe((100*Te).toString())))},placeholder:"0,00",style:{fontSize:"18px",padding:"12px"}})]})]}),(0,dt.jsx)("div",{className:"change-button",children:(0,dt.jsx)("button",{className:"nav-button finalize",onClick:()=>{re===Te?(ne(Te),Ae(0),se(pe((100*Te).toString())),ae("0,00")):(Ae(Te),ne(0),ae(pe((100*Te).toString())),se("0,00"))},children:re===Te?"Devolver Tudo":"Doar Tudo"})})]})]}),5===s&&(0,dt.jsxs)("div",{className:"step-content",children:[(0,dt.jsx)("h2",{children:"\u2705 Venda Finalizada"}),(0,dt.jsxs)("div",{className:"success-message",children:[(0,dt.jsx)("div",{className:"qr-container",children:(0,dt.jsx)(Ot,{value:a.id,size:120,level:"H",includeMargin:!1,marginSize:0,id:"qrcode-canvas"})}),(0,dt.jsx)("button",{className:"share-button",onClick:async()=>{const e=document.getElementById("receipt-to-share");try{const t=await kt()(e,{backgroundColor:"#ffffff",scale:2});t.toBlob((async e=>{const n=new File([e],"comprovante-venda.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[n]}))await navigator.share({files:[n]});else{const e=document.createElement("a");e.download="comprovante-venda.png",e.href=t.toDataURL(),e.click()}}))}catch(t){console.log("Erro ao gerar imagem:",t)}},children:"\ud83d\udce4 Compartilhar Comprovante"})]}),(0,dt.jsxs)("div",{id:"receipt-to-share",className:"receipt-to-share",children:[(0,dt.jsxs)("div",{className:"receipt-header",children:[(0,dt.jsx)("h2",{children:"\ud83e\uddfe COMPROVANTE DE VENDA"}),(0,dt.jsxs)("p",{className:"receipt-id",children:["ID: ",a.id]})]}),(0,dt.jsx)("div",{className:"receipt-qr",children:(0,dt.jsx)(Ot,{value:a.id,size:150,level:"H",includeMargin:!0})}),(0,dt.jsxs)("div",{className:"receipt-info",children:[(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Vendedor:"}),(0,dt.jsx)("span",{className:"receipt-value",children:ue})]}),(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Cliente:"}),(0,dt.jsx)("span",{className:"receipt-value",children:a.cliente.name})]}),(0,dt.jsx)("div",{className:"receipt-divider"}),(0,dt.jsxs)("div",{className:"receipt-items",children:[(0,dt.jsx)("h3",{children:"Itens:"}),a.itens.map(((e,t)=>(0,dt.jsxs)("div",{className:"receipt-item",children:[(0,dt.jsxs)("span",{children:[e.nome," x",e.quantidadeSelecionada]}),(0,dt.jsx)("span",{children:ge(e.preco*e.quantidadeSelecionada)})]},t)))]}),(0,dt.jsx)("div",{className:"receipt-divider"}),(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Total:"}),(0,dt.jsx)("span",{className:"receipt-value",children:ge(Se)})]}),(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Desconto:"}),(0,dt.jsx)("span",{className:"receipt-value",children:ge(a.desconto||0)})]}),(0,dt.jsxs)("div",{className:"receipt-row receipt-highlight",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Valor Pago:"}),(0,dt.jsx)("span",{className:"receipt-value",children:ge(a.valorPago)})]}),(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Troco:"}),(0,dt.jsx)("span",{className:"receipt-value",children:ge(Te)})]}),(0,dt.jsx)("div",{className:"receipt-divider"}),(0,dt.jsxs)("div",{className:"receipt-row",children:[(0,dt.jsx)("span",{className:"receipt-label",children:"Status:"}),(0,dt.jsx)("span",{className:"receipt-value receipt-status",children:a.status})]})]}),(0,dt.jsx)("div",{className:"receipt-footer",children:(0,dt.jsx)("p",{children:"Obrigado pela prefer\xeancia!"})})]}),(0,dt.jsxs)("div",{className:"qr-code-section",children:[(0,dt.jsx)("h3",{children:"ID da Venda"}),(0,dt.jsx)("div",{className:"sale-id-display",children:(0,dt.jsx)("strong",{children:a.id})}),(0,dt.jsx)("p",{className:"qr-instruction",children:"Use este ID para localizar a venda no hist\xf3rico."})]}),(0,dt.jsxs)("div",{className:"final-summary",children:[(0,dt.jsx)("h3",{children:"Resumo Final"}),(0,dt.jsxs)("div",{className:"summary-details",children:[(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Vendedor:"})," ",ue]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Cliente:"})," ",a.cliente.name]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Total:"})," ",ge(Se)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Desconto:"})," ",ge(a.desconto)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Valor Pago:"})," ",ge(a.valorPago)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Troco:"})," ",ge(Te)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Status:"})," ",a.status]})]})]}),(0,dt.jsxs)("div",{className:"receipt-section",children:[(0,dt.jsx)("h3",{children:"Comprovante de Venda"}),(0,dt.jsxs)("div",{className:"receipt-details",children:[(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"ID:"})," ",a.id]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Vendedor:"})," ",ue]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Cliente:"})," ",a.cliente.name]}),(0,dt.jsx)("p",{children:(0,dt.jsx)("strong",{children:"Itens:"})}),(0,dt.jsx)("ul",{children:a.itens.map((e=>(0,dt.jsxs)("li",{children:[e.nome," x",e.quantidadeSelecionada," -"," ",ge(e.preco*e.quantidadeSelecionada)]},e.id)))}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Total:"})," ",ge(Se)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Desconto:"})," ",ge(a.desconto||0)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Valor Pago:"})," ",ge(a.valorPago)]}),(0,dt.jsxs)("p",{children:[(0,dt.jsx)("strong",{children:"Troco:"})," ",ge(Te)]})]})]})]}),(0,dt.jsxs)("div",{className:"navigation-buttons",children:[s>1&&s<5&&!i&&(0,dt.jsx)("button",{className:"nav-button prev",onClick:Ie,children:"\u2190 Anterior"}),s>2&&s<5&&i&&(0,dt.jsx)("button",{className:"nav-button prev",onClick:Ie,children:"\u2190 Anterior"}),s<3&&(0,dt.jsx)("button",{className:"nav-button next",onClick:Ee,children:"Continuar \u2192"}),3===s&&(0,dt.jsx)("button",{className:"nav-button next",onClick:Ee,children:"Continuar \u2192"}),4===s&&(0,dt.jsx)("button",{className:"nav-button finalize",onClick:Ee,children:"Finalizar Venda"}),5===s&&(0,dt.jsx)("button",{className:"nav-button new",onClick:()=>window.location.reload(),children:"Nova Venda"})]}),K.finalizar&&(0,dt.jsx)("div",{className:"error-message global",children:K.finalizar})]})]})};var jt,Vt;(Vt=jt||(jt={}))[Vt.QR_CODE=0]="QR_CODE",Vt[Vt.AZTEC=1]="AZTEC",Vt[Vt.CODABAR=2]="CODABAR",Vt[Vt.CODE_39=3]="CODE_39",Vt[Vt.CODE_93=4]="CODE_93",Vt[Vt.CODE_128=5]="CODE_128",Vt[Vt.DATA_MATRIX=6]="DATA_MATRIX",Vt[Vt.MAXICODE=7]="MAXICODE",Vt[Vt.ITF=8]="ITF",Vt[Vt.EAN_13=9]="EAN_13",Vt[Vt.EAN_8=10]="EAN_8",Vt[Vt.PDF_417=11]="PDF_417",Vt[Vt.RSS_14=12]="RSS_14",Vt[Vt.RSS_EXPANDED=13]="RSS_EXPANDED",Vt[Vt.UPC_A=14]="UPC_A",Vt[Vt.UPC_E=15]="UPC_E",Vt[Vt.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var Kt,Gt,zt,Wt,Xt=new Map([[jt.QR_CODE,"QR_CODE"],[jt.AZTEC,"AZTEC"],[jt.CODABAR,"CODABAR"],[jt.CODE_39,"CODE_39"],[jt.CODE_93,"CODE_93"],[jt.CODE_128,"CODE_128"],[jt.DATA_MATRIX,"DATA_MATRIX"],[jt.MAXICODE,"MAXICODE"],[jt.ITF,"ITF"],[jt.EAN_13,"EAN_13"],[jt.EAN_8,"EAN_8"],[jt.PDF_417,"PDF_417"],[jt.RSS_14,"RSS_14"],[jt.RSS_EXPANDED,"RSS_EXPANDED"],[jt.UPC_A,"UPC_A"],[jt.UPC_E,"UPC_E"],[jt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function Yt(e){return Object.values(jt).includes(e)}(Gt=Kt||(Kt={}))[Gt.UNKNOWN=0]="UNKNOWN",Gt[Gt.URL=1]="URL",(Wt=zt||(zt={}))[Wt.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",Wt[Wt.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE";var qt,$t,Jt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[zt.SCAN_TYPE_CAMERA,zt.SCAN_TYPE_FILE],e}(),Zt=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Xt.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Xt.get(t))},e}(),en=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();($t=qt||(qt={}))[$t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",$t[$t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",$t[$t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR";var tn=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:qt.UNKWOWN_ERROR}},e}(),nn=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function rn(e){return"undefined"===typeof e||null===e}var An,sn,on=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),an=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),ln=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),cn=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!==typeof e){var n=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var r=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),A=0,i=Object.keys(e);A<i.length;A++){var s=i[A];if(r.has(s))return t.logError("".concat(s," is not supported videoConstaints."),!0),!1}return!0},e}(),un=n(72),hn=function(){function e(e,t,n){if(this.formatMap=new Map([[jt.QR_CODE,un.BarcodeFormat.QR_CODE],[jt.AZTEC,un.BarcodeFormat.AZTEC],[jt.CODABAR,un.BarcodeFormat.CODABAR],[jt.CODE_39,un.BarcodeFormat.CODE_39],[jt.CODE_93,un.BarcodeFormat.CODE_93],[jt.CODE_128,un.BarcodeFormat.CODE_128],[jt.DATA_MATRIX,un.BarcodeFormat.DATA_MATRIX],[jt.MAXICODE,un.BarcodeFormat.MAXICODE],[jt.ITF,un.BarcodeFormat.ITF],[jt.EAN_13,un.BarcodeFormat.EAN_13],[jt.EAN_8,un.BarcodeFormat.EAN_8],[jt.PDF_417,un.BarcodeFormat.PDF_417],[jt.RSS_14,un.BarcodeFormat.RSS_14],[jt.RSS_EXPANDED,un.BarcodeFormat.RSS_EXPANDED],[jt.UPC_A,un.BarcodeFormat.UPC_A],[jt.UPC_E,un.BarcodeFormat.UPC_E],[jt.UPC_EAN_EXTENSION,un.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!un)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),A=new Map;A.set(un.DecodeHintType.POSSIBLE_FORMATS,r),A.set(un.DecodeHintType.TRY_HARDER,!1),this.hints=A}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(n,r){try{n(t.decode(e))}catch(A){r(A)}}))},e.prototype.decode=function(e){var t=new un.MultiFormatReader(this.verbose,this.hints),n=new un.HTMLCanvasElementLuminanceSource(e),r=new un.BinaryBitmap(new un.HybridBinarizer(n)),A=t.decode(r);return{text:A.text,format:Zt.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var A=r[n];this.formatMap.has(A)?t.push(this.formatMap.get(A)):this.logger.logError("".concat(A," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),dn=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},fn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},gn=function(){function e(t,n,r){if(this.formatMap=new Map([[jt.QR_CODE,"qr_code"],[jt.AZTEC,"aztec"],[jt.CODABAR,"codabar"],[jt.CODE_39,"code_39"],[jt.CODE_93,"code_93"],[jt.CODE_128,"code_128"],[jt.DATA_MATRIX,"data_matrix"],[jt.ITF,"itf"],[jt.EAN_13,"ean_13"],[jt.EAN_8,"ean_8"],[jt.PDF_417,"pdf417"],[jt.UPC_A,"upc_a"],[jt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var A=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(A),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&"undefined"!==typeof new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return dn(this,void 0,void 0,(function(){var t,n;return fn(this,(function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=r.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(t)).rawValue,format:Zt.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0,A=e;r<A.length;r++){var i=A[r],s=i.boundingBox.width*i.boundingBox.height;s>n&&(n=s,t=i)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var A=r[n];this.formatMap.has(A)?t.push(this.formatMap.get(A)):this.logger.warn("".concat(A," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),pn=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},mn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},wn=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&gn.isSupported()?(this.primaryDecoder=new gn(e,n,r),this.secondaryDecoder=new hn(e,n,r)):this.primaryDecoder=new hn(e,n,r)}return e.prototype.decodeAsync=function(e){return pn(this,void 0,void 0,(function(){var t;return mn(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return pn(this,void 0,void 0,(function(){var t,n;return mn(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(n=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){e+=n[t]}var r=e/this.executionResults.length;console.log("".concat(r," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),yn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cn=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},Bn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},vn=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),En=function(e){function t(t){return e.call(this,"zoom",t)||this}return yn(t,e),t}(function(e){function t(t,n){return e.call(this,t,n)||this}return yn(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(vn)),In=function(e){function t(t){return e.call(this,"torch",t)||this}return yn(t,e),t}(vn),bn=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new En(this.track)},e.prototype.torchFeature=function(){return new In(this.track)},e}(),Sn=function(){function e(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var n=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,r),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,A){return Cn(this,void 0,void 0,(function(){var i,s;return Bn(this,(function(o){switch(o.label){case 0:return i=new e(t,n,A),r.aspectRatio?(s={aspectRatio:r.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:o.sent(),o.label=2;case 2:return i.setupSurface(),[2,i]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return Cn(this,void 0,void 0,(function(){return Bn(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,n){var r=e.mediaStream.getVideoTracks().length,A=0;e.mediaStream.getVideoTracks().forEach((function(n){e.mediaStream.removeTrack(n),n.stop(),++A>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new bn(this.getFirstTrackOrFail())},e}(),Tn=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,n){return Cn(this,void 0,void 0,(function(){return Bn(this,(function(r){return[2,Sn.create(e,this.mediaStream,t,n)]}))}))},e.create=function(t){return Cn(this,void 0,void 0,(function(){var n;return Bn(this,(function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return[2,new e(r.sent())]}}))}))},e}(),_n=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},Fn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Nn=function(){function e(){}return e.failIfNotSupported=function(){return _n(this,void 0,void 0,(function(){return Fn(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return _n(this,void 0,void 0,(function(){return Fn(this,(function(t){return[2,Tn.create(e)]}))}))},e}(),Un=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},Dn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Qn=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=on.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=on.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return Un(this,void 0,void 0,(function(){var e,t,n,r,A,i,s;return Dn(this,(function(o){switch(o.label){case 0:return e=function(e){for(var t=0,n=e.getVideoTracks();t<n.length;t++){var r=n[t];r.enabled=!1,r.stop(),e.removeTrack(r)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=o.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=o.sent(),r=[],A=0,i=n;A<i.length;A++)"videoinput"===(s=i[A]).kind&&r.push({id:s.deviceId,label:s.label});return e(t),[2,r]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var n=[],r=0,A=t;r<A.length;r++){var i=A[r];"video"===i.kind&&n.push({id:i.id,label:i.label})}e(n)}))}))},e}();(sn=An||(An={}))[sn.UNKNOWN=0]="UNKNOWN",sn[sn.NOT_STARTED=1]="NOT_STARTED",sn[sn.SCANNING=2]="SCANNING",sn[sn.PAUSED=3]="PAUSED";var xn,Rn,Mn=function(){function e(){this.state=An.NOT_STARTED,this.onGoingTransactionNewState=An.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===An.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=An.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===An.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=An.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==An.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case An.UNKNOWN:throw"Transition from unknown is not allowed";case An.NOT_STARTED:this.failIfNewStateIs(e,[An.PAUSED]);case An.SCANNING:case An.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0,r=t;n<r.length;n++){if(e===r[n])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),On=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===An.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==An.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===An.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===An.PAUSED},e}(),Ln=function(){function e(){}return e.create=function(){return new On(new Mn)},e}(),kn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kn(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Jt),Hn=function(){function e(e,t){this.logger=t,this.fps=Pn.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Pn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cn.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!rn(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),jn=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var n;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(n=t,this.verbose=!0===n.verbose,n.experimentalFeatures),this.logger=new nn(this.verbose),this.qrcode=new wn(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ln.create()}return e.prototype.start=function(e,t,n,r){var A,i=this;if(!e)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";A=r||(this.verbose?this.logger.log:function(){});var s=Hn.create(t,this.logger);this.clearElement();var o=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?o=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var a=o,l=document.getElementById(this.elementId);l.clientWidth?l.clientWidth:Pn.DEFAULT_WIDTH;l.style.position="relative",this.shouldScan=!0,this.element=l;var c=this,u=this.stateManagerProxy.startTransition(An.SCANNING);return new Promise((function(t,r){var o=a?s.videoConstraints:c.createVideoConstraints(e);if(!o)return u.cancel(),void r("videoConstraints should be defined");var l={};a&&!s.aspectRatio||(l.aspectRatio=s.aspectRatio);var h={onRenderSurfaceReady:function(e,t){c.setupUi(e,t,s),c.isScanning=!0,c.foreverScan(s,n,A)}};Nn.failIfNotSupported().then((function(e){e.create(o).then((function(e){return e.render(i.element,l,h).then((function(e){c.renderedCamera=e,u.execute(),t(null)})).catch((function(e){u.cancel(),r(e)}))})).catch((function(e){u.cancel(),r(on.errorGettingUserMedia(e))}))})).catch((function(e){u.cancel(),r(on.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(An.PAUSED),this.showPausedState(),(rn(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(An.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(An.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=this;return this.renderedCamera.close().then((function(){return n.renderedCamera=null,n.element&&(n.element.removeChild(n.canvasElement),n.canvasElement=null),function(){if(e.element){var t=document.getElementById(Pn.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),t.execute(),n.hidePausedState(),n.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rn(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(r,A){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var i=new Image;i.onload=function(){var e=i.width,s=i.height,o=document.getElementById(n.elementId),a=o.clientWidth?o.clientWidth:Pn.DEFAULT_WIDTH,l=Math.max(o.clientHeight?o.clientHeight:s,Pn.FILE_SCAN_MIN_HEIGHT),c=n.computeCanvasDrawConfig(e,s,a,l);if(t){var u=n.createCanvasElement(a,l,"qr-canvas-visible");u.style.display="inline-block",o.appendChild(u);var h=u.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=a,h.canvas.height=l,h.drawImage(i,0,0,e,s,c.x,c.y,c.width,c.height)}var d=Pn.FILE_SCAN_HIDDEN_CANVAS_PADDING,f=Math.max(i.width,c.width),g=Math.max(i.height,c.height),p=f+2*d,m=g+2*d,w=n.createCanvasElement(p,m);o.appendChild(w);var y=w.getContext("2d");if(!y)throw"Unable to get 2d context from canvas";y.canvas.width=p,y.canvas.height=m,y.drawImage(i,0,0,e,s,d,d,f,g);try{n.qrcode.decodeRobustlyAsync(w).then((function(e){r(en.createFromQrcodeResult(e))})).catch(A)}catch(C){A("QR code parse error, error = ".concat(C))}},i.onerror=A,i.onabort=A,i.onstalled=A,i.onsuspend=A,i.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Qn.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!cn.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[jt.QR_CODE,jt.AZTEC,jt.CODABAR,jt.CODE_39,jt.CODE_93,jt.CODE_128,jt.DATA_MATRIX,jt.MAXICODE,jt.ITF,jt.EAN_13,jt.EAN_8,jt.PDF_417,jt.RSS_14,jt.RSS_EXPANDED,jt.UPC_A,jt.UPC_E,jt.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],r=0,A=e.formatsToSupport;r<A.length;r++){var i=A[r];Yt(i)?n.push(i):this.logger.warn("Invalid format: ".concat(i," passed in config, ignoring."))}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(rn(e))return!0;if(!rn(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(rn(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!rn(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,n){var r=this,A=n.qrbox;this.validateQrboxConfig(A);var i,s=this.toQrdimensions(e,t,A),o=function(e){if(e<Pn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Pn.MIN_QR_BOX_SIZE,"px.")};o(s.width),o(s.height),s.width=((i=s.width)>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),i=e),i)},e.prototype.validateQrboxConfig=function(e){if("number"!==typeof e&&"function"!==typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,n){if("number"===typeof n)return{width:n,height:n};if("function"===typeof n)try{return n(e,t)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=rn(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var A=this.toQrdimensions(e,t,r);A.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var i=n.isShadedBoxEnabled()&&A.height<=t,s={x:0,y:0,width:e,height:t},o=i?this.getShadedRegionBounds(e,t,A):s,a=this.createCanvasElement(o.width,o.height),l=a.getContext("2d",{willReadFrequently:!0});l.canvas.width=o.width,l.canvas.height=o.height,this.element.append(a),i&&this.possiblyInsertShadingElement(this.element,e,t,A),this.createScannerPausedUiElement(this.element),this.qrRegion=o,this.context=l,this.canvasElement=a},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=on.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,en.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0})).catch((function(e){n.possiblyUpdateShaders(!1);var r=on.codeParseError(e);return t(r,tn.createFrom(r)),!1}))},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.renderedCamera){var A=this.renderedCamera.getSurface(),i=A.videoWidth/A.clientWidth,s=A.videoHeight/A.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var o=this.qrRegion.width*i,a=this.qrRegion.height*s,l=this.qrRegion.x*i,c=this.qrRegion.y*s;this.context.drawImage(A,l,c,o,a,0,0,this.qrRegion.width,this.qrRegion.height);var u=function(){r.foreverScanTimeout=setTimeout((function(){r.foreverScan(e,t,n)}),r.getTimeoutFps(e.fps))};this.scanContext(t,n).then((function(A){A||!0===e.disableFlip?u():(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally((function(){u()})))})).catch((function(e){r.logger.logError("Error happend while scanning context",e),u()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",n="deviceId",r={user:!0,environment:!0},A="exact",i=function(e){if(e in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},s=Object.keys(e);if(1!==s.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var o=Object.keys(e)[0];if(o!==t&&o!==n)throw"Only '".concat(t,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(o!==t){var a=e.deviceId;if("string"==typeof a)return{deviceId:a};if("object"==typeof a){if(A in a)return{deviceId:{exact:a["".concat(A)]}};throw"'deviceId' should be string or object with"+" ".concat(A," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof a)}var l=e.facingMode;if("string"==typeof l){if(i(l))return{facingMode:l}}else{if("object"!=typeof l)throw"Invalid type of 'facingMode' = ".concat(typeof l);if(!(A in l))throw"'facingMode' should be string or object with"+" ".concat(A," as key.");if(i(l["".concat(A)]))return{facingMode:{exact:l["".concat(A)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var A=e,i=t;return e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(i)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?Pn.BORDER_SHADER_MATCH_COLOR:Pn.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,n){var r=e,A=t,i=document.createElement("canvas");return i.style.width="".concat(r,"px"),i.style.height="".concat(A,"px"),i.style.display="none",i.id=rn(n)?"qr-canvas":n,i},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1||n-r.height<1)){var A=document.createElement("div");A.style.position="absolute";var i=(t-r.width)/2,s=(n-r.height)/2;if(A.style.borderLeft="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderRight="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),A.style.boxSizing="border-box",A.style.top="0px",A.style.bottom="0px",A.style.left="0px",A.style.right="0px",A.id="".concat(Pn.SHADED_REGION_ELEMENT_ID),t-r.width<11||n-r.height<11)this.hasBorderShaders=!1;else{var o=40;this.insertShaderBorders(A,o,5,-5,null,0,!0),this.insertShaderBorders(A,o,5,-5,null,0,!1),this.insertShaderBorders(A,o,5,null,-5,0,!0),this.insertShaderBorders(A,o,5,null,-5,0,!1),this.insertShaderBorders(A,5,45,-5,null,-5,!0),this.insertShaderBorders(A,5,45,null,-5,-5,!0),this.insertShaderBorders(A,5,45,-5,null,-5,!1),this.insertShaderBorders(A,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(A)}},e.prototype.insertShaderBorders=function(e,t,n,r,A,i,s){var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=Pn.BORDER_SHADER_DEFAULT_COLOR,o.style.width="".concat(t,"px"),o.style.height="".concat(n,"px"),null!==r&&(o.style.top="".concat(r,"px")),null!==A&&(o.style.bottom="".concat(A,"px")),s?o.style.left="".concat(i,"px"):o.style.right="".concat(i,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(o),e.appendChild(o)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),Vn="data:image/svg+xml;base64,",Kn=Vn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Gn=Vn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",zn=Vn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Wn=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Xn=function(){function e(){this.data=Wn.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Wn.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Yn=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ln.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var n=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var A=document.createElement("a");A.innerText=ln.reportIssues(),A.href="https://github.com/mebjas/html5-qrcode/issues",A.target="new",A.style.color="white",this.infoDiv.appendChild(A),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),qn=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=zn,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=zn,this.infoIcon.style.opacity="0.6")},e}(),$n=function(){function e(){var e=this;this.infoDiv=new Yn,this.infoIcon=new qn((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),Jn=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},Zn=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},er=function(){function e(){}return e.hasPermissions=function(){return Jn(this,void 0,void 0,(function(){var e,t,n,r;return Zn(this,(function(A){switch(A.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=A.sent(),t=0,n=e;t<n.length;t++)if("videoinput"===(r=n[t]).kind&&r.label)return[2,!0];return[2,!1]}}))}))},e}(),tr=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===zt.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===zt.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return Jt.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Jt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var n=0,r=e;n<r.length;n++){var A=r[n];if(!Jt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(A))throw"Unsupported scan type ".concat(A)}return e},e}(),nr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),rr=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(nr.ALL_ELEMENT_CLASS),"button"===e&&n.setAttribute("type","button"),n},e}(),Ar=function(e,t,n,r){return new(n||(n=Promise))((function(A,i){function s(e){try{a(r.next(e))}catch(Sr){i(Sr)}}function o(e){try{a(r.throw(e))}catch(Sr){i(Sr)}}function a(e){var t;e.done?A(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},ir=function(e,t){var n,r,A,i,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(A=2&o[0]?r.return:o[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,o[1])).done)return A;switch(r=0,A&&(o=[2&o[0],A.value]),o[0]){case 0:case 1:A=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(A=(A=s.trys).length>0&&A[A.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!A||o[1]>A[0]&&o[1]<A[3])){s.label=o[1];break}if(6===o[0]&&s.label<A[1]){s.label=A[1],A=o;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(o);break}A[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Sr){o=[6,Sr],r=0}finally{n=A=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sr=function(){function e(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ar(this,void 0,void 0,(function(){var e,t;return ir(this,(function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?an.torchOffButton():an.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var n=e?an.torchOnFailedMessage():an.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),or=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=rr.createElement("button",nr.TORCH_BUTTON_ID),this.torchController=new sr(e,this,t)}return e.prototype.render=function(e,t){var n=this;this.torchButton.innerText=an.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var r=this;this.torchButton.addEventListener("click",(function(e){return Ar(n,void 0,void 0,(function(){return ir(this,(function(e){switch(e.label){case 0:return[4,r.torchController.flipState()];case 1:return e.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(nr.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(nr.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(nr.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(nr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new sr(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=an.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,A){var i=new e(n,A);return i.render(t,r),i},e}(),ar=function(){function e(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=rr.createElement("button",nr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){r.click()})),r.append(this.fileSelectionButton),this.fileScanInput=rr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var A=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var r=t.files[0],i=r.name;A.setImageNameToButton(i),n(r)}}}));var i=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(i),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){A.fileBasedScanRegion.style.border=A.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){A.fileBasedScanRegion.style.border=A.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){A.fileBasedScanRegion.style.border=A.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),A.fileBasedScanRegion.style.border=A.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var r=t.files;if(!r||0===r.length)return;for(var s=!1,o=0;o<r.length;++o){var a=r.item(o);if(a){if(a.type.match(/image.*/)){s=!0;var l=a.name;A.setImageNameToButton(l),n(a),i.innerText=an.dragAndDropMessage();break}}}s||(i.innerText=an.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=an.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length,r=e.substring(n-8,n);e="".concat(t,"....").concat(r)}var A=an.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=A},e.prototype.setInitialValueToButton=function(){var e=an.fileSelectionChooseImage()+" - "+an.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),lr=function(){function e(e){this.selectElement=rr.createElement("select",nr.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var n=this.cameras.length;if(0===n)throw new Error("No cameras found");if(1===n)t.style.display="none";else{var r=an.selectCamera();t.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var A=1,i=0,s=this.cameras;i<s.length;i++){var o=s[i],a=o.id,l=null==o.label?a:o.label;l&&""!==l||(l=[an.anonymousCameraPrefix(),A++].join(" "));var c=document.createElement("option");c.value=a,c.innerText=l,this.options.push(c),this.selectElement.appendChild(c)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++){if(n[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),cr=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=rr.createElement("input",nr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=an.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",(function(){return r.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return r.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=an.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,n,r){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();(Rn=xn||(xn={}))[Rn.STATUS_DEFAULT=0]="STATUS_DEFAULT",Rn[Rn.STATUS_SUCCESS=1]="STATUS_SUCCESS",Rn[Rn.STATUS_WARNING=2]="STATUS_WARNING",Rn[Rn.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION";!function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new tr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new nn(this.verbose),this.persistedDataManager=new Xn,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,r){if(e)e(t,r);else{if(n.lastMatchFound===t)return;n.lastMatchFound=t,n.setHeaderMessage(an.lastMatch(t),xn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var r,A,i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new jn(this.getScanRegionId(),(r=this.config,A=this.verbose,{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:A}))},e.prototype.pause=function(e){(rn(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(n,r){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(r){e.html5Qrcode?(e.html5Qrcode.clear(),t(),n()):n()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),r(t)})):(e.html5Qrcode.clear(),t(),n()):n()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Jt.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Jt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Jt.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Jt.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Jt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Jt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Jt.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),tr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),A=this.getDashboardId();r.id=A,r.style.width="100%",e.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new $n).renderInto(t);var n=document.createElement("div");n.id=this.getHeaderMessageContainerId(),n.style.display="none",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="2px 10px",n.style.margin="4px",n.style.borderTop="1px solid #f6f6f6",t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(an.cameraPermissionRequesting());var A=function(){n||r.createPermissionButton(e,t)};jn.getCameras().then((function(n){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(an.noCameraFound(),xn.STATUS_WARNING),A())})).catch((function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:A(),r.setHeaderMessage(e,xn.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var n=this,r=rr.createElement("button",this.getCameraPermissionButtonId());r.innerText=an.cameraPermissionTitle(),r.addEventListener("click",(function(){r.disabled=!0,n.createCameraListUi(e,t,r)})),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;tr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?er.hasPermissions().then((function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))})).catch((function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=tr.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var r=document.createElement("div");r.style.textAlign="center",n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=tr.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=ar.create(e,t,(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";tr.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(an.loadingImage()),n.html5Qrcode.scanFileV2(e,!0).then((function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){n.setHeaderMessage(e,xn.STATUS_WARNING),n.qrCodeErrorCallback(e,tn.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var A=cr.create(r,!1),i=lr.create(r,e),s=document.createElement("span"),o=rr.createElement("button",nr.CAMERA_START_BUTTON_ID);o.innerText=an.scanButtonStartScanningText(),s.appendChild(o);var a,l=rr.createElement("button",nr.CAMERA_STOP_BUTTON_ID);l.innerText=an.scanButtonStopScanningText(),l.style.display="none",l.disabled=!0,s.appendChild(l);r.appendChild(s);var c=function(e){e||(o.style.display="none"),o.innerText=an.scanButtonStartScanningText(),o.style.opacity="1",o.disabled=!1,e&&(o.style.display="inline-block")};if(o.addEventListener("click",(function(e){o.innerText=an.scanButtonScanningStarting(),i.disable(),o.disabled=!0,o.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r,u=i.getValue();n.persistedDataManager.setLastUsedCameraId(u),n.html5Qrcode.start(u,(r=n.config,{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then((function(e){l.disabled=!1,l.style.display="inline-block",c(!1);var r=n.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(a?a.updateTorchCapability(e.torchFeature()):a=or.create(s,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){n.setHeaderMessage(e,xn.STATUS_WARNING)})),a.show()):a&&a.hide()}(r),!0===t.config.showZoomSliderIfSupported&&function(e){var n=e.zoomFeature();if(n.isSupported()){A.setOnCameraZoomValueChangeCallback((function(e){n.apply(e)}));var r,i,s,o=1;t.config.defaultZoomValueIfSupported&&(o=t.config.defaultZoomValueIfSupported),r=o,i=n.min(),o=r>(s=n.max())?s:r<i?i:r,A.setValues(n.min(),n.max(),o,n.step()),A.show()}}(r)})).catch((function(e){n.showHideScanTypeSwapLink(!0),i.enable(),c(!0),n.setHeaderMessage(e,xn.STATUS_WARNING)}))})),i.hasSingleItem()&&o.click(),l.addEventListener("click",(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";l.disabled=!0,n.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),i.enable(),o.disabled=!1,l.style.display="none",o.style.display="inline-block",a&&(a.reset(),a.hide()),A.removeOnCameraZoomValueChangeCallback(),A.hide(),n.insertCameraScanImageToScanRegion()})).catch((function(e){l.disabled=!1,n.setHeaderMessage(e,xn.STATUS_WARNING)}))})),n.persistedDataManager.getLastUsedCameraId()){var u=n.persistedDataManager.getLastUsedCameraId();i.hasValue(u)?(i.setValue(u),o.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=an.textIfCameraScanSelected(),n=an.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),A=document.createElement("div");A.style.textAlign="center";var i=rr.createElement("span",this.getDashboardSectionSwapLinkId());i.style.textDecoration="underline",i.style.cursor="pointer",i.innerText=tr.isCameraScanType(this.currentScanType)?t:n,i.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,tr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),i.innerText=n,e.currentScanType=zt.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),i.innerText=t,e.currentScanType=zt.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),A.appendChild(i),r.appendChild(A)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&er.hasPermissions().then((function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=xn.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case xn.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case xn.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case xn.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Kn,this.cameraScanImage.alt=an.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Gn,this.fileScanImage.alt=an.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return nr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return nr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();const ur=()=>{var t,n,r,A;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[u,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!0),[g,p]=(0,e.useState)(""),[m,w]=(0,e.useState)("today"),[y,C]=(0,e.useState)("todos"),[B,v]=(0,e.useState)(!1),[E,I]=(0,e.useState)(!1),[b,S]=(0,e.useState)(!1),[T,_]=(0,e.useState)([]),[F,N]=(0,e.useState)(0),U=(0,e.useRef)(null),[D,Q]=(0,e.useState)(!1),[x,R]=(0,e.useState)(""),M=te(),[O,L]=(0,e.useState)("usuario"),[k,P]=(0,e.useState)("user");(0,e.useEffect)((()=>{const e=ut.j.onAuthStateChanged((e=>{e&&("01leonardoaraujo@gmail.com"===e.email&&P("admin"),H())})),t=()=>{H()};return window.addEventListener("salesUpdated",t),()=>{e(),window.removeEventListener("salesUpdated",t)}}),[m,O]),(0,e.useEffect)((()=>{j()}),[i,g,y]);const H=async()=>{try{f(!0),s([]),a([]);const e=[],t=new Date,n=ut.j.currentUser;if(console.log("[FETCH SALES] Iniciando busca..."),console.log("[FETCH SALES] currentUser:",null===n||void 0===n?void 0:n.email),console.log("[FETCH SALES] viewMode:",O),console.log("[FETCH SALES] timeFilter:",m),!n)return console.log("[FETCH SALES] Usu\xe1rio n\xe3o autenticado, aguardando..."),void f(!1);const r=n.displayName||n.email;console.log("[FETCH SALES] currentUserName:",r);let A=1;"week"===m&&(A=7),"month"===m&&(A=30),"year"===m&&(A=365);const i=(0,ht.collection)(ut.db,"Vendas"),o=await(0,ht.getDocs)(i);console.log("[FETCH SALES] Total de documentos no Firebase:",o.size),o.forEach((n=>{console.log("[FETCH SALES] Processando doc:",n.id);const i=n.data();if(console.log("[FETCH SALES] saleData:",i),i){var s;if(console.log("[FETCH SALES] vendedor na venda:",i.vendedor),console.log("[FETCH SALES] currentUserName:",r),console.log("[FETCH SALES] viewMode:",O),"usuario"===O&&i.vendedor&&i.vendedor!==r)return void console.log("[FETCH SALES] Venda ignorada: vendedor diferente");const o=null!==(s=i.createdAt)&&void 0!==s&&s.toDate?i.createdAt.toDate():new Date;Math.floor((t-o)/864e5)<=A&&e.push({id:i.id||n.id,cliente:i.cliente||{},itens:i.itens||[],valorTotal:i.valorTotal||0,valorPago:i.valorPago||0,troco:i.troco||0,doacao:i.doacao||0,desconto:i.desconto||0,status:i.statusPagamento||i.status||"Pendente",deliveryStatus:i.deliveryStatus||"Pendente",totalItens:(i.itens||[]).length,date:o.toLocaleDateString("pt-BR"),time:o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),fullDate:o,createdAt:i.createdAt})}})),console.log("[FETCH SALES] Total de vendas processadas:",e.length);const l=e.filter(((e,t,n)=>t===n.findIndex((t=>t.id===e.id))));console.log("[FETCH SALES] Vendas \xfanicas ap\xf3s filtro:",l.length),l.sort(((e,t)=>t.fullDate-e.fullDate)),s(l),console.log("[FETCH SALES] Vendas definidas no estado:",l.length)}catch(e){console.error("Erro:",e),s([])}finally{f(!1)}},j=()=>{let e=i;g&&(e=e.filter((e=>{var t,n;return(null===(t=e.cliente)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(g.toLowerCase()))||e.id.toLowerCase().includes(g.toLowerCase())||e.date.includes(g)}))),"todos"!==y&&(e=e.filter((e=>{var t,n,r,A;const i=(null===(t=e.itens)||void 0===t?void 0:t.filter((e=>e.entregue)).length)||0,s=e.totalItens;switch(y){case"pago":return"pago"===(null===(n=e.status)||void 0===n?void 0:n.toLowerCase());case"pendente":return"pendente"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase());case"parcial":return"parcial"===(null===(A=e.status)||void 0===A?void 0:A.toLowerCase());case"entregue":return i===s;case"nao-entregue":return 0===i;case"parcial-entregue":return i>0&&i<s;default:return!0}}))),a(e)},V=e=>{c(e),h(!0)},K=()=>{h(!1),c(null)},G=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;try{var n;S(!0);const r=new jn("qr-reader");U.current=r;const A=(null===(n=t[e])||void 0===n?void 0:n.id)||{facingMode:"environment"};await r.start(A,{fps:10,qrbox:{width:250,height:250}},(e=>{X(e)}),(e=>{}))}catch(r){console.error("Erro ao iniciar scanner:",r),S(!1)}},W=async()=>{if(U.current)try{await U.current.stop(),U.current.clear()}catch(e){}S(!1),I(!1)},X=async e=>{await W();const t=i.find((t=>t.id===e));t?V(t):alert(`Venda ${e} n\xe3o encontrada`)};return d?(0,dt.jsxs)("div",{className:"history",children:[(0,dt.jsx)("div",{className:"skeleton-header"}),(0,dt.jsx)("div",{className:"skeleton-filters"}),(0,dt.jsxs)("div",{className:"skeleton-grid",children:[(0,dt.jsx)("div",{className:"skeleton-card"}),(0,dt.jsx)("div",{className:"skeleton-card"}),(0,dt.jsx)("div",{className:"skeleton-card"}),(0,dt.jsx)("div",{className:"skeleton-card"})]})]}):(0,dt.jsxs)("div",{className:"history",children:[(0,dt.jsxs)("div",{className:"history-header",children:[(0,dt.jsxs)("div",{className:"view-selector",children:[(0,dt.jsx)("button",{className:"usuario"===O?"active":"",onClick:()=>L("usuario"),children:"Usu\xe1rio"}),("admin"===k||"gerente"===k)&&(0,dt.jsx)("button",{className:"global"===O?"active":"",onClick:()=>L("global"),children:"Global"})]}),(0,dt.jsxs)("div",{className:"search-section",children:[(0,dt.jsx)("input",{type:"text",placeholder:"Buscar por cliente, ID ou data...",value:g,onChange:e=>p(e.target.value),className:"search-input"}),(0,dt.jsx)("button",{className:"qr-btn",onClick:async()=>{I(!0);const e=await jn.getCameras();_(e);const t=parseInt(localStorage.getItem("lastCameraIndex"))||0,n=t<e.length?t:0;N(n),setTimeout((()=>z(n,e)),100)},children:"\ud83d\udcf1 QR Code"})]}),(0,dt.jsxs)("div",{className:"filter-tabs",children:[(0,dt.jsx)("button",{className:"filter-tab "+("today"===m?"active":""),onClick:()=>w("today"),children:"Hoje"}),(0,dt.jsx)("button",{className:"filter-tab "+("week"===m?"active":""),onClick:()=>w("week"),children:"Semana"}),(0,dt.jsx)("button",{className:"filter-tab "+("month"===m?"active":""),onClick:()=>w("month"),children:"M\xeas"}),(0,dt.jsx)("button",{className:"filter-tab "+("year"===m?"active":""),onClick:()=>w("year"),children:"Ano"})]}),(0,dt.jsxs)("div",{className:"results-count",children:[o.length," vendas encontradas"]})]}),(0,dt.jsxs)("div",{className:"sales-grid",children:[o.map(((e,t)=>{var n;return(0,dt.jsx)("div",{className:"sale-card",onClick:()=>V(e),children:(0,dt.jsxs)("div",{className:"card-body",children:[(0,dt.jsx)("div",{className:"client-name",children:(null===(n=e.cliente)||void 0===n?void 0:n.name)||"Cliente"}),(0,dt.jsxs)("div",{className:"sale-info",children:[(0,dt.jsxs)("span",{className:"sale-date",children:[e.date," \u2022 ",e.time]}),(0,dt.jsxs)("span",{className:"item-count",children:["\ud83d\udce6 ",e.totalItens," itens"]})]}),(0,dt.jsxs)("div",{className:"sale-bottom",children:[(0,dt.jsx)("div",{className:"sale-total",children:G((e.valorTotal||0)-(e.desconto||0))}),(0,dt.jsxs)("div",{className:"status-badges",children:[(0,dt.jsxs)("div",{className:"status-badge payment",style:{backgroundColor:(t=>{const n=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return"pago"===n?"#22c55e":"parcial"===n?"#eab308":"#ef4444"})()},children:["\ud83d\udcb0 ",e.status||"Pendente"]}),(0,dt.jsxs)("div",{className:"status-badge delivery",style:{backgroundColor:(t=>{const n=(null===(t=e.itens)||void 0===t?void 0:t.filter((e=>e.entregue)).length)||0;return n===e.totalItens?"#22c55e":n>0?"#eab308":"#ef4444"})()},children:["\ud83d\udce6 ",(t=>{const n=(null===(t=e.itens)||void 0===t?void 0:t.filter((e=>e.entregue)).length)||0,r=e.totalItens;return n===r?"Entregue":n>0?`${n}/${r}`:"Pendente"})()]})]})]})]})},`${m}-${e.id}-${t}`)})),0===o.length&&!d&&(0,dt.jsxs)("div",{className:"empty-state",children:[(0,dt.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,dt.jsx)("h3",{children:"Nenhuma venda encontrada"}),(0,dt.jsx)("p",{children:g?"Tente ajustar o termo de busca":"N\xe3o h\xe1 vendas cadastradas no sistema"})]})]}),(0,dt.jsx)("button",{className:"floating-filter-btn",onClick:()=>v(!B),children:"\ud83d\udcca"}),E&&(0,dt.jsx)("div",{className:"qr-scanner-modal",onClick:W,children:(0,dt.jsxs)("div",{className:"qr-scanner-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsxs)("div",{className:"qr-scanner-header",children:[(0,dt.jsx)("h3",{children:"Escanear QR Code"}),(0,dt.jsx)("button",{className:"close-btn",onClick:W,children:"\u2715"})]}),(0,dt.jsxs)("div",{className:"qr-scanner-body",children:[(0,dt.jsx)("div",{id:"qr-reader",style:{width:"100%"}}),T.length>1&&b&&(0,dt.jsx)("button",{className:"switch-camera-btn",onClick:async()=>{if(T.length<=1)return;if(U.current)try{await U.current.stop(),U.current.clear(),U.current=null}catch(t){}const e=(F+1)%T.length;N(e),localStorage.setItem("lastCameraIndex",e),setTimeout((()=>z(e,T)),300)},children:"\ud83d\udd04 Trocar C\xe2mera"}),!b&&(0,dt.jsxs)("div",{className:"qr-input-section",children:[(0,dt.jsx)("p",{children:"Ou digite o ID da venda:"}),(0,dt.jsx)("input",{type:"text",placeholder:"ID da venda",onKeyPress:e=>{"Enter"===e.key&&X(e.target.value)}})]})]})]})}),B&&(0,dt.jsx)("div",{className:"filter-menu",onClick:()=>v(!1),children:(0,dt.jsxs)("div",{className:"filter-menu-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsx)("h3",{children:"Filtrar por Status"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("todos"===y?"active":""),onClick:()=>{C("todos"),v(!1)},children:"Todos"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("pago"===y?"active":""),onClick:()=>{C("pago"),v(!1)},children:"\ud83d\udfe2 Pago"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("parcial"===y?"active":""),onClick:()=>{C("parcial"),v(!1)},children:"\ud83d\udfe1 Parcial"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("pendente"===y?"active":""),onClick:()=>{C("pendente"),v(!1)},children:"\ud83d\udd34 Pendente"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("entregue"===y?"active":""),onClick:()=>{C("entregue"),v(!1)},children:"\ud83d\udfe2 Entregue"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("parcial-entregue"===y?"active":""),onClick:()=>{C("parcial-entregue"),v(!1)},children:"\ud83d\udfe1 Parcial Entregue"}),(0,dt.jsx)("button",{className:"filter-menu-item "+("nao-entregue"===y?"active":""),onClick:()=>{C("nao-entregue"),v(!1)},children:"\ud83d\udd34 N\xe3o Entregue"})]})}),u&&l&&(0,dt.jsx)("div",{className:"modal",onClick:K,children:(0,dt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsxs)("div",{className:"modal-header",children:[(0,dt.jsxs)("h3",{children:["Venda #",l.id]}),(0,dt.jsx)("button",{className:"close-btn",onClick:K,children:"\u2715"})]}),(0,dt.jsxs)("div",{className:"modal-body",children:[(0,dt.jsxs)("div",{className:"info-section",children:[(0,dt.jsxs)("div",{className:"info-row",children:[(0,dt.jsx)("span",{children:"Cliente:"}),(0,dt.jsx)("span",{children:(null===(t=l.cliente)||void 0===t?void 0:t.name)||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-row",children:[(0,dt.jsx)("span",{children:"Data:"}),(0,dt.jsxs)("span",{children:[l.date," \xe0s ",l.time]})]}),(0,dt.jsxs)("div",{className:"info-row",children:[(0,dt.jsx)("span",{children:"Status:"}),(0,dt.jsx)("span",{className:"status-text",style:{color:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"concluida":return"#22c55e";case"pago":return"#10b981";case"entregue":return"#06d6a0";case"pendente":return"#f59e0b";default:return"#6b7280"}})(l.status)},children:l.status||"Pendente"})]})]}),(0,dt.jsxs)("div",{className:"items-section",children:[(0,dt.jsx)("h4",{children:"Itens"}),null===(n=l.itens)||void 0===n?void 0:n.map(((e,t)=>(0,dt.jsxs)("div",{className:"item-row",children:[(0,dt.jsxs)("div",{className:"item-info",children:[(0,dt.jsx)("span",{className:"item-name",children:e.nome}),(0,dt.jsxs)("span",{className:"item-qty",children:["Qtd: ",e.quantidade]})]}),(0,dt.jsx)("div",{className:"item-total",children:G(e.preco*e.quantidade)})]},`item-${t}-${e.id||e.nome}`)))]}),(0,dt.jsxs)("div",{className:"totals-section",children:[(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Total:"}),(0,dt.jsx)("span",{className:"total-value",children:G(l.valorTotal||0)})]}),l.valorPago>0&&(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Pago:"}),(0,dt.jsx)("span",{children:G(l.valorPago)})]}),l.troco>0&&(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Troco:"}),(0,dt.jsx)("span",{children:G(l.troco)})]})]}),(0,dt.jsxs)("div",{className:"modal-actions",children:[(0,dt.jsx)("button",{className:"btn-cancel",onClick:()=>Q(!0),children:"\u274c Cancelar Venda"}),!("pago"===(null===(r=l.status)||void 0===r?void 0:r.toLowerCase())&&(null===(A=l.itens)||void 0===A?void 0:A.filter((e=>e.entregue)).length)===l.totalItens)&&(0,dt.jsx)("button",{className:"btn-update",onClick:()=>{M("/vendas",{state:{editSale:l}})},children:"\ud83d\udd04 Atualizar"})]})]})]})}),D&&(0,dt.jsx)("div",{className:"cancel-popup",onClick:()=>Q(!1),children:(0,dt.jsxs)("div",{className:"cancel-popup-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsx)("h3",{children:"Cancelar Venda"}),(0,dt.jsx)("p",{children:"Tem certeza que deseja cancelar esta venda?"}),(0,dt.jsx)("textarea",{placeholder:"Motivo do cancelamento (m\xednimo 10 caracteres)...",value:x,onChange:e=>R(e.target.value),rows:4}),(0,dt.jsxs)("div",{className:"cancel-popup-actions",children:[(0,dt.jsx)("button",{className:"btn-cancel-action",onClick:()=>Q(!1),children:"Voltar"}),(0,dt.jsx)("button",{className:"btn-confirm-action",onClick:async()=>{if(x.trim().length<10)alert("O motivo deve ter pelo menos 10 caracteres");else try{var e;await(0,ht.addDoc)((0,ht.collection)(ut.db,"VendasCanceladas"),{...l,canceladoPor:(null===(e=ut.j.currentUser)||void 0===e?void 0:e.displayName)||"Usu\xe1rio",canceladoEm:new Date,motivoCancelamento:x});const t=(0,ht.query)((0,ht.collection)(ut.db,"Vendas"),(0,ht.where)("id","==",l.id));(await(0,ht.getDocs)(t)).forEach((async e=>{await(0,ht.deleteDoc)((0,ht.doc)(ut.db,"Vendas",e.id))})),alert("Venda cancelada com sucesso!"),Q(!1),R(""),K(),H()}catch(t){console.error("Erro ao cancelar venda:",t),alert("Erro ao cancelar venda")}},children:"Confirmar"})]})]})})]})};const hr=class{constructor(e){var t,n;"object"===typeof e&&null!==e?(this.id=e.id||"",this.date=e.createdAt||e.date||(new Date).toISOString(),this.amount=e.valorTotal||e.amount||0,this.status=e.status||"Pendente",this.customer=(null===(t=e.cliente)||void 0===t?void 0:t.nome)||e.customer||"",this.customerPhone=(null===(n=e.cliente)||void 0===n?void 0:n.telefone)||"",this.items=e.itens||[],this.valorPago=e.valorPago||0,this.doacao=e.doacao||0,this.troco=e.troco||0,this.statusPagamento=e.statusPagamento||"Pendente",this.deliveryStatus=e.deliveryStatus||"Pendente",this.pago=e.pago||!1,this.entregue=e.entregue||!1,this.createdAt=e.createdAt||(new Date).toISOString(),this.updatedAt=e.updatedAt||(new Date).toISOString()):(this.id=e||"",this.date=arguments[1]||(new Date).toISOString(),this.amount=arguments[2]||0,this.status=arguments[3]||"Pendente",this.customer=arguments[4]||"",this.customerPhone="",this.items=[],this.valorPago=0,this.doacao=0,this.troco=0,this.statusPagamento="Pendente",this.deliveryStatus="Pendente",this.pago=!1,this.entregue=!1,this.createdAt=this.date,this.updatedAt=this.date)}getFormattedDate(){try{return new Date(this.date).toLocaleDateString("pt-BR")}catch(e){return"Data inv\xe1lida"}}getFormattedAmount(){try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(this.amount)}catch(e){return"R$ 0,00"}}getFormattedCustomer(){return this.customerPhone?`${this.customer} (${this.customerPhone})`:this.customer}getPaymentStatus(){return this.statusPagamento}getDeliveryStatus(){return this.deliveryStatus}isFullyPaid(){return this.pago}isFullyDelivered(){return this.entregue}},dr=()=>{const{getDocuments:t,addDocument:r,updateDocument:A,deleteDocument:i}=(()=>{const[t,n]=(0,e.useState)(null),[r,A]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{const e=(0,ct.hg)(ut.j,(e=>{n(e),A(!1)}));return e}),[]),{user:t,loading:r,login:async(e,t)=>{try{await(0,ct.x9)(ut.j,e,t)}catch(c){throw c}},logout:async()=>{try{await(0,ct.CI)(ut.j)}catch(c){throw c}},addDocument:async(e,t)=>{try{return(await(0,ht.addDoc)((0,ht.collection)(ut.db,e),t)).id}catch(c){throw c}},getDocuments:async e=>{try{const t=await(0,ht.getDocs)((0,ht.collection)(ut.db,e)),n=[];return t.forEach((e=>{n.push({id:e.id,...e.data()})})),n}catch(c){throw c}},updateDocument:async(e,t,n)=>{try{const r=(0,ht.doc)(ut.db,e,t);await(0,ht.updateDoc)(r,n)}catch(c){throw c}},deleteDocument:async(e,t)=>{try{await(0,ht.deleteDoc)((0,ht.doc)(ut.db,e,t))}catch(c){throw c}}}})(),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)(null),h=(0,e.useCallback)((async()=>{try{l(!0),u(null);(new Date).getFullYear();const e=[],{collection:t,getDocs:r}=await Promise.resolve().then(n.bind(n,667)),{db:A}=await Promise.resolve().then(n.bind(n,662)),i=t(A,"Vendas");(await r(i)).forEach((t=>{e.push({id:t.id,...t.data(),date:t.data().createdAt})}));const s=e.map((e=>new hr(e)));o(s)}catch(e){u(e.message)}finally{l(!1)}}),[t]);(0,e.useEffect)((()=>{h()}),[h]);return{sales:s,loading:a,error:c,addSale:async e=>{try{const{collection:t,addDoc:r}=await Promise.resolve().then(n.bind(n,667)),{db:A}=await Promise.resolve().then(n.bind(n,662)),i=await r(t(A,"Vendas"),e),s=new hr({...e,id:i.id});return o((e=>[...e,s])),i.id}catch(t){throw u(t.message),t}},updateSale:async(e,t)=>{try{const{doc:r,updateDoc:A}=await Promise.resolve().then(n.bind(n,667)),{db:i}=await Promise.resolve().then(n.bind(n,662)),s=r(i,"Vendas",e);await A(s,t),o((n=>n.map((n=>n.id===e?new hr({...n,...t}):n))))}catch(r){throw u(r.message),r}},removeSale:async e=>{try{const{doc:t,deleteDoc:r}=await Promise.resolve().then(n.bind(n,667)),{db:A}=await Promise.resolve().then(n.bind(n,662)),i=t(A,"Vendas",e);await r(i),o((t=>t.filter((t=>t.id!==e))))}catch(t){throw u(t.message),t}},fetchSales:h,getSalesByDateRange:(e,t)=>s.filter((n=>{const r=new Date(n.date);return r>=e&&r<=t})),getTotalSales:()=>s.reduce(((e,t)=>e+t.amount),0),getSalesByStatus:e=>s.filter((t=>t.status===e))}},fr=e=>{var t,n,r,A,i,s,o;let{sale:a,onBack:l}=e;if(!a)return(0,dt.jsx)("div",{className:"sales-view",children:(0,dt.jsxs)("div",{className:"no-sale",children:[(0,dt.jsx)("h2",{children:"Venda n\xe3o encontrada"}),(0,dt.jsx)("button",{onClick:l,children:"Voltar"})]})});const c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),u=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pago":return"paid";case"entregue":return"delivered";case"pendente":default:return"pending";case"parcialmente pago":return"partial"}};return(0,dt.jsxs)("div",{className:"sales-view",children:[(0,dt.jsxs)("header",{className:"view-header",children:[(0,dt.jsx)("button",{className:"back-button",onClick:l,children:"\u2190 Voltar"}),(0,dt.jsxs)("h1",{children:["Detalhes da Venda #",a.id]}),(0,dt.jsx)("div",{className:`sale-status ${u(a.status)}`,children:a.status||"Pendente"})]}),(0,dt.jsxs)("div",{className:"sale-details",children:[(0,dt.jsxs)("section",{className:"sale-info-section",children:[(0,dt.jsx)("h2",{children:"Informa\xe7\xf5es Gerais"}),(0,dt.jsxs)("div",{className:"info-grid",children:[(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Cliente:"}),(0,dt.jsx)("span",{children:(null===(t=a.cliente)||void 0===t?void 0:t.nome)||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Telefone:"}),(0,dt.jsx)("span",{children:(null===(n=a.cliente)||void 0===n?void 0:n.telefone)||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Data:"}),(0,dt.jsx)("span",{children:(null===(r=a.createdAt)||void 0===r||null===(A=r.toDate)||void 0===A?void 0:A.call(r).toLocaleDateString("pt-BR"))||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Hora:"}),(0,dt.jsx)("span",{children:(null===(i=a.createdAt)||void 0===i||null===(s=i.toDate)||void 0===s?void 0:s.call(i).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Status:"}),(0,dt.jsx)("span",{className:`status ${u(a.status)}`,children:a.status||"Pendente"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Status Pagamento:"}),(0,dt.jsx)("span",{children:a.statusPagamento||"N/A"})]}),(0,dt.jsxs)("div",{className:"info-item",children:[(0,dt.jsx)("label",{children:"Status Entrega:"}),(0,dt.jsx)("span",{children:a.deliveryStatus||"N/A"})]})]})]}),(0,dt.jsxs)("section",{className:"sale-items-section",children:[(0,dt.jsx)("h2",{children:"Itens da Venda"}),(0,dt.jsxs)("div",{className:"items-table",children:[(0,dt.jsxs)("div",{className:"table-header",children:[(0,dt.jsx)("span",{children:"Item"}),(0,dt.jsx)("span",{children:"Qtd"}),(0,dt.jsx)("span",{children:"Pre\xe7o Unit."}),(0,dt.jsx)("span",{children:"Total"}),(0,dt.jsx)("span",{children:"Pago"}),(0,dt.jsx)("span",{children:"Entregue"})]}),null===(o=a.itens)||void 0===o?void 0:o.map(((e,t)=>(0,dt.jsxs)("div",{className:"table-row",children:[(0,dt.jsx)("span",{className:"item-name",children:e.nome}),(0,dt.jsx)("span",{children:e.quantidade}),(0,dt.jsx)("span",{children:c(e.preco)}),(0,dt.jsx)("span",{children:c(e.preco*e.quantidade)}),(0,dt.jsx)("span",{className:e.pago?"yes":"no",children:e.pago?"\u2713":"\u2717"}),(0,dt.jsx)("span",{className:e.entregue?"yes":"no",children:e.entregue?"\u2713":"\u2717"})]},t)))]})]}),(0,dt.jsxs)("section",{className:"sale-totals-section",children:[(0,dt.jsx)("h2",{children:"Resumo Financeiro"}),(0,dt.jsxs)("div",{className:"totals-grid",children:[(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Subtotal:"}),(0,dt.jsx)("span",{children:c(a.valorTotal||0)})]}),a.doacao>0&&(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Doa\xe7\xe3o:"}),(0,dt.jsx)("span",{children:c(a.doacao)})]}),(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Valor Pago:"}),(0,dt.jsx)("span",{children:c(a.valorPago||0)})]}),a.troco>0&&(0,dt.jsxs)("div",{className:"total-row",children:[(0,dt.jsx)("span",{children:"Troco:"}),(0,dt.jsx)("span",{children:c(a.troco)})]}),(0,dt.jsxs)("div",{className:"total-row final",children:[(0,dt.jsx)("span",{children:"Total L\xedquido:"}),(0,dt.jsx)("span",{children:c((a.valorTotal||0)+(a.doacao||0))})]})]})]})]})]})},gr=()=>{const{sales:t,loading:n,error:r,addSale:A,updateSale:i,removeSale:s,getTotalSales:o,getSalesByStatus:a}=dr(),[l,c]=(0,e.useState)("add"),[u,h]=(0,e.useState)({id:"",date:(new Date).toISOString().split("T")[0],amount:100,status:"Pendente",customer:"Cliente Teste"}),d=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return n?(0,dt.jsx)("div",{children:"Carregando vendas..."}):r?(0,dt.jsxs)("div",{children:["Erro: ",r]}):(0,dt.jsxs)("div",{className:"test-sales",children:[(0,dt.jsxs)("header",{className:"test-header",children:[(0,dt.jsx)("h1",{children:"\ud83e\uddea Teste do Sistema de Vendas"}),(0,dt.jsx)("p",{children:"Componente para testar funcionalidades do sistema de vendas"})]}),(0,dt.jsx)("div",{className:"test-controls",children:(0,dt.jsxs)("div",{className:"mode-selector",children:[(0,dt.jsx)("label",{children:"Modo de Teste:"}),(0,dt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,dt.jsx)("option",{value:"add",children:"Adicionar Venda"}),(0,dt.jsx)("option",{value:"update",children:"Atualizar Venda"}),(0,dt.jsx)("option",{value:"remove",children:"Remover Venda"}),(0,dt.jsx)("option",{value:"stats",children:"Estat\xedsticas"})]})]})}),(0,dt.jsxs)("div",{className:"test-content",children:["add"===l&&(0,dt.jsxs)("div",{className:"test-section",children:[(0,dt.jsx)("h2",{children:"Adicionar Venda de Teste"}),(0,dt.jsxs)("div",{className:"form-grid",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Data:"}),(0,dt.jsx)("input",{type:"date",value:u.date,onChange:e=>h({...u,date:e.target.value})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Valor:"}),(0,dt.jsx)("input",{type:"number",step:"0.01",value:u.amount,onChange:e=>h({...u,amount:parseFloat(e.target.value)||0})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Cliente:"}),(0,dt.jsx)("input",{type:"text",value:u.customer,onChange:e=>h({...u,customer:e.target.value})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Status:"}),(0,dt.jsxs)("select",{value:u.status,onChange:e=>h({...u,status:e.target.value}),children:[(0,dt.jsx)("option",{value:"Pendente",children:"Pendente"}),(0,dt.jsx)("option",{value:"Pago",children:"Pago"}),(0,dt.jsx)("option",{value:"Entregue",children:"Entregue"}),(0,dt.jsx)("option",{value:"Parcialmente Pago",children:"Parcialmente Pago"})]})]})]}),(0,dt.jsx)("button",{className:"test-button add",onClick:async()=>{try{const e={date:u.date,amount:u.amount,status:u.status,customer:u.customer};await A(e),alert("Venda de teste adicionada com sucesso!"),h({...u,amount:100,customer:"Cliente Teste"})}catch(e){alert("Erro ao adicionar venda: "+e.message)}},children:"Adicionar Venda"})]}),"update"===l&&(0,dt.jsxs)("div",{className:"test-section",children:[(0,dt.jsx)("h2",{children:"Atualizar Venda"}),(0,dt.jsxs)("div",{className:"form-grid",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Selecionar Venda:"}),(0,dt.jsxs)("select",{value:u.id,onChange:e=>{const n=t.find((t=>t.id===e.target.value));n&&h({...u,id:n.id,amount:n.amount,status:n.status})},children:[(0,dt.jsx)("option",{value:"",children:"Selecione uma venda"}),t.map((e=>(0,dt.jsxs)("option",{value:e.id,children:["#",e.id," - ",e.customer," -"," ",d(e.amount)]},e.id)))]})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Novo Valor:"}),(0,dt.jsx)("input",{type:"number",step:"0.01",value:u.amount,onChange:e=>h({...u,amount:parseFloat(e.target.value)||0})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Novo Status:"}),(0,dt.jsxs)("select",{value:u.status,onChange:e=>h({...u,status:e.target.value}),children:[(0,dt.jsx)("option",{value:"Pendente",children:"Pendente"}),(0,dt.jsx)("option",{value:"Pago",children:"Pago"}),(0,dt.jsx)("option",{value:"Entregue",children:"Entregue"}),(0,dt.jsx)("option",{value:"Parcialmente Pago",children:"Parcialmente Pago"})]})]})]}),(0,dt.jsx)("button",{className:"test-button update",onClick:async()=>{if(u.id)try{const e={status:u.status,amount:u.amount};await i(u.id,e),alert("Venda atualizada com sucesso!")}catch(e){alert("Erro ao atualizar venda: "+e.message)}else alert("Selecione uma venda para atualizar")},children:"Atualizar Venda"})]}),"remove"===l&&(0,dt.jsxs)("div",{className:"test-section",children:[(0,dt.jsx)("h2",{children:"Remover Venda"}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Selecionar Venda:"}),(0,dt.jsxs)("select",{value:u.id,onChange:e=>h({...u,id:e.target.value}),children:[(0,dt.jsx)("option",{value:"",children:"Selecione uma venda"}),t.map((e=>(0,dt.jsxs)("option",{value:e.id,children:["#",e.id," - ",e.customer," - ",d(e.amount)]},e.id)))]})]}),(0,dt.jsx)("button",{className:"test-button remove",onClick:async()=>{if(u.id){if(window.confirm("Tem certeza que deseja remover esta venda?"))try{await s(u.id),alert("Venda removida com sucesso!"),h({...u,id:""})}catch(e){alert("Erro ao remover venda: "+e.message)}}else alert("Selecione uma venda para remover")},children:"Remover Venda"})]}),"stats"===l&&(0,dt.jsxs)("div",{className:"test-section",children:[(0,dt.jsx)("h2",{children:"Estat\xedsticas das Vendas"}),(0,dt.jsxs)("div",{className:"stats-grid",children:[(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Total de Vendas"}),(0,dt.jsx)("p",{className:"stat-value",children:t.length})]}),(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Valor Total"}),(0,dt.jsx)("p",{className:"stat-value",children:d(o())})]}),(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Vendas Pagas"}),(0,dt.jsx)("p",{className:"stat-value",children:a("Pago").length})]}),(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Vendas Pendentes"}),(0,dt.jsx)("p",{className:"stat-value",children:a("Pendente").length})]}),(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Vendas Entregues"}),(0,dt.jsx)("p",{className:"stat-value",children:a("Entregue").length})]}),(0,dt.jsxs)("div",{className:"stat-card",children:[(0,dt.jsx)("h3",{children:"Vendas Parciais"}),(0,dt.jsx)("p",{className:"stat-value",children:a("Parcialmente Pago").length})]})]})]})]}),(0,dt.jsxs)("div",{className:"sales-list-preview",children:[(0,dt.jsxs)("h2",{children:["Vendas Atuais (",t.length,")"]}),(0,dt.jsxs)("div",{className:"sales-preview",children:[t.slice(0,5).map((e=>(0,dt.jsxs)("div",{className:"sale-preview-item",children:[(0,dt.jsxs)("span",{children:["#",e.id]}),(0,dt.jsx)("span",{children:e.customer}),(0,dt.jsx)("span",{children:d(e.amount)}),(0,dt.jsx)("span",{className:`status ${e.status.toLowerCase().replace(" ","-")}`,children:e.status})]},e.id))),t.length>5&&(0,dt.jsxs)("p",{className:"more-sales",children:["... e mais ",t.length-5," vendas"]})]})]})]})};var pr=n(194);const mr=t=>{let{onClose:r}=t;const[A,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)({name:"",discount:0,discountType:"percentage",isActive:!0,startDate:"",endDate:"",criteriaType:"total_quantity",productName:"",minQuantity:5,comboProducts:[]}),[f,g]=(0,e.useState)([]),[p,m]=(0,e.useState)(""),[w,y]=(0,e.useState)([]),[C,B]=(0,e.useState)(!1);(0,e.useEffect)((()=>{I(),v()}),[]);const v=async()=>{try{const{collection:e,getDocs:t}=await Promise.resolve().then(n.bind(n,667)),{db:r}=await Promise.resolve().then(n.bind(n,662)),A=(await t(e(r,"inventory"))).docs.map((e=>({id:e.id,nome:e.data().name||e.data().nome,...e.data()})));g(A)}catch(e){console.error("Erro ao carregar itens:",e)}},E=e=>{if(e.length<1)return void y([]);const t=f.filter((t=>t.nome.toLowerCase().includes(e.toLowerCase())));y(t)},I=async()=>{o(!0);const e=await pr.Promotion.getAll();i(e),o(!1)},b=()=>{d({name:"",discount:0,discountType:"percentage",isActive:!0,startDate:"",endDate:"",criteriaType:"total_quantity",productName:"",minQuantity:5,comboProducts:[]}),m(""),u(null),l(!1)};return(0,dt.jsxs)("div",{className:"promotions-manager",children:[(0,dt.jsxs)("div",{className:"promo-header",children:[(0,dt.jsx)("h2",{children:"\ud83c\udfaf Gerenciar Promo\xe7\xf5es"}),(0,dt.jsx)("button",{className:"close-btn",onClick:r,children:"\u2715"})]}),a?(0,dt.jsxs)("form",{className:"promo-form",onSubmit:async e=>{e.preventDefault();const t=[];if("product_quantity"===h.criteriaType){if(!h.productName)return void alert("Selecione um produto da lista");t.push({type:"product_quantity",productName:h.productName,minQuantity:parseInt(h.minQuantity)||1})}else if("product_combo"===h.criteriaType){if(h.comboProducts.length<2)return void alert("Adicione pelo menos 2 produtos para o combo");t.push({type:"product_combo",products:h.comboProducts})}else"total_quantity"===h.criteriaType&&t.push({type:"total_quantity",minQuantity:parseInt(h.minQuantity)||1});console.log("[PROMO SAVE] Salvando com criterio:",t);const n={name:h.name,discount:parseFloat(h.discount),discountType:h.discountType,isActive:h.isActive,startDate:h.startDate||null,endDate:h.endDate||null,criterio:t};try{c?await pr.Promotion.update(c.id,n):await pr.Promotion.add(n),await I(),b()}catch(r){console.error("Erro ao salvar promo\xe7\xe3o:",r),alert("Erro ao salvar promo\xe7\xe3o")}},children:[(0,dt.jsx)("h3",{children:c?"Editar Promo\xe7\xe3o":"Nova Promo\xe7\xe3o"}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Nome da Promo\xe7\xe3o *"}),(0,dt.jsx)("input",{type:"text",value:h.name,onChange:e=>d({...h,name:e.target.value}),required:!0})]}),(0,dt.jsxs)("div",{className:"form-row",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Desconto *"}),(0,dt.jsx)("input",{type:"number",step:"0.01",value:h.discount,onChange:e=>d({...h,discount:e.target.value}),required:!0})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Tipo"}),(0,dt.jsxs)("select",{value:h.discountType,onChange:e=>d({...h,discountType:e.target.value}),children:[(0,dt.jsx)("option",{value:"percentage",children:"Porcentagem (%)"}),(0,dt.jsx)("option",{value:"fixed",children:"Valor Fixo (R$)"})]})]})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Crit\xe9rio"}),(0,dt.jsxs)("select",{value:h.criteriaType,onChange:e=>d({...h,criteriaType:e.target.value}),children:[(0,dt.jsx)("option",{value:"total_quantity",children:"Quantidade total de itens"}),(0,dt.jsx)("option",{value:"product_quantity",children:"Quantidade de produto espec\xedfico"}),(0,dt.jsx)("option",{value:"product_combo",children:"Combina\xe7\xe3o de produtos"})]})]}),"product_quantity"===h.criteriaType&&(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Nome do Produto"}),(0,dt.jsxs)("div",{style:{position:"relative"},children:[(0,dt.jsx)("input",{type:"text",value:p,onChange:e=>{m(e.target.value),E(e.target.value),B(!0)},onFocus:()=>B(!0),onBlur:()=>setTimeout((()=>B(!1)),200),placeholder:"Digite para buscar..."}),C&&w.length>0&&(0,dt.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--bg-card)",border:"1px solid var(--border-light)",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,marginTop:"4px"},children:w.map((e=>(0,dt.jsx)("div",{onMouseDown:t=>{t.preventDefault(),d({...h,productName:e.nome}),m(e.nome),B(!1)},style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid var(--border-light)"},onMouseEnter:e=>e.target.style.background="var(--bg-main)",onMouseLeave:e=>e.target.style.background="transparent",children:e.nome},e.id)))})]}),h.productName&&(0,dt.jsx)("div",{style:{marginTop:"12px"},children:(0,dt.jsxs)("div",{style:{padding:"6px 12px",background:"var(--primary)",color:"white",borderRadius:"20px",display:"inline-flex",alignItems:"center",gap:"8px"},children:[h.productName,(0,dt.jsx)("button",{type:"button",onClick:()=>{d({...h,productName:""}),m("")},style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:"\u2715"})]})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Quantidade M\xednima"}),(0,dt.jsx)("input",{type:"number",value:h.minQuantity,onChange:e=>d({...h,minQuantity:e.target.value}),min:"1"})]})]}),"product_combo"===h.criteriaType&&(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Produtos do Combo"}),(0,dt.jsxs)("div",{style:{position:"relative"},children:[(0,dt.jsx)("input",{type:"text",value:p,onChange:e=>{m(e.target.value),E(e.target.value),B(!0)},onFocus:()=>B(!0),onBlur:()=>setTimeout((()=>B(!1)),200),placeholder:"Digite para buscar e adicionar..."}),C&&w.length>0&&(0,dt.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--bg-card)",border:"1px solid var(--border-light)",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,marginTop:"4px"},children:w.map((e=>(0,dt.jsx)("div",{onMouseDown:t=>{t.preventDefault(),h.comboProducts.includes(e.nome)||d({...h,comboProducts:[...h.comboProducts,e.nome]}),m(""),B(!1)},style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid var(--border-light)"},onMouseEnter:e=>e.target.style.background="var(--bg-main)",onMouseLeave:e=>e.target.style.background="transparent",children:e.nome},e.id)))})]}),h.comboProducts.length>0&&(0,dt.jsx)("div",{style:{marginTop:"12px",display:"flex",flexWrap:"wrap",gap:"8px"},children:h.comboProducts.map(((e,t)=>(0,dt.jsxs)("div",{style:{padding:"6px 12px",background:"var(--primary)",color:"white",borderRadius:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[e,(0,dt.jsx)("button",{type:"button",onClick:()=>{d({...h,comboProducts:h.comboProducts.filter(((e,n)=>n!==t))})},style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:"\u2715"})]},t)))})]}),"total_quantity"===h.criteriaType&&(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Quantidade M\xednima Total"}),(0,dt.jsx)("input",{type:"number",value:h.minQuantity,onChange:e=>d({...h,minQuantity:e.target.value}),min:"1"})]}),(0,dt.jsxs)("div",{className:"form-row",children:[(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Data In\xedcio"}),(0,dt.jsx)("input",{type:"date",value:h.startDate,onChange:e=>d({...h,startDate:e.target.value})})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Data Fim"}),(0,dt.jsx)("input",{type:"date",value:h.endDate,onChange:e=>d({...h,endDate:e.target.value})})]})]}),(0,dt.jsx)("div",{className:"form-group checkbox",children:(0,dt.jsxs)("label",{children:[(0,dt.jsx)("input",{type:"checkbox",checked:h.isActive,onChange:e=>d({...h,isActive:e.target.checked})}),"Promo\xe7\xe3o ativa"]})}),(0,dt.jsxs)("div",{className:"form-actions",children:[(0,dt.jsx)("button",{type:"button",onClick:b,className:"cancel-btn",children:"Cancelar"}),(0,dt.jsx)("button",{type:"submit",className:"save-btn",children:c?"Atualizar":"Criar"})]})]}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("button",{className:"add-promo-btn",onClick:()=>l(!0),children:"\u2795 Nova Promo\xe7\xe3o"}),s?(0,dt.jsx)("div",{className:"loading",children:"Carregando..."}):(0,dt.jsx)("div",{className:"promos-list",children:0===A.length?(0,dt.jsx)("p",{className:"empty-state",children:"Nenhuma promo\xe7\xe3o cadastrada"}):A.map((e=>(0,dt.jsxs)("div",{className:"promo-card",children:[(0,dt.jsxs)("div",{className:"promo-info",children:[(0,dt.jsx)("h3",{children:e.name}),(0,dt.jsx)("span",{className:"promo-discount",children:"percentage"===e.discountType?`${e.discount}% de desconto`:`R$ ${e.discount.toFixed(2)} de desconto`}),e.criterio&&e.criterio.length>0&&(0,dt.jsxs)("span",{className:"promo-criteria",children:["product_quantity"===e.criterio[0].type&&`M\xedn. ${e.criterio[0].minQuantity}x ${e.criterio[0].productName}`,"product_combo"===e.criterio[0].type&&`Combo: ${e.criterio[0].products.join(", ")}`,"total_quantity"===e.criterio[0].type&&`M\xedn. ${e.criterio[0].minQuantity} itens no total`]})]}),(0,dt.jsxs)("div",{className:"promo-card-footer",children:[(0,dt.jsx)("span",{className:"status-badge "+(e.isActive?"active":"inactive"),children:e.isActive?"\u2713 Ativa":"\u2715 Inativa"}),(0,dt.jsxs)("div",{className:"promo-actions",children:[(0,dt.jsx)("button",{onClick:()=>(e=>{u(e);let t="total_quantity",n="",r=5,A=[];if(e.criterio&&e.criterio.length>0){const i=e.criterio[0];t=i.type,"product_quantity"===i.type?(n=i.productName||"",r=i.minQuantity||1,m(n)):"product_combo"===i.type?A=i.products||[]:"total_quantity"===i.type&&(r=i.minQuantity||1)}d({name:e.name,discount:e.discount,discountType:e.discountType,isActive:e.isActive,startDate:e.startDate||"",endDate:e.endDate||"",criteriaType:t,productName:n,minQuantity:r,comboProducts:A}),l(!0)})(e),children:"\u270f\ufe0f"}),(0,dt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Deseja realmente excluir esta promo\xe7\xe3o?"))try{await pr.Promotion.delete(e),await I()}catch(t){console.error("Erro ao deletar promo\xe7\xe3o:",t),alert("Erro ao deletar promo\xe7\xe3o")}})(e.id),children:"\ud83d\uddd1\ufe0f"})]})]})]},e.id)))})]})]})},wr=t=>{let{onClose:n,onRestore:r}=t;const[A,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0);(0,e.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=(await(0,ht.getDocs)((0,ht.collection)(ut.db,"VendasCanceladas"))).docs.map((e=>({docId:e.id,...e.data()})));i(e)}catch(e){console.error("Erro ao buscar vendas canceladas:",e)}finally{o(!1)}};return(0,dt.jsx)("div",{className:"canceled-modal",onClick:n,children:(0,dt.jsxs)("div",{className:"canceled-content",onClick:e=>e.stopPropagation(),children:[(0,dt.jsxs)("div",{className:"canceled-header",children:[(0,dt.jsx)("h2",{children:"\ud83d\uddd1\ufe0f Vendas Canceladas"}),(0,dt.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),(0,dt.jsx)("div",{className:"canceled-body",children:s?(0,dt.jsx)("div",{className:"loading",children:"Carregando..."}):0===A.length?(0,dt.jsx)("div",{className:"empty",children:"Nenhuma venda cancelada"}):A.map((e=>{var t,n;return(0,dt.jsxs)("div",{className:"canceled-card",children:[(0,dt.jsxs)("div",{className:"canceled-card-header",children:[(0,dt.jsx)("span",{className:"canceled-client",children:(null===(t=e.cliente)||void 0===t?void 0:t.name)||"Cliente"}),(0,dt.jsx)("span",{className:"canceled-total",children:(n=e.valorTotal||0,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n))})]}),(0,dt.jsxs)("div",{className:"canceled-info",children:[(0,dt.jsxs)("span",{children:["\ud83d\udcc5 ",e.date," \u2022 ",e.time]}),(0,dt.jsxs)("span",{children:["\ud83d\udce6 ",e.totalItens," itens"]})]}),(0,dt.jsxs)("div",{className:"canceled-reason",children:[(0,dt.jsx)("strong",{children:"Motivo:"})," ",e.motivoCancelamento]}),(0,dt.jsxs)("div",{className:"canceled-user",children:[(0,dt.jsx)("strong",{children:"Cancelado por:"})," ",e.canceladoPor]}),(0,dt.jsx)("button",{className:"restore-btn",onClick:()=>(async e=>{if(window.confirm("Restaurar esta venda?"))try{const{docId:t,canceladoPor:n,canceladoEm:A,motivoCancelamento:i,...s}=e,o={...s,createdAt:s.createdAt||new Date,updatedAt:new Date};await(0,ht.addDoc)((0,ht.collection)(ut.db,"Vendas"),o),await(0,ht.deleteDoc)((0,ht.doc)(ut.db,"VendasCanceladas",t)),alert("Venda restaurada com sucesso!"),r&&r(),a()}catch(t){console.error("Erro ao restaurar venda:",t),alert("Erro ao restaurar venda")}})(e),children:"\u267b\ufe0f Restaurar"})]},e.docId)}))})]})})},yr=t=>{let{onClose:n}=t;const[r,A]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)({name:"",email:"",role:"user"});(0,e.useEffect)((()=>{h(),u()}),[]);const u=async()=>{const e=ut.j.currentUser;if(e&&"01leonardoaraujo@gmail.com"===e.email){const t=(0,ht.query)((0,ht.collection)(ut.db,"users"),(0,ht.where)("email","==",e.email)),n=await(0,ht.getDocs)(t);if(n.empty)await(0,ht.addDoc)((0,ht.collection)(ut.db,"users"),{name:e.displayName||"Leonardo Araujo",email:e.email,role:"admin",createdAt:new Date}),await h();else{const t=n.docs[0],r={};"admin"!==t.data().role&&(r.role="admin"),!t.data().name&&e.displayName&&(r.name=e.displayName),Object.keys(r).length>0&&(await(0,ht.updateDoc)((0,ht.doc)(ut.db,"users",t.id),r),await h())}}},h=async()=>{s(!0);try{const e=(await(0,ht.getDocs)((0,ht.collection)(ut.db,"users"))).docs.map((e=>{var t;const n=e.data();return{id:e.id,...n,name:n.displayName||n.name||(null===(t=n.email)||void 0===t?void 0:t.split("@")[0])||"Usu\xe1rio"}}));A(e)}catch(e){console.error("Erro ao carregar usu\xe1rios:",e)}finally{s(!1)}},d=()=>{c({name:"",email:"",role:"user"}),a(!1)};return(0,dt.jsxs)("div",{className:"users-manager",children:[(0,dt.jsxs)("div",{className:"users-header",children:[(0,dt.jsx)("h2",{children:"\ud83d\udc65 Gerenciar Usu\xe1rios"}),(0,dt.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),o?(0,dt.jsxs)("form",{className:"user-form",onSubmit:async e=>{e.preventDefault();try{const e=(0,ht.query)((0,ht.collection)(ut.db,"users"),(0,ht.where)("email","==",l.email)),t=await(0,ht.getDocs)(e);if(t.empty)await(0,ht.addDoc)((0,ht.collection)(ut.db,"users"),{name:l.name,email:l.email,role:l.role,createdAt:new Date}),alert("Usu\xe1rio adicionado com sucesso!");else{const e=t.docs[0];await(0,ht.updateDoc)((0,ht.doc)(ut.db,"users",e.id),{name:l.name,role:l.role}),alert("Usu\xe1rio atualizado com sucesso!")}await h(),d()}catch(t){console.error("Erro ao salvar usu\xe1rio:",t),alert("Erro ao salvar usu\xe1rio")}},children:[(0,dt.jsx)("h3",{children:"Adicionar Usu\xe1rio"}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Nome *"}),(0,dt.jsx)("input",{type:"text",value:l.name,onChange:e=>c({...l,name:e.target.value}),required:!0,placeholder:"Nome do usu\xe1rio"})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Email *"}),(0,dt.jsx)("input",{type:"email",value:l.email,onChange:e=>c({...l,email:e.target.value}),required:!0,placeholder:"email@exemplo.com",readOnly:""!==l.email})]}),(0,dt.jsxs)("div",{className:"form-group",children:[(0,dt.jsx)("label",{children:"Fun\xe7\xe3o"}),(0,dt.jsxs)("select",{value:l.role,onChange:e=>c({...l,role:e.target.value}),children:[(0,dt.jsx)("option",{value:"user",children:"Usu\xe1rio"}),(0,dt.jsx)("option",{value:"gerente",children:"Gerente"}),(0,dt.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,dt.jsxs)("div",{className:"form-actions",children:[(0,dt.jsx)("button",{type:"button",onClick:d,className:"cancel-btn",children:"Cancelar"}),(0,dt.jsx)("button",{type:"submit",className:"save-btn",children:"Adicionar"})]})]}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("button",{className:"add-user-btn",onClick:()=>a(!0),children:"\u2795 Adicionar Usu\xe1rio"}),i?(0,dt.jsx)("div",{className:"loading",children:"Carregando..."}):(0,dt.jsx)("div",{className:"users-list",children:0===r.length?(0,dt.jsx)("p",{className:"empty-state",children:"Nenhum usu\xe1rio cadastrado"}):r.map((e=>(0,dt.jsxs)("div",{className:"user-card",children:[(0,dt.jsxs)("div",{className:"user-info",children:[(0,dt.jsx)("h3",{children:e.name}),(0,dt.jsx)("span",{className:"user-email",children:e.email}),(0,dt.jsx)("span",{className:`role-badge ${e.role}`,children:"admin"===e.role?"\ud83d\udc51 Admin":"gerente"===e.role?"\ud83d\udcca Gerente":"\ud83d\udc64 Usu\xe1rio"})]}),(0,dt.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,dt.jsx)("button",{className:"edit-btn",onClick:()=>{c({name:e.displayName||e.name||e.email.split("@")[0],email:e.email,role:e.role}),a(!0)},children:"\u270f\ufe0f"}),(0,dt.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Deseja realmente remover este usu\xe1rio?"))try{await(0,ht.deleteDoc)((0,ht.doc)(ut.db,"users",e)),await h(),alert("Usu\xe1rio removido com sucesso!")}catch(t){console.error("Erro ao remover usu\xe1rio:",t),alert("Erro ao remover usu\xe1rio")}})(e.id),children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))})]})]})},Cr=()=>{const[t,n]=(0,e.useState)(null),[r,A]=(0,e.useState)("user"),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)("dark"===document.documentElement.getAttribute("data-theme"));(0,e.useEffect)((()=>{const e=(0,ct.hg)(ut.j,(async e=>{n(e),e&&await g(e.email),s(!1)}));return()=>e()}),[]);const g=async e=>{try{const t=(0,ht.query)((0,ht.collection)(ut.db,"users"),(0,ht.where)("email","==",e)),n=await(0,ht.getDocs)(t);if(n.empty)A("user");else{const e=n.docs[0].data();A(e.role||"user")}}catch(t){console.error("Erro ao carregar role do usu\xe1rio:",t),A("user")}};return i?(0,dt.jsx)("div",{className:"account-container",children:(0,dt.jsxs)("div",{className:"loading-spinner",children:[(0,dt.jsx)("div",{className:"spinner"}),(0,dt.jsx)("p",{children:"Carregando..."})]})}):(0,dt.jsxs)("div",{className:"account-container",children:[t?(0,dt.jsxs)("div",{className:"account-content",children:[(0,dt.jsx)("div",{className:"profile-card",children:(0,dt.jsxs)("div",{className:"profile-header",children:[(0,dt.jsxs)("div",{className:"avatar-container",children:[(0,dt.jsx)("img",{src:t.photoURL||"/logo192.png",alt:"Avatar",className:"avatar"}),(0,dt.jsx)("div",{className:"status-indicator"})]}),(0,dt.jsxs)("div",{className:"profile-info",children:[(0,dt.jsx)("h1",{className:"profile-name",children:t.displayName||"Usu\xe1rio"}),(0,dt.jsx)("p",{className:"profile-email",children:t.email})]})]})}),(0,dt.jsxs)("div",{className:"settings-card",children:[(0,dt.jsx)("h2",{className:"settings-title",children:"\u2699\ufe0f Configura\xe7\xf5es"}),(0,dt.jsxs)("div",{className:"setting-item",children:[(0,dt.jsxs)("div",{className:"setting-info",children:[(0,dt.jsx)("span",{className:"setting-label",children:"Tema da Interface"}),(0,dt.jsx)("span",{className:"setting-description",children:d?"Modo escuro ativo":"Modo claro ativo"})]}),(0,dt.jsxs)("button",{className:"theme-toggle-btn",onClick:()=>{const e="light"===(document.documentElement.getAttribute("data-theme")||"light")?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),f("dark"===e)},title:d?"Mudar para tema claro":"Mudar para tema escuro",children:[(0,dt.jsx)("span",{className:"theme-icon",children:d?"\u2600\ufe0f":"\ud83c\udf19"}),(0,dt.jsx)("span",{className:"theme-text",children:d?"Claro":"Escuro"})]})]}),(0,dt.jsxs)("div",{className:"setting-item",children:[(0,dt.jsxs)("div",{className:"setting-info",children:[(0,dt.jsx)("span",{className:"setting-label",children:"Tipo de Usu\xe1rio"}),(0,dt.jsx)("span",{className:"setting-description",children:"admin"===r?"Acesso total ao sistema":"gerente"===r?"Acesso de gerenciamento":"Acesso b\xe1sico ao sistema"})]}),(0,dt.jsx)("div",{className:`status-badge ${r}`,children:"admin"===r?"\ud83d\udc51 Administrador":"gerente"===r?"\ud83d\udcca Gerente":"\ud83d\udc64 Usu\xe1rio"})]}),(0,dt.jsxs)("div",{className:"setting-item",children:[(0,dt.jsxs)("div",{className:"setting-info",children:[(0,dt.jsx)("span",{className:"setting-label",children:"Tipo de Conta"}),(0,dt.jsx)("span",{className:"setting-description",children:"Conta Google conectada"})]}),(0,dt.jsx)("div",{className:"account-type-badge",children:(0,dt.jsx)("span",{children:"\ud83d\udd35 Google"})})]})]}),("admin"===r||"gerente"===r)&&(0,dt.jsxs)("div",{className:"actions-card",children:[(0,dt.jsx)("h2",{className:"actions-title",children:"\ud83d\udee0\ufe0f A\xe7\xf5es R\xe1pidas"}),"admin"===r&&(0,dt.jsxs)("button",{className:"action-btn primary",onClick:()=>h(!0),children:[(0,dt.jsx)("span",{className:"action-icon",children:"\ud83d\udc65"}),(0,dt.jsxs)("div",{className:"action-content",children:[(0,dt.jsx)("span",{className:"action-label",children:"Gerenciar Usu\xe1rios"}),(0,dt.jsx)("span",{className:"action-description",children:"Adicionar ou remover usu\xe1rios"})]})]}),(0,dt.jsxs)("button",{className:"action-btn secondary",onClick:()=>a(!0),children:[(0,dt.jsx)("span",{className:"action-icon",children:"\ud83c\udfaf"}),(0,dt.jsxs)("div",{className:"action-content",children:[(0,dt.jsx)("span",{className:"action-label",children:"Promo\xe7\xf5es"}),(0,dt.jsx)("span",{className:"action-description",children:"Configurar ofertas e descontos"})]})]}),(0,dt.jsxs)("button",{className:"action-btn tertiary",onClick:()=>c(!0),children:[(0,dt.jsx)("span",{className:"action-icon",children:"\ud83d\uddd1\ufe0f"}),(0,dt.jsxs)("div",{className:"action-content",children:[(0,dt.jsx)("span",{className:"action-label",children:"Cancelamentos"}),(0,dt.jsx)("span",{className:"action-description",children:"Ver vendas canceladas"})]})]})]}),(0,dt.jsx)("div",{className:"logout-section",children:(0,dt.jsxs)("button",{className:"logout-btn",onClick:async()=>{try{await(0,ct.CI)(ut.j)}catch(e){console.error("Erro no logout:",e)}},children:[(0,dt.jsx)("span",{className:"logout-icon",children:"\ud83d\udeaa"}),(0,dt.jsx)("span",{children:"Sair da Conta"})]})})]}):(0,dt.jsx)("div",{className:"login-content",children:(0,dt.jsxs)("div",{className:"login-card",children:[(0,dt.jsxs)("div",{className:"login-header",children:[(0,dt.jsx)("div",{className:"login-icon",children:"\ud83d\udd10"}),(0,dt.jsx)("h1",{children:"Bem-vindo!"}),(0,dt.jsx)("p",{children:"Fa\xe7a login para acessar sua conta"})]}),(0,dt.jsxs)("button",{className:"google-login-btn",onClick:async()=>{const e=new ct.HF;try{await(0,ct.df)(ut.j,e)}catch(t){console.error("Erro no login com Google:",t)}},children:[(0,dt.jsx)("span",{className:"google-icon",children:"\ud83d\udd35"}),(0,dt.jsx)("span",{children:"Entrar com Google"})]}),(0,dt.jsx)("div",{className:"login-footer",children:(0,dt.jsx)("p",{children:"Acesso seguro e r\xe1pido com sua conta Google"})})]})}),o&&(0,dt.jsx)(mr,{onClose:()=>a(!1)}),l&&(0,dt.jsx)(wr,{onClose:()=>c(!1),onRestore:()=>window.dispatchEvent(new Event("salesUpdated"))}),u&&(0,dt.jsx)(yr,{onClose:()=>h(!1)})]})},Br=e=>{let{progress:t,label:n,showPercentage:r=!0}=e;const A=Math.min(Math.max(t,0),100);return(0,dt.jsxs)("div",{className:"progress-bar-container",children:[n&&(0,dt.jsx)("div",{className:"progress-label",children:n}),(0,dt.jsx)("div",{className:"progress-bar",children:(0,dt.jsx)("div",{className:"progress-fill",style:{width:`${A}%`}})}),r&&(0,dt.jsxs)("div",{className:"progress-text",children:[A,"%"]})]})},vr=t=>{let{children:n}=t;const[r,A]=(0,e.useState)(null),[i,s]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{const e=(0,ct.hg)(ut.j,(e=>{A(e),s(!1)}));return()=>e()}),[]),i?(0,dt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--bg-main)",color:"var(--text-primary)"},children:(0,dt.jsxs)("div",{style:{textAlign:"center"},children:[(0,dt.jsx)("div",{className:"spinner",style:{width:"50px",height:"50px",border:"4px solid var(--border-color)",borderTop:"4px solid var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,dt.jsx)("p",{children:"Verificando autentica\xe7\xe3o..."})]})}):r?n:(0,dt.jsx)(we,{to:"/conta",replace:!0})};function Er(){const[t,r]=(0,e.useState)(!1),[A,i]=(0,e.useState)("user");J();return(0,e.useEffect)((()=>{const e=(0,ct.hg)(ut.j,(async e=>{if(r(!!e),e)try{const{collection:t,query:r,where:A,getDocs:s}=await Promise.resolve().then(n.bind(n,667)),{db:o}=await Promise.resolve().then(n.bind(n,662)),a=r(t(o,"users"),A("email","==",e.email)),l=await s(a);if(!l.empty){const e=l.docs[0].data();i(e.role||"user")}}catch(t){console.error("Erro ao carregar role:",t)}}));return()=>e()}),[]),(0,dt.jsxs)("div",{className:"app",children:[t&&(0,dt.jsx)("header",{className:"app-header",children:(0,dt.jsx)("h1",{children:"Sistema de Vendas Instituto Giri"})}),(0,dt.jsx)("div",{className:"app-content",children:(0,dt.jsxs)(Be,{children:[(0,dt.jsx)(ye,{path:"/conta",element:(0,dt.jsx)(Cr,{})}),(0,dt.jsx)(ye,{path:"/account",element:(0,dt.jsx)(Cr,{})}),(0,dt.jsx)(ye,{path:"/",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(gt,{})})}),(0,dt.jsx)(ye,{path:"/estoque",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(pt,{})})}),(0,dt.jsx)(ye,{path:"/vendas",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(Ht,{})})}),(0,dt.jsx)(ye,{path:"/historico",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(ur,{})})}),(0,dt.jsx)(ye,{path:"/view",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(fr,{})})}),(0,dt.jsx)(ye,{path:"/test",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(gr,{})})}),(0,dt.jsx)(ye,{path:"/progress",element:(0,dt.jsx)(vr,{children:(0,dt.jsx)(Br,{progress:75,label:"Progresso de Vendas"})})})]})}),(0,dt.jsxs)("nav",{className:"app-nav",children:[t&&(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)(rt,{to:"/",className:e=>{let{isActive:t}=e;return"nav-item "+(t?"active":"")},children:[(0,dt.jsx)("span",{className:"nav-icon",children:"\ud83c\udfe0"}),(0,dt.jsx)("span",{className:"nav-label",children:"Dashboard"})]}),(0,dt.jsxs)(rt,{to:"/estoque",className:e=>{let{isActive:t}=e;return"nav-item "+(t?"active":"")},children:[(0,dt.jsx)("span",{className:"nav-icon",children:"\ud83d\udce6"}),(0,dt.jsx)("span",{className:"nav-label",children:"Estoque"})]}),(0,dt.jsxs)(rt,{to:"/vendas",className:e=>{let{isActive:t}=e;return"nav-item "+(t?"active":"")},children:[(0,dt.jsx)("span",{className:"nav-icon",children:"\ud83d\udcb0"}),(0,dt.jsx)("span",{className:"nav-label",children:"Vendas"})]}),(0,dt.jsxs)(rt,{to:"/historico",className:e=>{let{isActive:t}=e;return"nav-item "+(t?"active":"")},children:[(0,dt.jsx)("span",{className:"nav-icon",children:"\ud83d\udccb"}),(0,dt.jsx)("span",{className:"nav-label",children:"Hist\xf3rico"})]})]}),(0,dt.jsxs)(rt,{to:"/conta",className:e=>{let{isActive:t}=e;return"nav-item "+(t?"active":"")},children:[(0,dt.jsx)("span",{className:"nav-icon",children:"\ud83d\udc64"}),(0,dt.jsx)("span",{className:"nav-label",children:"Conta"})]})]})]})}const Ir=function(){return(0,e.useEffect)((()=>{const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)}),[]),(0,dt.jsx)(et,{children:(0,dt.jsx)(Er,{})})},br=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:A,getLCP:i,getTTFB:s}=t;n(e),r(e),A(e),i(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,dt.jsx)(e.StrictMode,{children:(0,dt.jsx)(Ir,{})})),br()})()})();
//# sourceMappingURL=main.9eec1417.js.map